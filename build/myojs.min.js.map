{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///myojs.min.js","webpack:///webpack/bootstrap 83c85ca773117eda10a3","webpack:///./src/Index.js","webpack:///external \"util\"","webpack:///external \"events\"","webpack:///./~/ws/lib/PerMessageDeflate.js","webpack:///./src/CircularBuffer.js","webpack:///./src/Frame.js","webpack:///./src/Myo.js","webpack:///./src/Pose.js","webpack:///./src/Quaternion.js","webpack:///./src/Vector3.js","webpack:///./src/connection/BaseConnection.js","webpack:///./~/options/lib/options.js","webpack:///./~/ws/lib/BufferUtil.js","webpack:///./~/ws/lib/ErrorCodes.js","webpack:///./~/ws/lib/Extensions.js","webpack:///./~/ws/lib/Receiver.js","webpack:///./~/ws/lib/Sender.js","webpack:///./~/ws/lib/WebSocket.js","webpack:///external \"crypto\"","webpack:///external \"http\"","webpack:///external \"url\"","webpack:///./src/Hub.js","webpack:///./~/ultron/index.js","webpack:///./~/ws/index.js","webpack:///./~/ws/lib/BufferPool.js","webpack:///./~/ws/lib/BufferUtil.fallback.js","webpack:///./~/ws/lib/Receiver.hixie.js","webpack:///./~/ws/lib/Sender.hixie.js","webpack:///./~/ws/lib/Validation.fallback.js","webpack:///./~/ws/lib/Validation.js","webpack:///./~/ws/lib/WebSocketServer.js","webpack:///external \"fs\"","webpack:///external \"https\"","webpack:///external \"stream\"","webpack:///external \"tls\"","webpack:///external \"zlib\""],"names":["root","factory","exports","module","require","define","amd","a","i","this","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_18__","__WEBPACK_EXTERNAL_MODULE_19__","__WEBPACK_EXTERNAL_MODULE_20__","__WEBPACK_EXTERNAL_MODULE_31__","__WEBPACK_EXTERNAL_MODULE_32__","__WEBPACK_EXTERNAL_MODULE_33__","__WEBPACK_EXTERNAL_MODULE_34__","__WEBPACK_EXTERNAL_MODULE_35__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_BaseConnection2","_BaseConnection3","_Hub2","_Hub3","_Myo2","_Myo3","_CircularBuffer2","_CircularBuffer3","_Pose2","_Pose3","_Quaternion2","_Quaternion3","_Vector2","_Vector3","_Frame2","_Frame3","MyoJS","global","Myo","PerMessageDeflate","options","isServer","maxPayload","_options","_isServer","_inflate","_deflate","params","_maxPayload","zlib","AVAILABLE_WINDOW_BITS","DEFAULT_WINDOW_BITS","DEFAULT_MEM_LEVEL","extensionName","offer","serverNoContextTakeover","server_no_context_takeover","clientNoContextTakeover","client_no_context_takeover","serverMaxWindowBits","server_max_window_bits","clientMaxWindowBits","client_max_window_bits","accept","paramsList","normalizeParams","acceptAsServer","acceptAsClient","cleanup","writeInProgress","pendingClose","close","accepted","result","some","Error","map","keys","forEach","parseInt","indexOf","decompress","data","fin","callback","onError","err","onData","undefined","self","cumulativeBufferLength","buffers","type","push","removeListener","endpoint","maxWindowBits","createInflateRaw","windowBits","on","write","Buffer","flush","concat","compress","createDeflateRaw","Z_SYNC_FLUSH","memLevel","slice","CircularBuffer","size","pos","_buf","o","_typeof","Symbol","iterator","constructor","_Pose","_Quaternion","_Vector","Frame","hasOwnProperty","timestamp","euler","rssi","event","pose","invalid","rotation","accel","gyro","emg","toString","context","send","requestRssi","VIBRATION_SHORT","command","args","VIBRATION_MEDIUM","VIBRATION_LONG","option","UNLOCK_TIMED","UNLOCK_HOLD","action","USER_ACTION_SINGLE","Pose","valid","other","POSE_REST","POSE_FIST","POSE_WAVE_IN","POSE_WAVE_OUT","POSE_FINGERS_SPREAD","POSE_DOUBLE_TAP","Quaternion","isNaN","x","y","z","w","NaN","magnitude","Math","sqrt","test","heading","attitude","bank","sqx","sqy","sqz","sqw","unit","atan2","PI","asin","Vector3","scalar","denom","magnitudeSquared","returnValue","acos","dot","Number","MAX_VALUE","xAxis","yAxis","zAxis","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","_events","_Frame","BaseConnection","_EventEmitter","_ref","arguments","_ref$host","host","_ref$port","port","_this","getPrototypeOf","connected","disconnect","startReconnection","_this2","reconnectionTimer","setInterval","reconnect","clearInterval","allowReconnect","stopReconnection","socket","emit","connect","message","JSON","parse","exception","frame","deviceInfo","frameObject","_this3","inBrowser","window","WebSocket","getUrl","ConnectionType","onopen","handleOpen","onclose","handleClose","code","reason","onmessage","handleData","onerror","stringify","EventEmitter","Options","defaults","internalValues","values","get","reset","merge","required","missing","l","join","copy","read","filename","cb","fs","readFile","error","conf","readFileSync","isDefined","isDefinedAndNonNull","freeze","e","isValidErrorCode","1000","1001","1002","1003","1004","1005","1006","1007","1008","1009","1010","1011","extensions","split","v","token","shift","trim","parsedParams","param","parts","format","util","isArray","k","Receiver","fragmentedPoolPrevUsed","fragmentedBufferPool","BufferPool","db","used","ceil","unfragmentedPoolPrevUsed","unfragmentedBufferPool","currentPayloadLength","state","activeFragmentedOperation","lastFragment","masked","opcode","fragmentedOperation","overflow","headerBuffer","expectOffset","expectBuffer","expectHandler","currentMessage","currentMessageLength","messageHandlers","expectHeader","processPacket","dead","processing","ontext","onbinary","onping","onpong","readUInt16BE","start","readUInt32BE","fastCopy","srcBuffer","dstBuffer","dstOffset","clone","cloned","Validation","ErrorCodes","bufferUtil","BufferUtil","add","dataLength","toRead","min","bufferForHandler","handler","fromOverflow","pop","expectData","allocateFromPool","isFragmented","compressed","opcodes","endPacket","unmask","mask","buf","binary","protocolErrorCode","applyExtensions","messageBuffer","buffer","maxPayloadExceeded","fullLength","1","firstLength","getData","finish","packet","isValidUTF8","2","8","9","10","Sender","events","_socket","firstFragment","writeUInt16BE","offset","writeUInt32BE","getArrayBuffer","array","Uint8Array","byteLength","byteOffset","getRandomMask","random","inherits","dataBuffer","frameAndSend","ping","pong","finalFragment","compressFragment","maskData","canModifyData","isBuffer","dataOffset","secondByte","mergeBuffers","totalLength","outputBuffer","ArrayBuffer","address","protocols","Array","_ultron","_closeReceived","bytesReceived","readyState","supports","_binaryType","initAsServerClient","apply","initAsClient","MessageEvent","dataArg","isBinary","CloseEvent","wasClean","OpenEvent","buildHostHeader","isSecure","hostname","headerHost","req","upgradeHead","protocolVersion","protocol","upgradeReq","CONNECTING","establishConnection","ReceiverHixie","SenderHixie","origin","headers","agent","pfx","passphrase","cert","ca","ciphers","rejectUnauthorized","perMessageDeflate","localAddress","serverUrl","url","isUnixSocket","httpObj","https","http","auth","extensionsOffer","Date","now","shasum","crypto","createHash","update","expectedServerKey","digest","requestOptions","Connection","Upgrade","Host","Sec-WebSocket-Version","Sec-WebSocket-Key","Authorization","header","Extensions","Agent","path","socketPath","pathname","Origin","request","cleanupWebsocketResources","once","res","statusCode","abort","CLOSED","removeAllListeners","end","serverKey","serverProt","protList","protError","serverExtensions","ReceiverClass","SenderClass","firstHandler","called","ultron","realHandler","_receiver","Ultron","setTimeout","setNoDelay","bind","process","nextTick","flags","errorCode","_sender","OPEN","startQueue","_queue","executeQueueSends","queue","sendStream","stream","clearTimeout","_closeTimer","_closeCode","_closeMessage","destroy","closeTimeout","index","CLOSING","terminate","pause","dontFailWhenClosed","resume","Uint16Array","Uint32Array","Int8Array","Int16Array","Int32Array","Float32Array","Float64Array","readable","Readable","Stream","final","amount","bufferSize","set","SyntaxError","method","listener","listeners","_listener","addEventListener","onMessage","binaryType","onClose","onOpen","_Myo","_BaseConnection","_CircularBuffer","Hub","opt","connection","history","myo","num","timeoutMilliseconds","waitForMyo","durationMilliseconds","run","runOnce","ee","has","fn","__ultron","remove","j","WS","Server","createServer","server","createConnection","client","initialSize","growStrategy","shrinkStrategy","_growStrategy","_shrinkStrategy","_buffer","_offset","_used","_changeFactor","__defineGetter__","newBuf","forceNewBuffer","len","mergedBuffer","source","output","maskNum","readUInt32LE","writeUInt32LE","EMPTY","messageEnd","spanLength","bufferIndex","byte","BODY","BINARYLENGTH","BINARYBODY","doAdd","dataleft","outputIndex","bi","bl","lastBuffer","tail","continuationFrame","isClosed","isString","lengthbytes","writeStartMarker","writeEndMarker","String","fromCharCode","WebSocketServer","verifyClient","handleProtocols","noServer","disableHixie","clientTracking","_server","body","STATUS_CODES","writeHead","Content-Length","Content-Type","allowHalfOpen","listen","_closeServer","_webSocketPaths","_onceServerListening","_onServerError","_onServerUpgrade","head","handleUpgrade","clients","handleHybiUpgrade","errorHandler","abortConnection","version","completeHybiUpgrade2","acceptExtensions","splice","completeHybiUpgrade1","callbackCalled","info","secure","authorized","encrypted","name","handleHixieUpgrade","onClientVerified","wshost","location","buildResponseHeader","handshakeResponse","completeHandshake","nonce","rest","k1","k2","md5","n","replace","spaces","hashBuffer","handshakeBuffer","nonceLength","received","response","u","upgrade","toLowerCase"],"mappings":"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","file":"myojs.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"util\"), require(\"events\"), require(\"crypto\"), require(\"http\"), require(\"url\"), require(\"fs\"), require(\"https\"), require(\"stream\"), require(\"tls\"), require(\"zlib\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"util\", \"events\", \"crypto\", \"http\", \"url\", \"fs\", \"https\", \"stream\", \"tls\", \"zlib\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"util\"), require(\"events\"), require(\"crypto\"), require(\"http\"), require(\"url\"), require(\"fs\"), require(\"https\"), require(\"stream\"), require(\"tls\"), require(\"zlib\")) : factory(root[\"util\"], root[\"events\"], root[\"crypto\"], root[\"http\"], root[\"url\"], root[\"fs\"], root[\"https\"], root[\"stream\"], root[\"tls\"], root[\"zlib\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_18__, __WEBPACK_EXTERNAL_MODULE_19__, __WEBPACK_EXTERNAL_MODULE_20__, __WEBPACK_EXTERNAL_MODULE_31__, __WEBPACK_EXTERNAL_MODULE_32__, __WEBPACK_EXTERNAL_MODULE_33__, __WEBPACK_EXTERNAL_MODULE_34__, __WEBPACK_EXTERNAL_MODULE_35__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"util\"), require(\"events\"), require(\"crypto\"), require(\"http\"), require(\"url\"), require(\"fs\"), require(\"https\"), require(\"stream\"), require(\"tls\"), require(\"zlib\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"util\", \"events\", \"crypto\", \"http\", \"url\", \"fs\", \"https\", \"stream\", \"tls\", \"zlib\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"util\"), require(\"events\"), require(\"crypto\"), require(\"http\"), require(\"url\"), require(\"fs\"), require(\"https\"), require(\"stream\"), require(\"tls\"), require(\"zlib\")) : factory(root[\"util\"], root[\"events\"], root[\"crypto\"], root[\"http\"], root[\"url\"], root[\"fs\"], root[\"https\"], root[\"stream\"], root[\"tls\"], root[\"zlib\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_18__, __WEBPACK_EXTERNAL_MODULE_19__, __WEBPACK_EXTERNAL_MODULE_20__, __WEBPACK_EXTERNAL_MODULE_31__, __WEBPACK_EXTERNAL_MODULE_32__, __WEBPACK_EXTERNAL_MODULE_33__, __WEBPACK_EXTERNAL_MODULE_34__, __WEBPACK_EXTERNAL_MODULE_35__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _BaseConnection2 = __webpack_require__(10);\n\t\n\tvar _BaseConnection3 = _interopRequireDefault(_BaseConnection2);\n\t\n\tvar _Hub2 = __webpack_require__(21);\n\t\n\tvar _Hub3 = _interopRequireDefault(_Hub2);\n\t\n\tvar _Myo2 = __webpack_require__(6);\n\t\n\tvar _Myo3 = _interopRequireDefault(_Myo2);\n\t\n\tvar _CircularBuffer2 = __webpack_require__(4);\n\t\n\tvar _CircularBuffer3 = _interopRequireDefault(_CircularBuffer2);\n\t\n\tvar _Pose2 = __webpack_require__(7);\n\t\n\tvar _Pose3 = _interopRequireDefault(_Pose2);\n\t\n\tvar _Quaternion2 = __webpack_require__(8);\n\t\n\tvar _Quaternion3 = _interopRequireDefault(_Quaternion2);\n\t\n\tvar _Vector2 = __webpack_require__(9);\n\t\n\tvar _Vector3 = _interopRequireDefault(_Vector2);\n\t\n\tvar _Frame2 = __webpack_require__(5);\n\t\n\tvar _Frame3 = _interopRequireDefault(_Frame2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar MyoJS = function () {\n\t    function MyoJS() {\n\t        _classCallCheck(this, MyoJS);\n\t    }\n\t\n\t    _createClass(MyoJS, null, [{\n\t        key: 'BaseConnection',\n\t        value: function BaseConnection() {\n\t            return _BaseConnection3.default;\n\t        }\n\t    }, {\n\t        key: 'CircularBuffer',\n\t        value: function CircularBuffer() {\n\t            return _CircularBuffer3.default;\n\t        }\n\t    }, {\n\t        key: 'Hub',\n\t        value: function Hub() {\n\t            return new _Hub3.default();\n\t        }\n\t    }, {\n\t        key: 'Myo',\n\t        value: function Myo() {\n\t            return _Myo3.default;\n\t        }\n\t    }, {\n\t        key: 'Frame',\n\t        value: function Frame() {\n\t            return _Frame3.default;\n\t        }\n\t    }, {\n\t        key: 'Pose',\n\t        value: function Pose() {\n\t            return _Pose3.default;\n\t        }\n\t    }, {\n\t        key: 'Quaternion',\n\t        value: function Quaternion() {\n\t            return _Quaternion3.default;\n\t        }\n\t    }, {\n\t        key: 'Vector3',\n\t        value: function Vector3() {\n\t            return _Vector3.default;\n\t        }\n\t    }]);\n\t\n\t    return MyoJS;\n\t}();\n\t\n\t/**\n\t * Exports global to the window object.\n\t * @namespace Myo\n\t */\n\t\n\t\n\texports.default = MyoJS;\n\tglobal.Myo = MyoJS;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"util\");\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"events\");\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\tvar zlib = __webpack_require__(35);\n\t\n\tvar AVAILABLE_WINDOW_BITS = [8, 9, 10, 11, 12, 13, 14, 15];\n\tvar DEFAULT_WINDOW_BITS = 15;\n\tvar DEFAULT_MEM_LEVEL = 8;\n\t\n\tPerMessageDeflate.extensionName = 'permessage-deflate';\n\t\n\t/**\n\t * Per-message Compression Extensions implementation\n\t */\n\t\n\tfunction PerMessageDeflate(options, isServer,maxPayload) {\n\t  if (this instanceof PerMessageDeflate === false) {\n\t    throw new TypeError(\"Classes can't be function-called\");\n\t  }\n\t\n\t  this._options = options || {};\n\t  this._isServer = !!isServer;\n\t  this._inflate = null;\n\t  this._deflate = null;\n\t  this.params = null;\n\t  this._maxPayload = maxPayload || 0;\n\t}\n\t\n\t/**\n\t * Create extension parameters offer\n\t *\n\t * @api public\n\t */\n\t\n\tPerMessageDeflate.prototype.offer = function() {\n\t  var params = {};\n\t  if (this._options.serverNoContextTakeover) {\n\t    params.server_no_context_takeover = true;\n\t  }\n\t  if (this._options.clientNoContextTakeover) {\n\t    params.client_no_context_takeover = true;\n\t  }\n\t  if (this._options.serverMaxWindowBits) {\n\t    params.server_max_window_bits = this._options.serverMaxWindowBits;\n\t  }\n\t  if (this._options.clientMaxWindowBits) {\n\t    params.client_max_window_bits = this._options.clientMaxWindowBits;\n\t  } else if (this._options.clientMaxWindowBits == null) {\n\t    params.client_max_window_bits = true;\n\t  }\n\t  return params;\n\t};\n\t\n\t/**\n\t * Accept extension offer\n\t *\n\t * @api public\n\t */\n\t\n\tPerMessageDeflate.prototype.accept = function(paramsList) {\n\t  paramsList = this.normalizeParams(paramsList);\n\t\n\t  var params;\n\t  if (this._isServer) {\n\t    params = this.acceptAsServer(paramsList);\n\t  } else {\n\t    params = this.acceptAsClient(paramsList);\n\t  }\n\t\n\t  this.params = params;\n\t  return params;\n\t};\n\t\n\t/**\n\t * Releases all resources used by the extension\n\t *\n\t * @api public\n\t */\n\t\n\tPerMessageDeflate.prototype.cleanup = function() {\n\t  if (this._inflate) {\n\t    if (this._inflate.writeInProgress) {\n\t      this._inflate.pendingClose = true;\n\t    } else {\n\t      if (this._inflate.close) this._inflate.close();\n\t      this._inflate = null;\n\t    }\n\t  }\n\t  if (this._deflate) {\n\t    if (this._deflate.writeInProgress) {\n\t      this._deflate.pendingClose = true;\n\t    } else {\n\t      if (this._deflate.close) this._deflate.close();\n\t      this._deflate = null;\n\t    }\n\t  }\n\t};\n\t\n\t/**\n\t * Accept extension offer from client\n\t *\n\t * @api private\n\t */\n\t\n\tPerMessageDeflate.prototype.acceptAsServer = function(paramsList) {\n\t  var accepted = {};\n\t  var result = paramsList.some(function(params) {\n\t    accepted = {};\n\t    if (this._options.serverNoContextTakeover === false && params.server_no_context_takeover) {\n\t      return;\n\t    }\n\t    if (this._options.serverMaxWindowBits === false && params.server_max_window_bits) {\n\t      return;\n\t    }\n\t    if (typeof this._options.serverMaxWindowBits === 'number' &&\n\t        typeof params.server_max_window_bits === 'number' &&\n\t        this._options.serverMaxWindowBits > params.server_max_window_bits) {\n\t      return;\n\t    }\n\t    if (typeof this._options.clientMaxWindowBits === 'number' && !params.client_max_window_bits) {\n\t      return;\n\t    }\n\t\n\t    if (this._options.serverNoContextTakeover || params.server_no_context_takeover) {\n\t      accepted.server_no_context_takeover = true;\n\t    }\n\t    if (this._options.clientNoContextTakeover) {\n\t      accepted.client_no_context_takeover = true;\n\t    }\n\t    if (this._options.clientNoContextTakeover !== false && params.client_no_context_takeover) {\n\t      accepted.client_no_context_takeover = true;\n\t    }\n\t    if (typeof this._options.serverMaxWindowBits === 'number') {\n\t      accepted.server_max_window_bits = this._options.serverMaxWindowBits;\n\t    } else if (typeof params.server_max_window_bits === 'number') {\n\t      accepted.server_max_window_bits = params.server_max_window_bits;\n\t    }\n\t    if (typeof this._options.clientMaxWindowBits === 'number') {\n\t      accepted.client_max_window_bits = this._options.clientMaxWindowBits;\n\t    } else if (this._options.clientMaxWindowBits !== false && typeof params.client_max_window_bits === 'number') {\n\t      accepted.client_max_window_bits = params.client_max_window_bits;\n\t    }\n\t    return true;\n\t  }, this);\n\t\n\t  if (!result) {\n\t    throw new Error('Doesn\\'t support the offered configuration');\n\t  }\n\t\n\t  return accepted;\n\t};\n\t\n\t/**\n\t * Accept extension response from server\n\t *\n\t * @api privaye\n\t */\n\t\n\tPerMessageDeflate.prototype.acceptAsClient = function(paramsList) {\n\t  var params = paramsList[0];\n\t  if (this._options.clientNoContextTakeover != null) {\n\t    if (this._options.clientNoContextTakeover === false && params.client_no_context_takeover) {\n\t      throw new Error('Invalid value for \"client_no_context_takeover\"');\n\t    }\n\t  }\n\t  if (this._options.clientMaxWindowBits != null) {\n\t    if (this._options.clientMaxWindowBits === false && params.client_max_window_bits) {\n\t      throw new Error('Invalid value for \"client_max_window_bits\"');\n\t    }\n\t    if (typeof this._options.clientMaxWindowBits === 'number' &&\n\t        (!params.client_max_window_bits || params.client_max_window_bits > this._options.clientMaxWindowBits)) {\n\t      throw new Error('Invalid value for \"client_max_window_bits\"');\n\t    }\n\t  }\n\t  return params;\n\t};\n\t\n\t/**\n\t * Normalize extensions parameters\n\t *\n\t * @api private\n\t */\n\t\n\tPerMessageDeflate.prototype.normalizeParams = function(paramsList) {\n\t  return paramsList.map(function(params) {\n\t    Object.keys(params).forEach(function(key) {\n\t      var value = params[key];\n\t      if (value.length > 1) {\n\t        throw new Error('Multiple extension parameters for ' + key);\n\t      }\n\t\n\t      value = value[0];\n\t\n\t      switch (key) {\n\t      case 'server_no_context_takeover':\n\t      case 'client_no_context_takeover':\n\t        if (value !== true) {\n\t          throw new Error('invalid extension parameter value for ' + key + ' (' + value + ')');\n\t        }\n\t        params[key] = true;\n\t        break;\n\t      case 'server_max_window_bits':\n\t      case 'client_max_window_bits':\n\t        if (typeof value === 'string') {\n\t          value = parseInt(value, 10);\n\t          if (!~AVAILABLE_WINDOW_BITS.indexOf(value)) {\n\t            throw new Error('invalid extension parameter value for ' + key + ' (' + value + ')');\n\t          }\n\t        }\n\t        if (!this._isServer && value === true) {\n\t          throw new Error('Missing extension parameter value for ' + key);\n\t        }\n\t        params[key] = value;\n\t        break;\n\t      default:\n\t        throw new Error('Not defined extension parameter (' + key + ')');\n\t      }\n\t    }, this);\n\t    return params;\n\t  }, this);\n\t};\n\t\n\t/**\n\t * Decompress message\n\t *\n\t * @api public\n\t */\n\t\n\tPerMessageDeflate.prototype.decompress = function (data, fin, callback) {\n\t  var endpoint = this._isServer ? 'client' : 'server';\n\t\n\t  if (!this._inflate) {\n\t    var maxWindowBits = this.params[endpoint + '_max_window_bits'];\n\t    this._inflate = zlib.createInflateRaw({\n\t      windowBits: 'number' === typeof maxWindowBits ? maxWindowBits : DEFAULT_WINDOW_BITS\n\t    });\n\t  }\n\t  this._inflate.writeInProgress = true;\n\t\n\t  var self = this;\n\t  var buffers = [];\n\t  var cumulativeBufferLength=0;\n\t\n\t  this._inflate.on('error', onError).on('data', onData);\n\t  this._inflate.write(data);\n\t  if (fin) {\n\t    this._inflate.write(new Buffer([0x00, 0x00, 0xff, 0xff]));\n\t  }\n\t  this._inflate.flush(function() {\n\t    cleanup();\n\t    callback(null, Buffer.concat(buffers));\n\t  });\n\t\n\t  function onError(err) {\n\t    cleanup();\n\t    callback(err);\n\t  }\n\t\n\t  function onData(data) {\n\t      if(self._maxPayload!==undefined && self._maxPayload!==null && self._maxPayload>0){\n\t          cumulativeBufferLength+=data.length;\n\t          if(cumulativeBufferLength>self._maxPayload){\n\t            buffers=[];\n\t            cleanup();\n\t            var err={type:1009};\n\t            callback(err);\n\t            return;\n\t          }\n\t      }\n\t      buffers.push(data);\n\t  }\n\t\n\t  function cleanup() {\n\t    if (!self._inflate) return;\n\t    self._inflate.removeListener('error', onError);\n\t    self._inflate.removeListener('data', onData);\n\t    self._inflate.writeInProgress = false;\n\t    if ((fin && self.params[endpoint + '_no_context_takeover']) || self._inflate.pendingClose) {\n\t      if (self._inflate.close) self._inflate.close();\n\t      self._inflate = null;\n\t    }\n\t  }\n\t};\n\t\n\t/**\n\t * Compress message\n\t *\n\t * @api public\n\t */\n\t\n\tPerMessageDeflate.prototype.compress = function (data, fin, callback) {\n\t  var endpoint = this._isServer ? 'server' : 'client';\n\t\n\t  if (!this._deflate) {\n\t    var maxWindowBits = this.params[endpoint + '_max_window_bits'];\n\t    this._deflate = zlib.createDeflateRaw({\n\t      flush: zlib.Z_SYNC_FLUSH,\n\t      windowBits: 'number' === typeof maxWindowBits ? maxWindowBits : DEFAULT_WINDOW_BITS,\n\t      memLevel: this._options.memLevel || DEFAULT_MEM_LEVEL\n\t    });\n\t  }\n\t  this._deflate.writeInProgress = true;\n\t\n\t  var self = this;\n\t  var buffers = [];\n\t\n\t  this._deflate.on('error', onError).on('data', onData);\n\t  this._deflate.write(data);\n\t  this._deflate.flush(function() {\n\t    cleanup();\n\t    var data = Buffer.concat(buffers);\n\t    if (fin) {\n\t      data = data.slice(0, data.length - 4);\n\t    }\n\t    callback(null, data);\n\t  });\n\t\n\t  function onError(err) {\n\t    cleanup();\n\t    callback(err);\n\t  }\n\t\n\t  function onData(data) {\n\t    buffers.push(data);\n\t  }\n\t\n\t  function cleanup() {\n\t    if (!self._deflate) return;\n\t    self._deflate.removeListener('error', onError);\n\t    self._deflate.removeListener('data', onData);\n\t    self._deflate.writeInProgress = false;\n\t    if ((fin && self.params[endpoint + '_no_context_takeover']) || self._deflate.pendingClose) {\n\t      if (self._deflate.close) self._deflate.close();\n\t      self._deflate = null;\n\t    }\n\t  }\n\t};\n\t\n\tmodule.exports = PerMessageDeflate;\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar CircularBuffer = function () {\n\t    function CircularBuffer(size) {\n\t        _classCallCheck(this, CircularBuffer);\n\t\n\t        this.pos = 0;\n\t        this._buf = [];\n\t        this.size = size;\n\t    }\n\t\n\t    _createClass(CircularBuffer, [{\n\t        key: \"get\",\n\t        value: function get(i) {\n\t            if (!i || i === null) {\n\t                i = 0;\n\t            }\n\t            if (i >= this.size) {\n\t                return null;\n\t            }\n\t            if (i >= this._buf.length) {\n\t                return null;\n\t            }\n\t            return this._buf[(this.pos - i - 1) % this.size];\n\t        }\n\t    }, {\n\t        key: \"push\",\n\t        value: function push(o) {\n\t            this._buf[this.pos % this.size] = o;\n\t            return this.pos++;\n\t        }\n\t    }]);\n\t\n\t    return CircularBuffer;\n\t}();\n\t\n\texports.default = CircularBuffer;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Pose = __webpack_require__(7);\n\t\n\tvar _Pose2 = _interopRequireDefault(_Pose);\n\t\n\tvar _Quaternion = __webpack_require__(8);\n\t\n\tvar _Quaternion2 = _interopRequireDefault(_Quaternion);\n\t\n\tvar _Vector = __webpack_require__(9);\n\t\n\tvar _Vector2 = _interopRequireDefault(_Vector);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Frame = function () {\n\t    function Frame(data) {\n\t        _classCallCheck(this, Frame);\n\t\n\t        if (!data) {\n\t            throw new Error('Missing constructor arguments');\n\t        }\n\t        if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) !== 'object') {\n\t            throw new Error('Constructor parameter needs to be an object');\n\t        }\n\t        if (!data.hasOwnProperty('id') || data.id !== parseInt(data.id, 10)) {\n\t            throw new Error('Frame id needs to be of type integer');\n\t        }\n\t        if (!data.hasOwnProperty('timestamp') || typeof data.timestamp !== 'string') {\n\t            throw new Error('Timestamp needs to be of type string');\n\t        }\n\t\n\t        /**\n\t         * A unique ID for this Frame. Consecutive frames processed by the Myo\n\t         * have consecutive increasing values.\n\t         * @member id\n\t         * @memberof Myo.Frame.prototype\n\t         * @type {number}\n\t         */\n\t        this.id = data.id;\n\t\n\t        /**\n\t         * The frame capture time in microseconds elapsed since the Myo started.\n\t         * @member timestamp\n\t         * @memberof Myo.Frame.prototype\n\t         * @type {string}\n\t         */\n\t        this.timestamp = data.timestamp;\n\t\n\t        if (data.euler) {\n\t            this.euler = data.euler;\n\t        }\n\t\n\t        if (data.rssi) {\n\t            this.rssi = data.rssi;\n\t        }\n\t\n\t        if (data.event) {\n\t            this.event = data.event;\n\t        }\n\t\n\t        /**\n\t         * A change in pose has been detected.\n\t         * @member pose\n\t         * @memberof Myo.Pose.prototype\n\t         * @type {Pose}\n\t         */\n\t        if (data.pose) {\n\t            this.pose = new _Pose2.default(data.pose);\n\t        } else {\n\t            this.pose = _Pose2.default.invalid();\n\t        }\n\t\n\t        /**\n\t         * A change in pose has been detected.\n\t         * @member pose\n\t         * @memberof Myo.Pose.prototype\n\t         * @type {Pose}\n\t         */\n\t        if (data.rotation) {\n\t            this.rotation = new _Quaternion2.default(data.rotation);\n\t        } else {\n\t            this.rotation = _Quaternion2.default.invalid();\n\t        }\n\t\n\t        if (data.accel) {\n\t            this.accel = new _Vector2.default(data.accel);\n\t        } else {\n\t            this.accel = _Vector2.default.invalid();\n\t        }\n\t\n\t        if (data.gyro) {\n\t            this.gyro = new _Vector2.default(data.gyro);\n\t        } else {\n\t            this.gyro = _Vector2.default.invalid();\n\t        }\n\t\n\t        /**\n\t         * EMG data\n\t         */\n\t        if (data.emg) {\n\t            this.emg = data.emg;\n\t        } else {\n\t            this.emg = [];\n\t        }\n\t\n\t        this.data = data;\n\t        this.type = 'frame';\n\t    }\n\t\n\t    /**\n\t     * Returns a string containing this Frame in a human readable format.\n\t     * @return\n\t     *\n\t     */\n\t\n\t\n\t    _createClass(Frame, [{\n\t        key: 'toString',\n\t        value: function toString() {\n\t            return '[Frame id:' + this.id + ' timestamp:' + this.timestamp + ' accel:' + this.accel.toString() + ']';\n\t        }\n\t    }]);\n\t\n\t    return Frame;\n\t}();\n\t\n\texports.default = Frame;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Myo = function () {\n\t    function Myo(context) {\n\t        _classCallCheck(this, Myo);\n\t\n\t        if (!context) {\n\t            throw new Error('Missing context');\n\t        }\n\t\n\t        /**\n\t         * @private\n\t         *\n\t         */\n\t        this.context = context;\n\t    }\n\t\n\t    /**\n\t     * Request the RSSI of the Myo.\n\t     *\n\t     * <p>An onRssi event will likely be generated with the value of the RSSI.</p>\n\t     *\n\t     */\n\t\n\t\n\t    _createClass(Myo, [{\n\t        key: 'requestRssi',\n\t        value: function requestRssi() {\n\t            this.context.send({\n\t                'requestRssi': true\n\t            });\n\t        }\n\t\n\t        /**\n\t         * Engage the Myo's built in vibration motor.\n\t         * @param length\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'vibrate',\n\t        value: function vibrate(length) {\n\t            switch (length) {\n\t                case Myo.VIBRATION_SHORT:\n\t                    this.context.send({\n\t                        'command': 'vibrate',\n\t                        'args': [Myo.VIBRATION_SHORT]\n\t                    });\n\t                    break;\n\t                case Myo.VIBRATION_MEDIUM:\n\t                    this.context.send({\n\t                        'command': 'vibrate',\n\t                        'args': [Myo.VIBRATION_MEDIUM]\n\t                    });\n\t                    break;\n\t                case Myo.VIBRATION_LONG:\n\t                    this.context.send({\n\t                        'command': 'vibrate',\n\t                        'args': [Myo.VIBRATION_LONG]\n\t                    });\n\t                    break;\n\t                default:\n\t                    throw new Error('Valid values are: Myo.VIBRATION_SHORT, Myo.VIBRATION_MEDIUM, Myo.VIBRATION_LONG');\n\t            }\n\t        }\n\t\n\t        /**\n\t         * Unlock the given Myo.\n\t         * Can be called when a Myo is paired.\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'unlock',\n\t        value: function unlock(option) {\n\t            switch (option) {\n\t                case Myo.UNLOCK_TIMED:\n\t                    this.context.send({\n\t                        'command': 'unlock',\n\t                        'args': [Myo.UNLOCK_TIMED]\n\t                    });\n\t                    break;\n\t                case Myo.UNLOCK_HOLD:\n\t                    this.context.send({\n\t                        'command': 'unlock',\n\t                        'args': [Myo.UNLOCK_HOLD]\n\t                    });\n\t                    break;\n\t                default:\n\t                    throw new Error('Valid values are: Myo.UNLOCK_TIMED, Myo.UNLOCK_HOLD');\n\t            }\n\t        }\n\t\n\t        /**\n\t         * Lock the given Myo immediately.\n\t         * Can be called when a Myo is paired.\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'lock',\n\t        value: function lock() {\n\t            this.context.send({\n\t                'command': 'lock'\n\t            });\n\t        }\n\t\n\t        /**\n\t         * Notify the given Myo that a user action was recognized.\n\t         * Can be called when a Myo is paired. Will cause Myo to vibrate.\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'notifyUserAction',\n\t        value: function notifyUserAction(action) {\n\t            switch (action) {\n\t                case Myo.USER_ACTION_SINGLE:\n\t                    this.context.send({\n\t                        'command': 'notifyUserAction',\n\t                        'args': [Myo.USER_ACTION_SINGLE]\n\t                    });\n\t                    break;\n\t                default:\n\t                    throw new Error('Valid values are: Myo.USER_ACTION_SINGLE');\n\t            }\n\t        }\n\t    }]);\n\t\n\t    return Myo;\n\t}();\n\t\n\t/**\n\t * A vibration lasting a small amount of time (VibrationLengthShort)\n\t */\n\t\n\t\n\texports.default = Myo;\n\tMyo.VIBRATION_SHORT = 0;\n\t\n\t/**\n\t * A vibration lasting a moderate amount of time (VibrationLengthMedium)\n\t */\n\tMyo.VIBRATION_MEDIUM = 1;\n\t\n\t/**\n\t * A vibration lasting a long amount of time (VibrationLengthLong)\n\t */\n\tMyo.VIBRATION_LONG = 2;\n\t\n\t/**\n\t * Unlock for a fixed period of time.\n\t */\n\tMyo.UNLOCK_TIMED = 0;\n\t\n\t/**\n\t * Unlock until explicitly told to re-lock.\n\t */\n\tMyo.UNLOCK_HOLD = 1;\n\t\n\t/**\n\t * User did a single, discrete action, such as pausing a video.\n\t */\n\tMyo.USER_ACTION_SINGLE = 0;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Pose = function () {\n\t    function Pose(data) {\n\t        _classCallCheck(this, Pose);\n\t\n\t        if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) !== 'object' || Object.prototype.toString.call(data) === '[object Array]') {\n\t            throw new Error('Constructor parameter needs to be an object');\n\t        }\n\t\n\t        /**\n\t         * The pose being recognized.\n\t         */\n\t        this.type = data.type;\n\t\n\t        /**\n\t         * Indicates whether this is a valid Pose object.\n\t         */\n\t        this.valid = !data.hasOwnProperty('invalid');\n\t\n\t        if (this.valid) {\n\t            if (!data.hasOwnProperty('type') || data.type !== parseInt(data.type, 10)) {\n\t                throw new Error('Pose type needs to be of type integer');\n\t            }\n\t        }\n\t    }\n\t\n\t    _createClass(Pose, [{\n\t        key: 'isEqualTo',\n\t        value: function isEqualTo(other) {\n\t            return this.type === other.type;\n\t        }\n\t\n\t        /**\n\t         * An invalid Pose object.\n\t         *\n\t         * You can use this Pose instance in comparisons testing\n\t         * whether a given Pose instance is valid or invalid.\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'toString',\n\t\n\t\n\t        /**\n\t         * Return a human-readable string representation of the pose.\n\t         * @return\n\t         *\n\t         */\n\t        value: function toString() {\n\t            if (!this.valid) {\n\t                return '[Pose invalid]';\n\t            }\n\t            switch (this.type) {\n\t                case Pose.POSE_REST:\n\t                    return '[Pose type:' + this.type.toString() + ' POSE_REST]';\n\t                case Pose.POSE_FIST:\n\t                    return '[Pose type:' + this.type.toString() + ' POSE_FIST]';\n\t                case Pose.POSE_WAVE_IN:\n\t                    return '[Pose type:' + this.type.toString() + ' POSE_WAVE_IN]';\n\t                case Pose.POSE_WAVE_OUT:\n\t                    return '[Pose type:' + this.type.toString() + ' POSE_WAVE_OUT]';\n\t                case Pose.POSE_FINGERS_SPREAD:\n\t                    return '[Pose type:' + this.type.toString() + ' POSE_FINGERS_SPREAD]';\n\t                case Pose.POSE_DOUBLE_TAP:\n\t                    return '[Pose type:' + this.type.toString() + ' POSE_DOUBLE_TAP]';\n\t                default:\n\t                    return '[Pose type:' + this.type.toString() + ']';\n\t            }\n\t        }\n\t    }], [{\n\t        key: 'invalid',\n\t        value: function invalid() {\n\t            return new Pose({\n\t                invalid: true\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return Pose;\n\t}();\n\t\n\t/**\n\t * Rest pose.\n\t */\n\t\n\t\n\texports.default = Pose;\n\tPose.POSE_REST = 0;\n\t\n\t/**\n\t * User is making a fist.\n\t */\n\tPose.POSE_FIST = 1;\n\t\n\t/**\n\t * User has an open palm rotated towards the posterior of their wrist.\n\t */\n\tPose.POSE_WAVE_IN = 2;\n\t\n\t/**\n\t * User has an open palm rotated towards the anterior of their wrist.\n\t */\n\tPose.POSE_WAVE_OUT = 3;\n\t\n\t/**\n\t * User has an open palm with their fingers spread away from each other.\n\t */\n\tPose.POSE_FINGERS_SPREAD = 4;\n\t\n\t/**\n\t * User tapped their thumb and middle finger together twice in succession.\n\t */\n\tPose.POSE_DOUBLE_TAP = 5;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Quaternion = function () {\n\t    function Quaternion(data) {\n\t        _classCallCheck(this, Quaternion);\n\t\n\t        /**\n\t         * Indicates whether this is a valid Quaternion object.\n\t         */\n\t        this.valid = !data.hasOwnProperty('invalid');\n\t\n\t        if (this.valid) {\n\t            if (Object.prototype.toString.call(data) !== '[object Array]') {\n\t                throw new Error('Components needs to be an array');\n\t            }\n\t            if (isNaN(data[0]) || isNaN(data[1]) || isNaN(data[2]) || isNaN(data[3])) {\n\t                throw new Error('Component values needs to be integers or numbers');\n\t            }\n\t            this.x = data[0];\n\t            this.y = data[1];\n\t            this.z = data[2];\n\t            this.w = data[3];\n\t        } else {\n\t            this.x = NaN;\n\t            this.y = NaN;\n\t            this.z = NaN;\n\t            this.w = NaN;\n\t        }\n\t    }\n\t\n\t    /**\n\t     * A normalized copy of this quaternion.\n\t     * A normalized quaternion has the same direction as the original\n\t     * quaternion, but with a length of one.\n\t     * @return {Quaternion} A Quaternion object with a length of one, pointing in the same direction as this Quaternion object.\n\t     *\n\t     */\n\t\n\t\n\t    _createClass(Quaternion, [{\n\t        key: 'normalized',\n\t        value: function normalized() {\n\t            var magnitude = Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\n\t\n\t            return new Quaternion([this.x / magnitude, this.y / magnitude, this.z / magnitude, this.w / magnitude]);\n\t        }\n\t\n\t        /**\n\t         * A copy of this quaternion pointing in the opposite direction.\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'conjugate',\n\t        value: function conjugate() {\n\t            return new Quaternion([-this.x, -this.y, -this.z, this.w]);\n\t        }\n\t\n\t        /**\n\t         * Convert Quaternion to Euler angles.\n\t         * @see http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToEuler/\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'toEuler',\n\t        value: function toEuler() {\n\t            var test = 0,\n\t                heading = 0,\n\t                attitude = 0,\n\t                bank = 0,\n\t                sqx = 0,\n\t                sqy = 0,\n\t                sqz = 0,\n\t                sqw = 0,\n\t                unit = 0;\n\t\n\t            sqw = this.w * this.w;\n\t            sqx = this.x * this.x;\n\t            sqy = this.y * this.y;\n\t            sqz = this.z * this.z;\n\t            unit = sqx + sqy + sqz + sqw; // If normalised is one, otherwise is correction factor\n\t            test = this.x * this.y + this.z * this.w;\n\t            if (test > 0.499 * unit /* Singularity at north pole */) {\n\t                    heading = 2 * Math.atan2(this.x, this.w);\n\t                    attitude = Math.PI / 2;\n\t                    bank = 0;\n\t                } else if (test < -0.499 * unit /* Singularity at south pole */) {\n\t                    heading = -2 * Math.atan2(this.x, this.w);\n\t                    attitude = -Math.PI / 2;\n\t                    bank = 0;\n\t                } else {\n\t                heading = Math.atan2(2 * this.y * this.w - 2 * this.x * this.z, sqx - sqy - sqz + sqw);\n\t                attitude = Math.asin(2 * test / unit);\n\t                bank = Math.atan2(2 * this.x * this.w - 2 * this.y * this.z, -sqx + sqy - sqz + sqw);\n\t            }\n\t\n\t            return {\n\t                heading: heading, // Heading = rotation about y axis\n\t                attitude: attitude, // Attitude = rotation about z axis\n\t                bank: bank // Bank = rotation about x axis\n\t            };\n\t        }\n\t\n\t        /**\n\t         * Convert Quaternion to Euler angles (roll).\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'roll',\n\t        value: function roll() {\n\t            return Math.atan2(2 * this.y * this.w - 2 * this.x * this.z, 1 - 2 * this.y * this.y - 2 * this.z * this.z);\n\t        }\n\t\n\t        /**\n\t         * Convert Quaternion to Euler angles (pitch).\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'pitch',\n\t        value: function pitch() {\n\t            return Math.atan2(2 * this.x * this.w - 2 * this.y * this.z, 1 - 2 * this.x * this.x - 2 * this.z * this.z);\n\t        }\n\t\n\t        /**\n\t         * Convert Quaternion to Euler angles (yaw).\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'yaw',\n\t        value: function yaw() {\n\t            return Math.asin(2 * this.x * this.y + 2 * this.z * this.w);\n\t        }\n\t\n\t        /**\n\t         * An invalid Quaternion object.\n\t         *\n\t         * You can use this Quaternion instance in comparisons testing\n\t         * whether a given Quaternion instance is valid or invalid.\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'toString',\n\t\n\t\n\t        /**\n\t         * Returns a string containing this quaternion in a human readable format: (x, y, z, w).\n\t         * @return\n\t         *\n\t         */\n\t        value: function toString() {\n\t            if (!this.valid) {\n\t                return '[Quaternion invalid]';\n\t            }\n\t            return '[Quaternion x:' + this.x + ' y:' + this.y + ' z:' + this.z + ' w:' + this.w + ']';\n\t        }\n\t    }], [{\n\t        key: 'invalid',\n\t        value: function invalid() {\n\t            return new Quaternion({\n\t                invalid: true\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return Quaternion;\n\t}();\n\t\n\texports.default = Quaternion;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Vector3 = function () {\n\t    function Vector3(data) {\n\t        _classCallCheck(this, Vector3);\n\t\n\t        if (!data) {\n\t            throw new Error('Missing constructor arguments');\n\t        }\n\t        if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) !== 'object') {\n\t            throw new Error('Constructor parameter needs to be an object');\n\t        }\n\t\n\t        /**\n\t         * Indicates whether this is a valid Vector3 object.\n\t         */\n\t        this.valid = !data.hasOwnProperty('invalid');\n\t\n\t        if (this.valid) {\n\t            if (!data || Object.prototype.toString.call(data) !== '[object Array]') {\n\t                throw new Error('Components needs to be an array');\n\t            }\n\t            if (isNaN(data[0]) || isNaN(data[1]) || isNaN(data[2])) {\n\t                throw new Error('Component values needs to be integers or numbers');\n\t            }\n\t            this.x = data[0];\n\t            this.y = data[1];\n\t            this.z = data[2];\n\t        } else {\n\t            this.x = NaN;\n\t            this.y = NaN;\n\t            this.z = NaN;\n\t        }\n\t    }\n\t\n\t    /**\n\t     * A copy of this vector pointing in the opposite direction.\n\t     * @return {Vector3} A Vector3 object with all components negated.\n\t     *\n\t     */\n\t\n\t\n\t    _createClass(Vector3, [{\n\t        key: 'opposite',\n\t        value: function opposite() {\n\t            return new Vector3([-this.x, -this.y, -this.z]);\n\t        }\n\t\n\t        /**\n\t         * Add vectors component-wise.\n\t         * @param other\n\t         * @return {Vector3}\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'plus',\n\t        value: function plus(other) {\n\t            return new Vector3([this.x + other.x, this.y + other.y, this.z + other.z]);\n\t        }\n\t\n\t        /**\n\t         * Add vectors component-wise and assign the value.\n\t         * @param other\n\t         * @return {Vector3} This Vector3.\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'plusAssign',\n\t        value: function plusAssign(other) {\n\t            this.x += other.x;\n\t            this.y += other.y;\n\t            this.z += other.z;\n\t            return this;\n\t        }\n\t\n\t        /**\n\t         * A copy of this vector pointing in the opposite direction (conjugate).\n\t         * @param other\n\t         * @return {Vector3}\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'minus',\n\t        value: function minus(other) {\n\t            return new Vector3([this.x - other.x, this.y - other.y, this.z - other.z]);\n\t        }\n\t\n\t        /**\n\t         * A copy of this vector pointing in the opposite direction and assign the value.\n\t         * @param other\n\t         * @return {Vector3} This Vector3.\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'minusAssign',\n\t        value: function minusAssign(other) {\n\t            this.x -= other.x;\n\t            this.y -= other.y;\n\t            this.z -= other.z;\n\t            return this;\n\t        }\n\t\n\t        /**\n\t         * Multiply vector by a scalar.\n\t         * @param scalar\n\t         * @return {Vector3}\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'multiply',\n\t        value: function multiply(scalar) {\n\t            return new Vector3([this.x * scalar, this.y * scalar, this.z * scalar]);\n\t        }\n\t\n\t        /**\n\t         * Multiply vector by a scalar and assign the quotient.\n\t         * @param scalar\n\t         * @return {Vector3} This Vector3.\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'multiplyAssign',\n\t        value: function multiplyAssign(scalar) {\n\t            this.x *= scalar;\n\t            this.y *= scalar;\n\t            this.z *= scalar;\n\t            return this;\n\t        }\n\t\n\t        /**\n\t         * Divide vector by a scalar.\n\t         * @param scalar\n\t         * @return {Vector3}\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'divide',\n\t        value: function divide(scalar) {\n\t            return new Vector3([this.x / scalar, this.y / scalar, this.z / scalar]);\n\t        }\n\t\n\t        /**\n\t         * Divide vector by a scalar and assign the value.\n\t         * @param scalar\n\t         * @return {Vector3} This Vector3.\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'divideAssign',\n\t        value: function divideAssign(scalar) {\n\t            this.x /= scalar;\n\t            this.y /= scalar;\n\t            this.z /= scalar;\n\t            return this;\n\t        }\n\t\n\t        /**\n\t         * Compare Vector equality/inequality component-wise.\n\t         * @param other The Vector3 to compare with.\n\t         * @return {boolean} true; if equal, false otherwise.\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'isEqualTo',\n\t        value: function isEqualTo(other) {\n\t            return !(this.x !== other.x || this.y !== other.y || this.z !== other.z);\n\t        }\n\t\n\t        /**\n\t         * The angle between this vector and the specified vector in radians.\n\t         *\n\t         * <p>The angle is measured in the plane formed by the two vectors.\n\t         * The angle returned is always the smaller of the two conjugate angles.\n\t         * Thus <code>A.angleTo(B) === B.angleTo(A)</code> and is always a positive value less\n\t         * than or equal to pi radians (180 degrees).</p>\n\t         *\n\t         * <p>If either vector has zero length, then this method returns zero.</p>\n\t         *\n\t         * @param other A Vector object.\n\t         * @return {number} The angle between this vector and the specified vector in radians.\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'angleTo',\n\t        value: function angleTo(other) {\n\t            var denom = this.magnitudeSquared() * other.magnitudeSquared();\n\t            var returnValue = 0;\n\t\n\t            if (denom <= 0) {\n\t                returnValue = 0;\n\t            } else {\n\t                returnValue = Math.acos(this.dot(other) / Math.sqrt(denom));\n\t            }\n\t            return returnValue;\n\t        }\n\t\n\t        /**\n\t         * The cross product of this vector and the specified vector.\n\t         *\n\t         * The cross product is a vector orthogonal to both original vectors.\n\t         * It has a magnitude equal to the area of a parallelogram having the\n\t         * two vectors as sides. The direction of the returned vector is\n\t         * determined by the right-hand rule. Thus <code>A.cross(B) === -B.cross(A)</code>.\n\t         *\n\t         * @param other A Vector object.\n\t         * @return {Vector3} The cross product of this vector and the specified vector.\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'cross',\n\t        value: function cross(other) {\n\t            return new Vector3([this.y * other.z - this.z * other.y, this.z * other.x - this.x * other.z, this.x * other.y - this.y * other.x]);\n\t        }\n\t\n\t        /**\n\t         * The distance between the point represented by this Vector\n\t         * object and a point represented by the specified Vector object.\n\t         *\n\t         * @param other A Vector object.\n\t         * @return {number} The distance from this point to the specified point.\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'distanceTo',\n\t        value: function distanceTo(other) {\n\t            return Math.sqrt((this.x - other.x) * (this.x - other.x) + (this.y - other.y) * (this.y - other.y) + (this.z - other.z) * (this.z - other.z));\n\t        }\n\t\n\t        /**\n\t         * The dot product of this vector with another vector.\n\t         * The dot product is the magnitude of the projection of this vector\n\t         * onto the specified vector.\n\t         *\n\t         * @param other A Vector object.\n\t         * @return {number} The dot product of this vector and the specified vector.\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'dot',\n\t        value: function dot(other) {\n\t            return this.x * other.x + this.y * other.y + this.z * other.z;\n\t        }\n\t\n\t        /**\n\t         * Returns true if all of the vector's components are finite.\n\t         * @return {boolean} If any component is NaN or infinite, then this returns false.\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'isValid',\n\t        value: function isValid() {\n\t            return this.x <= Number.MAX_VALUE && this.x >= -Number.MAX_VALUE && this.y <= Number.MAX_VALUE && this.y >= -Number.MAX_VALUE && this.z <= Number.MAX_VALUE && this.z >= -Number.MAX_VALUE;\n\t        }\n\t\n\t        /**\n\t         * The magnitude, or length, of this vector.\n\t         * The magnitude is the L2 norm, or Euclidean distance between the\n\t         * origin and the point represented by the (x, y, z) components\n\t         * of this Vector object.\n\t         *\n\t         * @return {number} The length of this vector.\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'magnitude',\n\t        value: function magnitude() {\n\t            return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n\t        }\n\t\n\t        /**\n\t         * The square of the magnitude, or length, of this vector.\n\t         * @return {number} The square of the length of this vector.\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'magnitudeSquared',\n\t        value: function magnitudeSquared() {\n\t            return this.x * this.x + this.y * this.y + this.z * this.z;\n\t        }\n\t\n\t        /**\n\t         * A normalized copy of this vector.\n\t         * A normalized vector has the same direction as the original\n\t         * vector, but with a length of one.\n\t         * @return {Vector3} A Vector object with a length of one, pointing in the same direction as this Vector object.\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'normalized',\n\t        value: function normalized() {\n\t            var denom = this.magnitudeSquared();\n\t            if (denom <= 0) {\n\t                return new Vector3([0, 0, 0]);\n\t            }\n\t\n\t            denom = 1 / Math.sqrt(denom);\n\t            return new Vector3([this.x * denom, this.y * denom, this.z * denom]);\n\t        }\n\t\n\t        /**\n\t         * The pitch angle in radians.\n\t         * Pitch is the angle between the negative z-axis and the projection\n\t         * of the vector onto the y-z plane. In other words, pitch represents\n\t         * rotation around the x-axis. If the vector points upward, the\n\t         * returned angle is between 0 and pi radians (180 degrees); if it\n\t         * points downward, the angle is between 0 and -pi radians.\n\t         *\n\t         * @return {number} The angle of this vector above or below the horizon (x-z plane).\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'pitch',\n\t        value: function pitch() {\n\t            return Math.atan2(this.y, -this.z);\n\t        }\n\t\n\t        /**\n\t         * The yaw angle in radians.\n\t         * Yaw is the angle between the negative z-axis and the projection\n\t         * of the vector onto the x-z plane. In other words, yaw represents\n\t         * rotation around the y-axis. If the vector points to the right of\n\t         * the negative z-axis, then the returned angle is between 0 and pi\n\t         * radians (180 degrees); if it points to the left, the angle is\n\t         * between 0 and -pi radians.\n\t         *\n\t         * @return {number} The angle of this vector to the right or left of the negative z-axis.\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'yaw',\n\t        value: function yaw() {\n\t            return Math.atan2(this.x, -this.z);\n\t        }\n\t\n\t        /**\n\t         * The roll angle in radians.\n\t         * Roll is the angle between the y-axis and the projection of the vector\n\t         * onto the x-y plane. In other words, roll represents rotation around\n\t         * the z-axis. If the vector points to the left of the y-axis, then the\n\t         * returned angle is between 0 and pi radians (180 degrees); if it\n\t         * points to the right, the angle is between 0 and -pi radians.\n\t         *\n\t         * Use this method to get roll angle of the plane to which this vector\n\t         * is a normal. For example, if this vector represents the normal to\n\t         * the palm, then this method returns the tilt or roll of the palm\n\t         * plane compared to the horizontal (x-z) plane.\n\t         *\n\t         * @return {number} The angle of this vector to the right or left of the y-axis.\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'roll',\n\t        value: function roll() {\n\t            return Math.atan2(this.x, -this.y);\n\t        }\n\t\n\t        /**\n\t         * The zero vector: (0, 0, 0)\n\t         * @return {Vector3}\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'toString',\n\t\n\t\n\t        /**\n\t         * Returns a string containing this vector in a human readable format: (x, y, z).\n\t         * @return {String}\n\t         *\n\t         */\n\t        value: function toString() {\n\t            if (!this.valid) {\n\t                return '[Vector3 invalid]';\n\t            }\n\t            return '[Vector3 x:' + this.x + ' y:' + this.y + ' z:' + this.z + ']';\n\t        }\n\t    }], [{\n\t        key: 'zero',\n\t        value: function zero() {\n\t            return new Vector3([0, 0, 0]);\n\t        }\n\t\n\t        /**\n\t         * The x-axis unit vector: (1, 0, 0)\n\t         * @return {Vector3}\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'xAxis',\n\t        value: function xAxis() {\n\t            return new Vector3([1, 0, 0]);\n\t        }\n\t\n\t        /**\n\t         * The y-axis unit vector: (0, 1, 0)\n\t         * @return {Vector3}\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'yAxis',\n\t        value: function yAxis() {\n\t            return new Vector3([0, 1, 0]);\n\t        }\n\t\n\t        /**\n\t         * The z-axis unit vector: (0, 0, 1)\n\t         * @return {Vector3}\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'zAxis',\n\t        value: function zAxis() {\n\t            return new Vector3([0, 0, 1]);\n\t        }\n\t\n\t        /**\n\t         * The unit vector pointing left along the negative x-axis: (-1, 0, 0)\n\t         * @return {Vector3}\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'left',\n\t        value: function left() {\n\t            return new Vector3([-1, 0, 0]);\n\t        }\n\t\n\t        /**\n\t         * The unit vector pointing right along the positive x-axis: (1, 0, 0)\n\t         * @return {Vector3}\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'right',\n\t        value: function right() {\n\t            return Vector3.xAxis();\n\t        }\n\t\n\t        /**\n\t         * The unit vector pointing down along the negative y-axis: (0, -1, 0)\n\t         * @return {Vector3}\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'down',\n\t        value: function down() {\n\t            return new Vector3([0, -1, 0]);\n\t        }\n\t\n\t        /**\n\t         * The unit vector pointing up along the positive x-axis: (0, 1, 0)\n\t         * @return {Vector3}\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'up',\n\t        value: function up() {\n\t            return Vector3.yAxis();\n\t        }\n\t\n\t        /**\n\t         * The unit vector pointing forward along the negative z-axis: (0, 0, -1)\n\t         * @return {Vector3}\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'forward',\n\t        value: function forward() {\n\t            return new Vector3([0, 0, -1]);\n\t        }\n\t\n\t        /**\n\t         * The unit vector pointing backward along the positive z-axis: (0, 0, 1)\n\t         * @return {Vector3}\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'backward',\n\t        value: function backward() {\n\t            return Vector3.zAxis();\n\t        }\n\t\n\t        /**\n\t         * An invalid Vector3 object.\n\t         *\n\t         * You can use this Vector3 instance in comparisons testing\n\t         * whether a given Vector3 instance is valid or invalid.\n\t         * @return {Vector3}\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'invalid',\n\t        value: function invalid() {\n\t            return new Vector3({\n\t                invalid: true\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return Vector3;\n\t}();\n\t\n\texports.default = Vector3;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _events = __webpack_require__(2);\n\t\n\tvar _Frame = __webpack_require__(5);\n\t\n\tvar _Frame2 = _interopRequireDefault(_Frame);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar BaseConnection = function (_EventEmitter) {\n\t    _inherits(BaseConnection, _EventEmitter);\n\t\n\t    function BaseConnection() {\n\t        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t            _ref$host = _ref.host,\n\t            host = _ref$host === undefined ? '127.0.0.1' : _ref$host,\n\t            _ref$port = _ref.port,\n\t            port = _ref$port === undefined ? 6450 : _ref$port;\n\t\n\t        _classCallCheck(this, BaseConnection);\n\t\n\t        var _this = _possibleConstructorReturn(this, (BaseConnection.__proto__ || Object.getPrototypeOf(BaseConnection)).call(this));\n\t\n\t        if (typeof host !== 'string') {\n\t            throw new Error('Host needs to be of type string');\n\t        }\n\t        if (port !== parseInt(port, 10)) {\n\t            throw new Error('Port needs to be of type integer');\n\t        }\n\t\n\t        _this.host = host;\n\t        _this.port = port;\n\t        _this.connected = false;\n\t        return _this;\n\t    }\n\t\n\t    _createClass(BaseConnection, [{\n\t        key: 'getUrl',\n\t        value: function getUrl() {\n\t            return 'ws://' + this.host + ':' + this.port + '/';\n\t        }\n\t    }, {\n\t        key: 'handleOpen',\n\t        value: function handleOpen() {\n\t            var returnValue = '';\n\t\n\t            if (!this.connected) {\n\t                this.send({\n\t                    'command': 'requestDeviceInfo'\n\t                });\n\t                returnValue = 'connecting';\n\t            } else {\n\t                returnValue = 'connected';\n\t            }\n\t            return returnValue;\n\t        }\n\t    }, {\n\t        key: 'handleClose',\n\t        value: function handleClose() {\n\t            var returnValue = 'disconnected';\n\t\n\t            if (this.connected) {\n\t                this.disconnect();\n\t                this.startReconnection();\n\t                returnValue = 'disconnecting';\n\t            }\n\t            return returnValue;\n\t        }\n\t    }, {\n\t        key: 'startReconnection',\n\t        value: function startReconnection() {\n\t            var _this2 = this;\n\t\n\t            var returnValue = '';\n\t\n\t            if (!this.reconnectionTimer) {\n\t                this.reconnectionTimer = setInterval(function () {\n\t                    _this2.reconnect();\n\t                }, 500);\n\t                returnValue = 'reconnecting';\n\t            } else {\n\t                returnValue = 'already reconnecting';\n\t            }\n\t            return returnValue;\n\t        }\n\t    }, {\n\t        key: 'stopReconnection',\n\t        value: function stopReconnection() {\n\t            this.reconnectionTimer = clearInterval(this.reconnectionTimer);\n\t        }\n\t    }, {\n\t        key: 'disconnect',\n\t        value: function disconnect(allowReconnect) {\n\t            if (!allowReconnect) {\n\t                this.stopReconnection();\n\t            }\n\t            if (!this.socket) {\n\t                return;\n\t            }\n\t            this.socket.close();\n\t            delete this.socket;\n\t            if (this.connected) {\n\t                this.connected = false;\n\t                this.emit('disconnect');\n\t            }\n\t        }\n\t    }, {\n\t        key: 'reconnect',\n\t        value: function reconnect() {\n\t            var returnValue = '';\n\t\n\t            if (this.connected) {\n\t                this.stopReconnection();\n\t                returnValue = 'stopReconnection';\n\t            } else {\n\t                this.disconnect(true);\n\t                this.connect();\n\t                returnValue = 'connect';\n\t            }\n\t            return returnValue;\n\t        }\n\t    }, {\n\t        key: 'handleData',\n\t        value: function handleData(data) {\n\t            var message = {};\n\t\n\t            if (!data) {\n\t                throw new Error('No data received');\n\t            }\n\t\n\t            // TODO: Profile performance of this try/catch block\n\t            try {\n\t                message = JSON.parse(data);\n\t            } catch (exception) {\n\t                throw new Error('Invalid JSON');\n\t            }\n\t\n\t            // Wait for deviceInfo until connected\n\t            if (!this.connected && message.hasOwnProperty('frame')) {\n\t                var frame = message.frame;\n\t                if (frame.hasOwnProperty('deviceInfo')) {\n\t                    var deviceInfo = frame.deviceInfo;\n\t                    this.emit('deviceInfo', deviceInfo);\n\t                    this.connected = true;\n\t                    this.emit('connect');\n\t                    return;\n\t                }\n\t            }\n\t\n\t            if (!this.connected) {\n\t                return;\n\t            }\n\t\n\t            if (message.hasOwnProperty('frame')) {\n\t                var frameObject = new _Frame2.default(message.frame);\n\t                this.emit(frameObject.type, frameObject);\n\t\n\t                // Emit pose if existing\n\t                if (frameObject.pose) {\n\t                    this.emit('pose', frameObject.pose);\n\t                }\n\t\n\t                // Emit event if existing\n\t                if (frameObject.event) {\n\t                    this.emit('event', frameObject.event);\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'connect',\n\t        value: function connect() {\n\t            var _this3 = this;\n\t\n\t            var inBrowser = typeof window !== 'undefined';\n\t\n\t            if (this.socket) {\n\t                return 'socket already created';\n\t            }\n\t\n\t            this.emit('ready');\n\t\n\t            if (inBrowser) {\n\t                this.socket = new WebSocket(this.getUrl());\n\t            } else {\n\t                var ConnectionType = __webpack_require__(23);\n\t                this.socket = new ConnectionType(this.getUrl());\n\t            }\n\t\n\t            this.socket.onopen = function () {\n\t                _this3.handleOpen();\n\t            };\n\t            this.socket.onclose = function (data) {\n\t                _this3.handleClose(data.code, data.reason);\n\t            };\n\t            this.socket.onmessage = function (message) {\n\t                _this3.handleData(message.data);\n\t            };\n\t            this.socket.onerror = function (data) {\n\t                _this3.handleClose('connectError', data.data);\n\t            };\n\t\n\t            return true;\n\t        }\n\t    }, {\n\t        key: 'send',\n\t        value: function send(data) {\n\t            if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) !== 'object' || typeof data === 'string') {\n\t                throw new Error('Parameter needs to be an object');\n\t            }\n\t            this.socket.send(JSON.stringify(data));\n\t        }\n\t    }]);\n\t\n\t    return BaseConnection;\n\t}(_events.EventEmitter);\n\t\n\texports.default = BaseConnection;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*!\n\t * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n\t * MIT Licensed\n\t */\n\t\n\tvar fs = __webpack_require__(31);\n\t\n\tfunction Options(defaults) {\n\t  var internalValues = {};\n\t  var values = this.value = {};\n\t  Object.keys(defaults).forEach(function(key) {\n\t    internalValues[key] = defaults[key];\n\t    Object.defineProperty(values, key, {\n\t      get: function() { return internalValues[key]; },\n\t      configurable: false,\n\t      enumerable: true\n\t    });\n\t  });\n\t  this.reset = function() {\n\t    Object.keys(defaults).forEach(function(key) {\n\t      internalValues[key] = defaults[key];\n\t    });\n\t    return this;\n\t  };\n\t  this.merge = function(options, required) {\n\t    options = options || {};\n\t    if (Object.prototype.toString.call(required) === '[object Array]') {\n\t      var missing = [];\n\t      for (var i = 0, l = required.length; i < l; ++i) {\n\t        var key = required[i];\n\t        if (!(key in options)) {\n\t          missing.push(key);\n\t        }\n\t      }\n\t      if (missing.length > 0) {\n\t        if (missing.length > 1) {\n\t          throw new Error('options ' +\n\t            missing.slice(0, missing.length - 1).join(', ') + ' and ' +\n\t            missing[missing.length - 1] + ' must be defined');\n\t        }\n\t        else throw new Error('option ' + missing[0] + ' must be defined');\n\t      }\n\t    }\n\t    Object.keys(options).forEach(function(key) {\n\t      if (key in internalValues) {\n\t        internalValues[key] = options[key];\n\t      }\n\t    });\n\t    return this;\n\t  };\n\t  this.copy = function(keys) {\n\t    var obj = {};\n\t    Object.keys(defaults).forEach(function(key) {\n\t      if (keys.indexOf(key) !== -1) {\n\t        obj[key] = values[key];\n\t      }\n\t    });\n\t    return obj;\n\t  };\n\t  this.read = function(filename, cb) {\n\t    if (typeof cb == 'function') {\n\t      var self = this;\n\t      fs.readFile(filename, function(error, data) {\n\t        if (error) return cb(error);\n\t        var conf = JSON.parse(data);\n\t        self.merge(conf);\n\t        cb();\n\t      });\n\t    }\n\t    else {\n\t      var conf = JSON.parse(fs.readFileSync(filename));\n\t      this.merge(conf);\n\t    }\n\t    return this;\n\t  };\n\t  this.isDefined = function(key) {\n\t    return typeof values[key] != 'undefined';\n\t  };\n\t  this.isDefinedAndNonNull = function(key) {\n\t    return typeof values[key] != 'undefined' && values[key] !== null;\n\t  };\n\t  Object.freeze(values);\n\t  Object.freeze(this);\n\t}\n\t\n\tmodule.exports = Options;\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/*!\n\t * ws: a node.js websocket client\n\t * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n\t * MIT Licensed\n\t */\n\t\n\ttry {\n\t  module.exports = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"bufferutil\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\t} catch (e) {\n\t  module.exports = __webpack_require__(25);\n\t}\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t/*!\n\t * ws: a node.js websocket client\n\t * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n\t * MIT Licensed\n\t */\n\t\n\tmodule.exports = {\n\t  isValidErrorCode: function(code) {\n\t    return (code >= 1000 && code <= 1011 && code != 1004 && code != 1005 && code != 1006) ||\n\t         (code >= 3000 && code <= 4999);\n\t  },\n\t  1000: 'normal',\n\t  1001: 'going away',\n\t  1002: 'protocol error',\n\t  1003: 'unsupported data',\n\t  1004: 'reserved',\n\t  1005: 'reserved for extensions',\n\t  1006: 'reserved for extensions',\n\t  1007: 'inconsistent or invalid data',\n\t  1008: 'policy violation',\n\t  1009: 'message too big',\n\t  1010: 'extension handshake missing',\n\t  1011: 'an unexpected condition prevented the request from being fulfilled',\n\t};\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\tvar util = __webpack_require__(1);\n\t\n\t/**\n\t * Module exports.\n\t */\n\t\n\texports.parse = parse;\n\texports.format = format;\n\t\n\t/**\n\t * Parse extensions header value\n\t */\n\t\n\tfunction parse(value) {\n\t  value = value || '';\n\t\n\t  var extensions = {};\n\t\n\t  value.split(',').forEach(function(v) {\n\t    var params = v.split(';');\n\t    var token = params.shift().trim();\n\t    var paramsList = extensions[token] = extensions[token] || [];\n\t    var parsedParams = {};\n\t\n\t    params.forEach(function(param) {\n\t      var parts = param.trim().split('=');\n\t      var key = parts[0];\n\t      var value = parts[1];\n\t      if (typeof value === 'undefined') {\n\t        value = true;\n\t      } else {\n\t        // unquote value\n\t        if (value[0] === '\"') {\n\t          value = value.slice(1);\n\t        }\n\t        if (value[value.length - 1] === '\"') {\n\t          value = value.slice(0, value.length - 1);\n\t        }\n\t      }\n\t      (parsedParams[key] = parsedParams[key] || []).push(value);\n\t    });\n\t\n\t    paramsList.push(parsedParams);\n\t  });\n\t\n\t  return extensions;\n\t}\n\t\n\t/**\n\t * Format extensions header value\n\t */\n\t\n\tfunction format(value) {\n\t  return Object.keys(value).map(function(token) {\n\t    var paramsList = value[token];\n\t    if (!util.isArray(paramsList)) {\n\t      paramsList = [paramsList];\n\t    }\n\t    return paramsList.map(function(params) {\n\t      return [token].concat(Object.keys(params).map(function(k) {\n\t        var p = params[k];\n\t        if (!util.isArray(p)) p = [p];\n\t        return p.map(function(v) {\n\t          return v === true ? k : k + '=' + v;\n\t        }).join('; ');\n\t      })).join('; ');\n\t    }).join(', ');\n\t  }).join(', ');\n\t}\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*!\n\t * ws: a node.js websocket client\n\t * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n\t * MIT Licensed\n\t */\n\t\n\tvar util = __webpack_require__(1)\n\t  , Validation = __webpack_require__(29).Validation\n\t  , ErrorCodes = __webpack_require__(13)\n\t  , BufferPool = __webpack_require__(24)\n\t  , bufferUtil = __webpack_require__(12).BufferUtil\n\t  , PerMessageDeflate = __webpack_require__(3);\n\t\n\t/**\n\t * HyBi Receiver implementation\n\t */\n\t\n\tfunction Receiver (extensions,maxPayload) {\n\t  if (this instanceof Receiver === false) {\n\t    throw new TypeError(\"Classes can't be function-called\");\n\t  }\n\t  if(typeof extensions==='number'){\n\t    maxPayload=extensions;\n\t    extensions={};\n\t  }\n\t\n\t\n\t  // memory pool for fragmented messages\n\t  var fragmentedPoolPrevUsed = -1;\n\t  this.fragmentedBufferPool = new BufferPool(1024, function(db, length) {\n\t    return db.used + length;\n\t  }, function(db) {\n\t    return fragmentedPoolPrevUsed = fragmentedPoolPrevUsed >= 0 ?\n\t      Math.ceil((fragmentedPoolPrevUsed + db.used) / 2) :\n\t      db.used;\n\t  });\n\t\n\t  // memory pool for unfragmented messages\n\t  var unfragmentedPoolPrevUsed = -1;\n\t  this.unfragmentedBufferPool = new BufferPool(1024, function(db, length) {\n\t    return db.used + length;\n\t  }, function(db) {\n\t    return unfragmentedPoolPrevUsed = unfragmentedPoolPrevUsed >= 0 ?\n\t      Math.ceil((unfragmentedPoolPrevUsed + db.used) / 2) :\n\t      db.used;\n\t  });\n\t  this.extensions = extensions || {};\n\t  this.maxPayload = maxPayload || 0;\n\t  this.currentPayloadLength = 0;\n\t  this.state = {\n\t    activeFragmentedOperation: null,\n\t    lastFragment: false,\n\t    masked: false,\n\t    opcode: 0,\n\t    fragmentedOperation: false\n\t  };\n\t  this.overflow = [];\n\t  this.headerBuffer = new Buffer(10);\n\t  this.expectOffset = 0;\n\t  this.expectBuffer = null;\n\t  this.expectHandler = null;\n\t  this.currentMessage = [];\n\t  this.currentMessageLength = 0;\n\t  this.messageHandlers = [];\n\t  this.expectHeader(2, this.processPacket);\n\t  this.dead = false;\n\t  this.processing = false;\n\t\n\t  this.onerror = function() {};\n\t  this.ontext = function() {};\n\t  this.onbinary = function() {};\n\t  this.onclose = function() {};\n\t  this.onping = function() {};\n\t  this.onpong = function() {};\n\t}\n\t\n\tmodule.exports = Receiver;\n\t\n\t/**\n\t * Add new data to the parser.\n\t *\n\t * @api public\n\t */\n\t\n\tReceiver.prototype.add = function(data) {\n\t  if (this.dead) return;\n\t  var dataLength = data.length;\n\t  if (dataLength == 0) return;\n\t  if (this.expectBuffer == null) {\n\t    this.overflow.push(data);\n\t    return;\n\t  }\n\t  var toRead = Math.min(dataLength, this.expectBuffer.length - this.expectOffset);\n\t  fastCopy(toRead, data, this.expectBuffer, this.expectOffset);\n\t  this.expectOffset += toRead;\n\t  if (toRead < dataLength) {\n\t    this.overflow.push(data.slice(toRead));\n\t  }\n\t  while (this.expectBuffer && this.expectOffset == this.expectBuffer.length) {\n\t    var bufferForHandler = this.expectBuffer;\n\t    this.expectBuffer = null;\n\t    this.expectOffset = 0;\n\t    this.expectHandler.call(this, bufferForHandler);\n\t  }\n\t};\n\t\n\t/**\n\t * Releases all resources used by the receiver.\n\t *\n\t * @api public\n\t */\n\t\n\tReceiver.prototype.cleanup = function() {\n\t  this.dead = true;\n\t  this.overflow = null;\n\t  this.headerBuffer = null;\n\t  this.expectBuffer = null;\n\t  this.expectHandler = null;\n\t  this.unfragmentedBufferPool = null;\n\t  this.fragmentedBufferPool = null;\n\t  this.state = null;\n\t  this.currentMessage = null;\n\t  this.onerror = null;\n\t  this.ontext = null;\n\t  this.onbinary = null;\n\t  this.onclose = null;\n\t  this.onping = null;\n\t  this.onpong = null;\n\t};\n\t\n\t/**\n\t * Waits for a certain amount of header bytes to be available, then fires a callback.\n\t *\n\t * @api private\n\t */\n\t\n\tReceiver.prototype.expectHeader = function(length, handler) {\n\t  if (length == 0) {\n\t    handler(null);\n\t    return;\n\t  }\n\t  this.expectBuffer = this.headerBuffer.slice(this.expectOffset, this.expectOffset + length);\n\t  this.expectHandler = handler;\n\t  var toRead = length;\n\t  while (toRead > 0 && this.overflow.length > 0) {\n\t    var fromOverflow = this.overflow.pop();\n\t    if (toRead < fromOverflow.length) this.overflow.push(fromOverflow.slice(toRead));\n\t    var read = Math.min(fromOverflow.length, toRead);\n\t    fastCopy(read, fromOverflow, this.expectBuffer, this.expectOffset);\n\t    this.expectOffset += read;\n\t    toRead -= read;\n\t  }\n\t};\n\t\n\t/**\n\t * Waits for a certain amount of data bytes to be available, then fires a callback.\n\t *\n\t * @api private\n\t */\n\t\n\tReceiver.prototype.expectData = function(length, handler) {\n\t  if (length == 0) {\n\t    handler(null);\n\t    return;\n\t  }\n\t  this.expectBuffer = this.allocateFromPool(length, this.state.fragmentedOperation);\n\t  this.expectHandler = handler;\n\t  var toRead = length;\n\t  while (toRead > 0 && this.overflow.length > 0) {\n\t    var fromOverflow = this.overflow.pop();\n\t    if (toRead < fromOverflow.length) this.overflow.push(fromOverflow.slice(toRead));\n\t    var read = Math.min(fromOverflow.length, toRead);\n\t    fastCopy(read, fromOverflow, this.expectBuffer, this.expectOffset);\n\t    this.expectOffset += read;\n\t    toRead -= read;\n\t  }\n\t};\n\t\n\t/**\n\t * Allocates memory from the buffer pool.\n\t *\n\t * @api private\n\t */\n\t\n\tReceiver.prototype.allocateFromPool = function(length, isFragmented) {\n\t  return (isFragmented ? this.fragmentedBufferPool : this.unfragmentedBufferPool).get(length);\n\t};\n\t\n\t/**\n\t * Start processing a new packet.\n\t *\n\t * @api private\n\t */\n\t\n\tReceiver.prototype.processPacket = function (data) {\n\t  if (this.extensions[PerMessageDeflate.extensionName]) {\n\t    if ((data[0] & 0x30) != 0) {\n\t      this.error('reserved fields (2, 3) must be empty', 1002);\n\t      return;\n\t    }\n\t  } else {\n\t    if ((data[0] & 0x70) != 0) {\n\t      this.error('reserved fields must be empty', 1002);\n\t      return;\n\t    }\n\t  }\n\t  this.state.lastFragment = (data[0] & 0x80) == 0x80;\n\t  this.state.masked = (data[1] & 0x80) == 0x80;\n\t  var compressed = (data[0] & 0x40) == 0x40;\n\t  var opcode = data[0] & 0xf;\n\t  if (opcode === 0) {\n\t    if (compressed) {\n\t      this.error('continuation frame cannot have the Per-message Compressed bits', 1002);\n\t      return;\n\t    }\n\t    // continuation frame\n\t    this.state.fragmentedOperation = true;\n\t    this.state.opcode = this.state.activeFragmentedOperation;\n\t    if (!(this.state.opcode == 1 || this.state.opcode == 2)) {\n\t      this.error('continuation frame cannot follow current opcode', 1002);\n\t      return;\n\t    }\n\t  }\n\t  else {\n\t    if (opcode < 3 && this.state.activeFragmentedOperation != null) {\n\t      this.error('data frames after the initial data frame must have opcode 0', 1002);\n\t      return;\n\t    }\n\t    if (opcode >= 8 && compressed) {\n\t      this.error('control frames cannot have the Per-message Compressed bits', 1002);\n\t      return;\n\t    }\n\t    this.state.compressed = compressed;\n\t    this.state.opcode = opcode;\n\t    if (this.state.lastFragment === false) {\n\t      this.state.fragmentedOperation = true;\n\t      this.state.activeFragmentedOperation = opcode;\n\t    }\n\t    else this.state.fragmentedOperation = false;\n\t  }\n\t  var handler = opcodes[this.state.opcode];\n\t  if (typeof handler == 'undefined') this.error('no handler for opcode ' + this.state.opcode, 1002);\n\t  else {\n\t    handler.start.call(this, data);\n\t  }\n\t};\n\t\n\t/**\n\t * Endprocessing a packet.\n\t *\n\t * @api private\n\t */\n\t\n\tReceiver.prototype.endPacket = function() {\n\t  if (this.dead) return;\n\t  if (!this.state.fragmentedOperation) this.unfragmentedBufferPool.reset(true);\n\t  else if (this.state.lastFragment) this.fragmentedBufferPool.reset(true);\n\t  this.expectOffset = 0;\n\t  this.expectBuffer = null;\n\t  this.expectHandler = null;\n\t  if (this.state.lastFragment && this.state.opcode === this.state.activeFragmentedOperation) {\n\t    // end current fragmented operation\n\t    this.state.activeFragmentedOperation = null;\n\t  }\n\t  this.currentPayloadLength = 0;\n\t  this.state.lastFragment = false;\n\t  this.state.opcode = this.state.activeFragmentedOperation != null ? this.state.activeFragmentedOperation : 0;\n\t  this.state.masked = false;\n\t  this.expectHeader(2, this.processPacket);\n\t};\n\t\n\t/**\n\t * Reset the parser state.\n\t *\n\t * @api private\n\t */\n\t\n\tReceiver.prototype.reset = function() {\n\t  if (this.dead) return;\n\t  this.state = {\n\t    activeFragmentedOperation: null,\n\t    lastFragment: false,\n\t    masked: false,\n\t    opcode: 0,\n\t    fragmentedOperation: false\n\t  };\n\t  this.fragmentedBufferPool.reset(true);\n\t  this.unfragmentedBufferPool.reset(true);\n\t  this.expectOffset = 0;\n\t  this.expectBuffer = null;\n\t  this.expectHandler = null;\n\t  this.overflow = [];\n\t  this.currentMessage = [];\n\t  this.currentMessageLength = 0;\n\t  this.messageHandlers = [];\n\t  this.currentPayloadLength = 0;\n\t};\n\t\n\t/**\n\t * Unmask received data.\n\t *\n\t * @api private\n\t */\n\t\n\tReceiver.prototype.unmask = function (mask, buf, binary) {\n\t  if (mask != null && buf != null) bufferUtil.unmask(buf, mask);\n\t  if (binary) return buf;\n\t  return buf != null ? buf.toString('utf8') : '';\n\t};\n\t\n\t/**\n\t * Handles an error\n\t *\n\t * @api private\n\t */\n\t\n\tReceiver.prototype.error = function (reason, protocolErrorCode) {\n\t  if (this.dead) return;\n\t  this.reset();\n\t  if(typeof reason == 'string'){\n\t    this.onerror(new Error(reason), protocolErrorCode);\n\t  }\n\t  else if(reason.constructor == Error){\n\t    this.onerror(reason, protocolErrorCode);\n\t  }\n\t  else{\n\t    this.onerror(new Error(\"An error occured\"),protocolErrorCode);\n\t  }\n\t  return this;\n\t};\n\t\n\t/**\n\t * Execute message handler buffers\n\t *\n\t * @api private\n\t */\n\t\n\tReceiver.prototype.flush = function() {\n\t  if (this.processing || this.dead) return;\n\t\n\t  var handler = this.messageHandlers.shift();\n\t  if (!handler) return;\n\t\n\t  this.processing = true;\n\t  var self = this;\n\t\n\t  handler(function() {\n\t    self.processing = false;\n\t    self.flush();\n\t  });\n\t};\n\t\n\t/**\n\t * Apply extensions to message\n\t *\n\t * @api private\n\t */\n\t\n\tReceiver.prototype.applyExtensions = function(messageBuffer, fin, compressed, callback) {\n\t  var self = this;\n\t  if (compressed) {\n\t    this.extensions[PerMessageDeflate.extensionName].decompress(messageBuffer, fin, function(err, buffer) {\n\t      if (self.dead) return;\n\t      if (err) {\n\t        callback(new Error('invalid compressed data'));\n\t        return;\n\t      }\n\t      callback(null, buffer);\n\t    });\n\t  } else {\n\t    callback(null, messageBuffer);\n\t  }\n\t};\n\t\n\t/**\n\t* Checks payload size, disconnects socket when it exceeds maxPayload\n\t*\n\t* @api private\n\t*/\n\tReceiver.prototype.maxPayloadExceeded = function(length) {\n\t  if (this.maxPayload=== undefined || this.maxPayload === null || this.maxPayload < 1) {\n\t    return false;\n\t  }\n\t  var fullLength = this.currentPayloadLength + length;\n\t  if (fullLength < this.maxPayload) {\n\t    this.currentPayloadLength = fullLength;\n\t    return false;\n\t  }\n\t  this.error('payload cannot exceed ' + this.maxPayload + ' bytes', 1009);\n\t  this.messageBuffer=[];\n\t  this.cleanup();\n\t\n\t  return true;\n\t};\n\t\n\t/**\n\t * Buffer utilities\n\t */\n\t\n\tfunction readUInt16BE(start) {\n\t  return (this[start]<<8) +\n\t         this[start+1];\n\t}\n\t\n\tfunction readUInt32BE(start) {\n\t  return (this[start]<<24) +\n\t         (this[start+1]<<16) +\n\t         (this[start+2]<<8) +\n\t         this[start+3];\n\t}\n\t\n\tfunction fastCopy(length, srcBuffer, dstBuffer, dstOffset) {\n\t  switch (length) {\n\t    default: srcBuffer.copy(dstBuffer, dstOffset, 0, length); break;\n\t    case 16: dstBuffer[dstOffset+15] = srcBuffer[15];\n\t    case 15: dstBuffer[dstOffset+14] = srcBuffer[14];\n\t    case 14: dstBuffer[dstOffset+13] = srcBuffer[13];\n\t    case 13: dstBuffer[dstOffset+12] = srcBuffer[12];\n\t    case 12: dstBuffer[dstOffset+11] = srcBuffer[11];\n\t    case 11: dstBuffer[dstOffset+10] = srcBuffer[10];\n\t    case 10: dstBuffer[dstOffset+9] = srcBuffer[9];\n\t    case 9: dstBuffer[dstOffset+8] = srcBuffer[8];\n\t    case 8: dstBuffer[dstOffset+7] = srcBuffer[7];\n\t    case 7: dstBuffer[dstOffset+6] = srcBuffer[6];\n\t    case 6: dstBuffer[dstOffset+5] = srcBuffer[5];\n\t    case 5: dstBuffer[dstOffset+4] = srcBuffer[4];\n\t    case 4: dstBuffer[dstOffset+3] = srcBuffer[3];\n\t    case 3: dstBuffer[dstOffset+2] = srcBuffer[2];\n\t    case 2: dstBuffer[dstOffset+1] = srcBuffer[1];\n\t    case 1: dstBuffer[dstOffset] = srcBuffer[0];\n\t  }\n\t}\n\t\n\tfunction clone(obj) {\n\t  var cloned = {};\n\t  for (var k in obj) {\n\t    if (obj.hasOwnProperty(k)) {\n\t      cloned[k] = obj[k];\n\t    }\n\t  }\n\t  return cloned;\n\t}\n\t\n\t/**\n\t * Opcode handlers\n\t */\n\t\n\tvar opcodes = {\n\t  // text\n\t  '1': {\n\t    start: function(data) {\n\t      var self = this;\n\t      // decode length\n\t      var firstLength = data[1] & 0x7f;\n\t      if (firstLength < 126) {\n\t        if (self.maxPayloadExceeded(firstLength)){\n\t          self.error('Maximumpayload exceeded in compressed text message. Aborting...', 1009);\n\t          return;\n\t        }\n\t        opcodes['1'].getData.call(self, firstLength);\n\t      }\n\t      else if (firstLength == 126) {\n\t        self.expectHeader(2, function(data) {\n\t          var length = readUInt16BE.call(data, 0);\n\t          if (self.maxPayloadExceeded(length)){\n\t            self.error('Maximumpayload exceeded in compressed text message. Aborting...', 1009);\n\t            return;\n\t          }\n\t          opcodes['1'].getData.call(self, length);\n\t        });\n\t      }\n\t      else if (firstLength == 127) {\n\t        self.expectHeader(8, function(data) {\n\t          if (readUInt32BE.call(data, 0) != 0) {\n\t            self.error('packets with length spanning more than 32 bit is currently not supported', 1008);\n\t            return;\n\t          }\n\t          var length = readUInt32BE.call(data, 4);\n\t          if (self.maxPayloadExceeded(length)){\n\t            self.error('Maximumpayload exceeded in compressed text message. Aborting...', 1009);\n\t            return;\n\t          }\n\t          opcodes['1'].getData.call(self, readUInt32BE.call(data, 4));\n\t        });\n\t      }\n\t    },\n\t    getData: function(length) {\n\t      var self = this;\n\t      if (self.state.masked) {\n\t        self.expectHeader(4, function(data) {\n\t          var mask = data;\n\t          self.expectData(length, function(data) {\n\t            opcodes['1'].finish.call(self, mask, data);\n\t          });\n\t        });\n\t      }\n\t      else {\n\t        self.expectData(length, function(data) {\n\t          opcodes['1'].finish.call(self, null, data);\n\t        });\n\t      }\n\t    },\n\t    finish: function(mask, data) {\n\t      var self = this;\n\t      var packet = this.unmask(mask, data, true) || new Buffer(0);\n\t      var state = clone(this.state);\n\t      this.messageHandlers.push(function(callback) {\n\t        self.applyExtensions(packet, state.lastFragment, state.compressed, function(err, buffer) {\n\t          if (err) {\n\t            if(err.type===1009){\n\t                return self.error('Maximumpayload exceeded in compressed text message. Aborting...', 1009);\n\t            }\n\t            return self.error(err.message, 1007);\n\t          }\n\t          if (buffer != null) {\n\t            if( self.maxPayload==0 || (self.maxPayload > 0 && (self.currentMessageLength + buffer.length) < self.maxPayload) ){\n\t              self.currentMessage.push(buffer);\n\t            }\n\t            else{\n\t                self.currentMessage=null;\n\t                self.currentMessage = [];\n\t                self.currentMessageLength = 0;\n\t                self.error(new Error('Maximum payload exceeded. maxPayload: '+self.maxPayload), 1009);\n\t                return;\n\t            }\n\t            self.currentMessageLength += buffer.length;\n\t          }\n\t          if (state.lastFragment) {\n\t            var messageBuffer = Buffer.concat(self.currentMessage);\n\t            self.currentMessage = [];\n\t            self.currentMessageLength = 0;\n\t            if (!Validation.isValidUTF8(messageBuffer)) {\n\t              self.error('invalid utf8 sequence', 1007);\n\t              return;\n\t            }\n\t            self.ontext(messageBuffer.toString('utf8'), {masked: state.masked, buffer: messageBuffer});\n\t          }\n\t          callback();\n\t        });\n\t      });\n\t      this.flush();\n\t      this.endPacket();\n\t    }\n\t  },\n\t  // binary\n\t  '2': {\n\t    start: function(data) {\n\t      var self = this;\n\t      // decode length\n\t      var firstLength = data[1] & 0x7f;\n\t      if (firstLength < 126) {\n\t          if (self.maxPayloadExceeded(firstLength)){\n\t            self.error('Max payload exceeded in compressed text message. Aborting...', 1009);\n\t            return;\n\t          }\n\t        opcodes['2'].getData.call(self, firstLength);\n\t      }\n\t      else if (firstLength == 126) {\n\t        self.expectHeader(2, function(data) {\n\t          var length = readUInt16BE.call(data, 0);\n\t          if (self.maxPayloadExceeded(length)){\n\t            self.error('Max payload exceeded in compressed text message. Aborting...', 1009);\n\t            return;\n\t          }\n\t          opcodes['2'].getData.call(self, length);\n\t        });\n\t      }\n\t      else if (firstLength == 127) {\n\t        self.expectHeader(8, function(data) {\n\t          if (readUInt32BE.call(data, 0) != 0) {\n\t            self.error('packets with length spanning more than 32 bit is currently not supported', 1008);\n\t            return;\n\t          }\n\t          var length = readUInt32BE.call(data, 4, true);\n\t          if (self.maxPayloadExceeded(length)){\n\t            self.error('Max payload exceeded in compressed text message. Aborting...', 1009);\n\t            return;\n\t          }\n\t          opcodes['2'].getData.call(self, length);\n\t        });\n\t      }\n\t    },\n\t    getData: function(length) {\n\t      var self = this;\n\t      if (self.state.masked) {\n\t        self.expectHeader(4, function(data) {\n\t          var mask = data;\n\t          self.expectData(length, function(data) {\n\t            opcodes['2'].finish.call(self, mask, data);\n\t          });\n\t        });\n\t      }\n\t      else {\n\t        self.expectData(length, function(data) {\n\t          opcodes['2'].finish.call(self, null, data);\n\t        });\n\t      }\n\t    },\n\t    finish: function(mask, data) {\n\t      var self = this;\n\t      var packet = this.unmask(mask, data, true) || new Buffer(0);\n\t      var state = clone(this.state);\n\t      this.messageHandlers.push(function(callback) {\n\t        self.applyExtensions(packet, state.lastFragment, state.compressed, function(err, buffer) {\n\t          if (err) {\n\t            if(err.type===1009){\n\t                return self.error('Max payload exceeded in compressed binary message. Aborting...', 1009);\n\t            }\n\t            return self.error(err.message, 1007);\n\t          }\n\t          if (buffer != null) {\n\t            if( self.maxPayload==0 || (self.maxPayload > 0 && (self.currentMessageLength + buffer.length) < self.maxPayload) ){\n\t              self.currentMessage.push(buffer);\n\t            }\n\t            else{\n\t                self.currentMessage=null;\n\t                self.currentMessage = [];\n\t                self.currentMessageLength = 0;\n\t                self.error(new Error('Maximum payload exceeded'), 1009);\n\t                return;\n\t            }\n\t            self.currentMessageLength += buffer.length;\n\t          }\n\t          if (state.lastFragment) {\n\t            var messageBuffer = Buffer.concat(self.currentMessage);\n\t            self.currentMessage = [];\n\t            self.currentMessageLength = 0;\n\t            self.onbinary(messageBuffer, {masked: state.masked, buffer: messageBuffer});\n\t          }\n\t          callback();\n\t        });\n\t      });\n\t      this.flush();\n\t      this.endPacket();\n\t    }\n\t  },\n\t  // close\n\t  '8': {\n\t    start: function(data) {\n\t      var self = this;\n\t      if (self.state.lastFragment == false) {\n\t        self.error('fragmented close is not supported', 1002);\n\t        return;\n\t      }\n\t\n\t      // decode length\n\t      var firstLength = data[1] & 0x7f;\n\t      if (firstLength < 126) {\n\t        opcodes['8'].getData.call(self, firstLength);\n\t      }\n\t      else {\n\t        self.error('control frames cannot have more than 125 bytes of data', 1002);\n\t      }\n\t    },\n\t    getData: function(length) {\n\t      var self = this;\n\t      if (self.state.masked) {\n\t        self.expectHeader(4, function(data) {\n\t          var mask = data;\n\t          self.expectData(length, function(data) {\n\t            opcodes['8'].finish.call(self, mask, data);\n\t          });\n\t        });\n\t      }\n\t      else {\n\t        self.expectData(length, function(data) {\n\t          opcodes['8'].finish.call(self, null, data);\n\t        });\n\t      }\n\t    },\n\t    finish: function(mask, data) {\n\t      var self = this;\n\t      data = self.unmask(mask, data, true);\n\t\n\t      var state = clone(this.state);\n\t      this.messageHandlers.push(function() {\n\t        if (data && data.length == 1) {\n\t          self.error('close packets with data must be at least two bytes long', 1002);\n\t          return;\n\t        }\n\t        var code = data && data.length > 1 ? readUInt16BE.call(data, 0) : 1000;\n\t        if (!ErrorCodes.isValidErrorCode(code)) {\n\t          self.error('invalid error code', 1002);\n\t          return;\n\t        }\n\t        var message = '';\n\t        if (data && data.length > 2) {\n\t          var messageBuffer = data.slice(2);\n\t          if (!Validation.isValidUTF8(messageBuffer)) {\n\t            self.error('invalid utf8 sequence', 1007);\n\t            return;\n\t          }\n\t          message = messageBuffer.toString('utf8');\n\t        }\n\t        self.onclose(code, message, {masked: state.masked});\n\t        self.reset();\n\t      });\n\t      this.flush();\n\t    },\n\t  },\n\t  // ping\n\t  '9': {\n\t    start: function(data) {\n\t      var self = this;\n\t      if (self.state.lastFragment == false) {\n\t        self.error('fragmented ping is not supported', 1002);\n\t        return;\n\t      }\n\t\n\t      // decode length\n\t      var firstLength = data[1] & 0x7f;\n\t      if (firstLength < 126) {\n\t        opcodes['9'].getData.call(self, firstLength);\n\t      }\n\t      else {\n\t        self.error('control frames cannot have more than 125 bytes of data', 1002);\n\t      }\n\t    },\n\t    getData: function(length) {\n\t      var self = this;\n\t      if (self.state.masked) {\n\t        self.expectHeader(4, function(data) {\n\t          var mask = data;\n\t          self.expectData(length, function(data) {\n\t            opcodes['9'].finish.call(self, mask, data);\n\t          });\n\t        });\n\t      }\n\t      else {\n\t        self.expectData(length, function(data) {\n\t          opcodes['9'].finish.call(self, null, data);\n\t        });\n\t      }\n\t    },\n\t    finish: function(mask, data) {\n\t      var self = this;\n\t      data = this.unmask(mask, data, true);\n\t      var state = clone(this.state);\n\t      this.messageHandlers.push(function(callback) {\n\t        self.onping(data, {masked: state.masked, binary: true});\n\t        callback();\n\t      });\n\t      this.flush();\n\t      this.endPacket();\n\t    }\n\t  },\n\t  // pong\n\t  '10': {\n\t    start: function(data) {\n\t      var self = this;\n\t      if (self.state.lastFragment == false) {\n\t        self.error('fragmented pong is not supported', 1002);\n\t        return;\n\t      }\n\t\n\t      // decode length\n\t      var firstLength = data[1] & 0x7f;\n\t      if (firstLength < 126) {\n\t        opcodes['10'].getData.call(self, firstLength);\n\t      }\n\t      else {\n\t        self.error('control frames cannot have more than 125 bytes of data', 1002);\n\t      }\n\t    },\n\t    getData: function(length) {\n\t      var self = this;\n\t      if (this.state.masked) {\n\t        this.expectHeader(4, function(data) {\n\t          var mask = data;\n\t          self.expectData(length, function(data) {\n\t            opcodes['10'].finish.call(self, mask, data);\n\t          });\n\t        });\n\t      }\n\t      else {\n\t        this.expectData(length, function(data) {\n\t          opcodes['10'].finish.call(self, null, data);\n\t        });\n\t      }\n\t    },\n\t    finish: function(mask, data) {\n\t      var self = this;\n\t      data = self.unmask(mask, data, true);\n\t      var state = clone(this.state);\n\t      this.messageHandlers.push(function(callback) {\n\t        self.onpong(data, {masked: state.masked, binary: true});\n\t        callback();\n\t      });\n\t      this.flush();\n\t      this.endPacket();\n\t    }\n\t  }\n\t}\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*!\n\t * ws: a node.js websocket client\n\t * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n\t * MIT Licensed\n\t */\n\t\n\tvar events = __webpack_require__(2)\n\t  , util = __webpack_require__(1)\n\t  , EventEmitter = events.EventEmitter\n\t  , ErrorCodes = __webpack_require__(13)\n\t  , bufferUtil = __webpack_require__(12).BufferUtil\n\t  , PerMessageDeflate = __webpack_require__(3);\n\t\n\t/**\n\t * HyBi Sender implementation\n\t */\n\t\n\tfunction Sender(socket, extensions) {\n\t  if (this instanceof Sender === false) {\n\t    throw new TypeError(\"Classes can't be function-called\");\n\t  }\n\t\n\t  events.EventEmitter.call(this);\n\t\n\t  this._socket = socket;\n\t  this.extensions = extensions || {};\n\t  this.firstFragment = true;\n\t  this.compress = false;\n\t  this.messageHandlers = [];\n\t  this.processing = false;\n\t}\n\t\n\t/**\n\t * Inherits from EventEmitter.\n\t */\n\t\n\tutil.inherits(Sender, events.EventEmitter);\n\t\n\t/**\n\t * Sends a close instruction to the remote party.\n\t *\n\t * @api public\n\t */\n\t\n\tSender.prototype.close = function(code, data, mask, cb) {\n\t  if (typeof code !== 'undefined') {\n\t    if (typeof code !== 'number' ||\n\t      !ErrorCodes.isValidErrorCode(code)) throw new Error('first argument must be a valid error code number');\n\t  }\n\t  code = code || 1000;\n\t  var dataBuffer = new Buffer(2 + (data ? Buffer.byteLength(data) : 0));\n\t  writeUInt16BE.call(dataBuffer, code, 0);\n\t  if (dataBuffer.length > 2) dataBuffer.write(data, 2);\n\t\n\t  var self = this;\n\t  this.messageHandlers.push(function(callback) {\n\t    self.frameAndSend(0x8, dataBuffer, true, mask);\n\t    callback();\n\t    if (typeof cb == 'function') cb();\n\t  });\n\t  this.flush();\n\t};\n\t\n\t/**\n\t * Sends a ping message to the remote party.\n\t *\n\t * @api public\n\t */\n\t\n\tSender.prototype.ping = function(data, options) {\n\t  var mask = options && options.mask;\n\t  var self = this;\n\t  this.messageHandlers.push(function(callback) {\n\t    self.frameAndSend(0x9, data || '', true, mask);\n\t    callback();\n\t  });\n\t  this.flush();\n\t};\n\t\n\t/**\n\t * Sends a pong message to the remote party.\n\t *\n\t * @api public\n\t */\n\t\n\tSender.prototype.pong = function(data, options) {\n\t  var mask = options && options.mask;\n\t  var self = this;\n\t  this.messageHandlers.push(function(callback) {\n\t    self.frameAndSend(0xa, data || '', true, mask);\n\t    callback();\n\t  });\n\t  this.flush();\n\t};\n\t\n\t/**\n\t * Sends text or binary data to the remote party.\n\t *\n\t * @api public\n\t */\n\t\n\tSender.prototype.send = function(data, options, cb) {\n\t  var finalFragment = options && options.fin === false ? false : true;\n\t  var mask = options && options.mask;\n\t  var compress = options && options.compress;\n\t  var opcode = options && options.binary ? 2 : 1;\n\t  if (this.firstFragment === false) {\n\t    opcode = 0;\n\t    compress = false;\n\t  } else {\n\t    this.firstFragment = false;\n\t    this.compress = compress;\n\t  }\n\t  if (finalFragment) this.firstFragment = true\n\t\n\t  var compressFragment = this.compress;\n\t\n\t  var self = this;\n\t  this.messageHandlers.push(function(callback) {\n\t    self.applyExtensions(data, finalFragment, compressFragment, function(err, data) {\n\t      if (err) {\n\t        if (typeof cb == 'function') cb(err);\n\t        else self.emit('error', err);\n\t        return;\n\t      }\n\t      self.frameAndSend(opcode, data, finalFragment, mask, compress, cb);\n\t      callback();\n\t    });\n\t  });\n\t  this.flush();\n\t};\n\t\n\t/**\n\t * Frames and sends a piece of data according to the HyBi WebSocket protocol.\n\t *\n\t * @api private\n\t */\n\t\n\tSender.prototype.frameAndSend = function(opcode, data, finalFragment, maskData, compressed, cb) {\n\t  var canModifyData = false;\n\t\n\t  if (!data) {\n\t    try {\n\t      this._socket.write(new Buffer([opcode | (finalFragment ? 0x80 : 0), 0 | (maskData ? 0x80 : 0)].concat(maskData ? [0, 0, 0, 0] : [])), 'binary', cb);\n\t    }\n\t    catch (e) {\n\t      if (typeof cb == 'function') cb(e);\n\t      else this.emit('error', e);\n\t    }\n\t    return;\n\t  }\n\t\n\t  if (!Buffer.isBuffer(data)) {\n\t    canModifyData = true;\n\t    if (data && (typeof data.byteLength !== 'undefined' || typeof data.buffer !== 'undefined')) {\n\t      data = getArrayBuffer(data);\n\t    } else {\n\t      //\n\t      // If people want to send a number, this would allocate the number in\n\t      // bytes as memory size instead of storing the number as buffer value. So\n\t      // we need to transform it to string in order to prevent possible\n\t      // vulnerabilities / memory attacks.\n\t      //\n\t      if (typeof data === 'number') data = data.toString();\n\t\n\t      data = new Buffer(data);\n\t    }\n\t  }\n\t\n\t  var dataLength = data.length\n\t    , dataOffset = maskData ? 6 : 2\n\t    , secondByte = dataLength;\n\t\n\t  if (dataLength >= 65536) {\n\t    dataOffset += 8;\n\t    secondByte = 127;\n\t  }\n\t  else if (dataLength > 125) {\n\t    dataOffset += 2;\n\t    secondByte = 126;\n\t  }\n\t\n\t  var mergeBuffers = dataLength < 32768 || (maskData && !canModifyData);\n\t  var totalLength = mergeBuffers ? dataLength + dataOffset : dataOffset;\n\t  var outputBuffer = new Buffer(totalLength);\n\t  outputBuffer[0] = finalFragment ? opcode | 0x80 : opcode;\n\t  if (compressed) outputBuffer[0] |= 0x40;\n\t\n\t  switch (secondByte) {\n\t    case 126:\n\t      writeUInt16BE.call(outputBuffer, dataLength, 2);\n\t      break;\n\t    case 127:\n\t      writeUInt32BE.call(outputBuffer, 0, 2);\n\t      writeUInt32BE.call(outputBuffer, dataLength, 6);\n\t  }\n\t\n\t  if (maskData) {\n\t    outputBuffer[1] = secondByte | 0x80;\n\t    var mask = getRandomMask();\n\t    outputBuffer[dataOffset - 4] = mask[0];\n\t    outputBuffer[dataOffset - 3] = mask[1];\n\t    outputBuffer[dataOffset - 2] = mask[2];\n\t    outputBuffer[dataOffset - 1] = mask[3];\n\t    if (mergeBuffers) {\n\t      bufferUtil.mask(data, mask, outputBuffer, dataOffset, dataLength);\n\t      try {\n\t        this._socket.write(outputBuffer, 'binary', cb);\n\t      }\n\t      catch (e) {\n\t        if (typeof cb == 'function') cb(e);\n\t        else this.emit('error', e);\n\t      }\n\t    }\n\t    else {\n\t      bufferUtil.mask(data, mask, data, 0, dataLength);\n\t      try {\n\t        this._socket.write(outputBuffer, 'binary');\n\t        this._socket.write(data, 'binary', cb);\n\t      }\n\t      catch (e) {\n\t        if (typeof cb == 'function') cb(e);\n\t        else this.emit('error', e);\n\t      }\n\t    }\n\t  }\n\t  else {\n\t    outputBuffer[1] = secondByte;\n\t    if (mergeBuffers) {\n\t      data.copy(outputBuffer, dataOffset);\n\t      try {\n\t        this._socket.write(outputBuffer, 'binary', cb);\n\t      }\n\t      catch (e) {\n\t        if (typeof cb == 'function') cb(e);\n\t        else this.emit('error', e);\n\t      }\n\t    }\n\t    else {\n\t      try {\n\t        this._socket.write(outputBuffer, 'binary');\n\t        this._socket.write(data, 'binary', cb);\n\t      }\n\t      catch (e) {\n\t        if (typeof cb == 'function') cb(e);\n\t        else this.emit('error', e);\n\t      }\n\t    }\n\t  }\n\t};\n\t\n\t/**\n\t * Execute message handler buffers\n\t *\n\t * @api private\n\t */\n\t\n\tSender.prototype.flush = function() {\n\t  if (this.processing) return;\n\t\n\t  var handler = this.messageHandlers.shift();\n\t  if (!handler) return;\n\t\n\t  this.processing = true;\n\t\n\t  var self = this;\n\t\n\t  handler(function() {\n\t    self.processing = false;\n\t    self.flush();\n\t  });\n\t};\n\t\n\t/**\n\t * Apply extensions to message\n\t *\n\t * @api private\n\t */\n\t\n\tSender.prototype.applyExtensions = function(data, fin, compress, callback) {\n\t  if (compress && data) {\n\t    if ((data.buffer || data) instanceof ArrayBuffer) {\n\t      data = getArrayBuffer(data);\n\t    }\n\t    this.extensions[PerMessageDeflate.extensionName].compress(data, fin, callback);\n\t  } else {\n\t    callback(null, data);\n\t  }\n\t};\n\t\n\tmodule.exports = Sender;\n\t\n\tfunction writeUInt16BE(value, offset) {\n\t  this[offset] = (value & 0xff00)>>8;\n\t  this[offset+1] = value & 0xff;\n\t}\n\t\n\tfunction writeUInt32BE(value, offset) {\n\t  this[offset] = (value & 0xff000000)>>24;\n\t  this[offset+1] = (value & 0xff0000)>>16;\n\t  this[offset+2] = (value & 0xff00)>>8;\n\t  this[offset+3] = value & 0xff;\n\t}\n\t\n\tfunction getArrayBuffer(data) {\n\t  // data is either an ArrayBuffer or ArrayBufferView.\n\t  var array = new Uint8Array(data.buffer || data)\n\t    , l = data.byteLength || data.length\n\t    , o = data.byteOffset || 0\n\t    , buffer = new Buffer(l);\n\t  for (var i = 0; i < l; ++i) {\n\t    buffer[i] = array[o+i];\n\t  }\n\t  return buffer;\n\t}\n\t\n\tfunction getRandomMask() {\n\t  return new Buffer([\n\t    ~~(Math.random() * 255),\n\t    ~~(Math.random() * 255),\n\t    ~~(Math.random() * 255),\n\t    ~~(Math.random() * 255)\n\t  ]);\n\t}\n\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/*!\n\t * ws: a node.js websocket client\n\t * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n\t * MIT Licensed\n\t */\n\t\n\tvar url = __webpack_require__(20)\n\t  , util = __webpack_require__(1)\n\t  , http = __webpack_require__(19)\n\t  , https = __webpack_require__(32)\n\t  , crypto = __webpack_require__(18)\n\t  , stream = __webpack_require__(33)\n\t  , Ultron = __webpack_require__(22)\n\t  , Options = __webpack_require__(11)\n\t  , Sender = __webpack_require__(16)\n\t  , Receiver = __webpack_require__(15)\n\t  , SenderHixie = __webpack_require__(27)\n\t  , ReceiverHixie = __webpack_require__(26)\n\t  , Extensions = __webpack_require__(14)\n\t  , PerMessageDeflate = __webpack_require__(3)\n\t  , EventEmitter = __webpack_require__(2).EventEmitter;\n\t\n\t/**\n\t * Constants\n\t */\n\t\n\t// Default protocol version\n\t\n\tvar protocolVersion = 13;\n\t\n\t// Close timeout\n\t\n\tvar closeTimeout = 30 * 1000; // Allow 30 seconds to terminate the connection cleanly\n\t\n\t/**\n\t * WebSocket implementation\n\t *\n\t * @constructor\n\t * @param {String} address Connection address.\n\t * @param {String|Array} protocols WebSocket protocols.\n\t * @param {Object} options Additional connection options.\n\t * @api public\n\t */\n\tfunction WebSocket(address, protocols, options) {\n\t  if (this instanceof WebSocket === false) {\n\t    return new WebSocket(address, protocols, options);\n\t  }\n\t\n\t  EventEmitter.call(this);\n\t\n\t  if (protocols && !Array.isArray(protocols) && 'object' === typeof protocols) {\n\t    // accept the \"options\" Object as the 2nd argument\n\t    options = protocols;\n\t    protocols = null;\n\t  }\n\t\n\t  if ('string' === typeof protocols) {\n\t    protocols = [ protocols ];\n\t  }\n\t\n\t  if (!Array.isArray(protocols)) {\n\t    protocols = [];\n\t  }\n\t\n\t  this._socket = null;\n\t  this._ultron = null;\n\t  this._closeReceived = false;\n\t  this.bytesReceived = 0;\n\t  this.readyState = null;\n\t  this.supports = {};\n\t  this.extensions = {};\n\t  this._binaryType = 'nodebuffer';\n\t\n\t  if (Array.isArray(address)) {\n\t    initAsServerClient.apply(this, address.concat(options));\n\t  } else {\n\t    initAsClient.apply(this, [address, protocols, options]);\n\t  }\n\t}\n\t\n\t/**\n\t * Inherits from EventEmitter.\n\t */\n\tutil.inherits(WebSocket, EventEmitter);\n\t\n\t/**\n\t * Ready States\n\t */\n\t[\"CONNECTING\", \"OPEN\", \"CLOSING\", \"CLOSED\"].forEach(function each(state, index) {\n\t    WebSocket.prototype[state] = WebSocket[state] = index;\n\t});\n\t\n\t/**\n\t * Gracefully closes the connection, after sending a description message to the server\n\t *\n\t * @param {Object} data to be sent to the server\n\t * @api public\n\t */\n\tWebSocket.prototype.close = function close(code, data) {\n\t  if (this.readyState === WebSocket.CLOSED) return;\n\t\n\t  if (this.readyState === WebSocket.CONNECTING) {\n\t    this.readyState = WebSocket.CLOSED;\n\t    return;\n\t  }\n\t\n\t  if (this.readyState === WebSocket.CLOSING) {\n\t    if (this._closeReceived && this._isServer) {\n\t      this.terminate();\n\t    }\n\t    return;\n\t  }\n\t\n\t  var self = this;\n\t  try {\n\t    this.readyState = WebSocket.CLOSING;\n\t    this._closeCode = code;\n\t    this._closeMessage = data;\n\t    var mask = !this._isServer;\n\t    this._sender.close(code, data, mask, function(err) {\n\t      if (err) self.emit('error', err);\n\t\n\t      if (self._closeReceived && self._isServer) {\n\t        self.terminate();\n\t      } else {\n\t        // ensure that the connection is cleaned up even when no response of closing handshake.\n\t        clearTimeout(self._closeTimer);\n\t        self._closeTimer = setTimeout(cleanupWebsocketResources.bind(self, true), closeTimeout);\n\t      }\n\t    });\n\t  } catch (e) {\n\t    this.emit('error', e);\n\t  }\n\t};\n\t\n\t/**\n\t * Pause the client stream\n\t *\n\t * @api public\n\t */\n\tWebSocket.prototype.pause = function pauser() {\n\t  if (this.readyState !== WebSocket.OPEN) throw new Error('not opened');\n\t\n\t  return this._socket.pause();\n\t};\n\t\n\t/**\n\t * Sends a ping\n\t *\n\t * @param {Object} data to be sent to the server\n\t * @param {Object} Members - mask: boolean, binary: boolean\n\t * @param {boolean} dontFailWhenClosed indicates whether or not to throw if the connection isnt open\n\t * @api public\n\t */\n\tWebSocket.prototype.ping = function ping(data, options, dontFailWhenClosed) {\n\t  if (this.readyState !== WebSocket.OPEN) {\n\t    if (dontFailWhenClosed === true) return;\n\t    throw new Error('not opened');\n\t  }\n\t\n\t  options = options || {};\n\t\n\t  if (typeof options.mask === 'undefined') options.mask = !this._isServer;\n\t\n\t  this._sender.ping(data, options);\n\t};\n\t\n\t/**\n\t * Sends a pong\n\t *\n\t * @param {Object} data to be sent to the server\n\t * @param {Object} Members - mask: boolean, binary: boolean\n\t * @param {boolean} dontFailWhenClosed indicates whether or not to throw if the connection isnt open\n\t * @api public\n\t */\n\tWebSocket.prototype.pong = function(data, options, dontFailWhenClosed) {\n\t  if (this.readyState !== WebSocket.OPEN) {\n\t    if (dontFailWhenClosed === true) return;\n\t    throw new Error('not opened');\n\t  }\n\t\n\t  options = options || {};\n\t\n\t  if (typeof options.mask === 'undefined') options.mask = !this._isServer;\n\t\n\t  this._sender.pong(data, options);\n\t};\n\t\n\t/**\n\t * Resume the client stream\n\t *\n\t * @api public\n\t */\n\tWebSocket.prototype.resume = function resume() {\n\t  if (this.readyState !== WebSocket.OPEN) throw new Error('not opened');\n\t\n\t  return this._socket.resume();\n\t};\n\t\n\t/**\n\t * Sends a piece of data\n\t *\n\t * @param {Object} data to be sent to the server\n\t * @param {Object} Members - mask: boolean, binary: boolean, compress: boolean\n\t * @param {function} Optional callback which is executed after the send completes\n\t * @api public\n\t */\n\t\n\tWebSocket.prototype.send = function send(data, options, cb) {\n\t  if (typeof options === 'function') {\n\t    cb = options;\n\t    options = {};\n\t  }\n\t\n\t  if (this.readyState !== WebSocket.OPEN) {\n\t    if (typeof cb === 'function') cb(new Error('not opened'));\n\t    else throw new Error('not opened');\n\t    return;\n\t  }\n\t\n\t  if (!data) data = '';\n\t  if (this._queue) {\n\t    var self = this;\n\t    this._queue.push(function() { self.send(data, options, cb); });\n\t    return;\n\t  }\n\t\n\t  options = options || {};\n\t  options.fin = true;\n\t\n\t  if (typeof options.binary === 'undefined') {\n\t    options.binary = (data instanceof ArrayBuffer || data instanceof Buffer ||\n\t      data instanceof Uint8Array ||\n\t      data instanceof Uint16Array ||\n\t      data instanceof Uint32Array ||\n\t      data instanceof Int8Array ||\n\t      data instanceof Int16Array ||\n\t      data instanceof Int32Array ||\n\t      data instanceof Float32Array ||\n\t      data instanceof Float64Array);\n\t  }\n\t\n\t  if (typeof options.mask === 'undefined') options.mask = !this._isServer;\n\t  if (typeof options.compress === 'undefined') options.compress = true;\n\t  if (!this.extensions[PerMessageDeflate.extensionName]) {\n\t    options.compress = false;\n\t  }\n\t\n\t  var readable = typeof stream.Readable === 'function'\n\t    ? stream.Readable\n\t    : stream.Stream;\n\t\n\t  if (data instanceof readable) {\n\t    startQueue(this);\n\t    var self = this;\n\t\n\t    sendStream(this, data, options, function send(error) {\n\t      process.nextTick(function tock() {\n\t        executeQueueSends(self);\n\t      });\n\t\n\t      if (typeof cb === 'function') cb(error);\n\t    });\n\t  } else {\n\t    this._sender.send(data, options, cb);\n\t  }\n\t};\n\t\n\t/**\n\t * Streams data through calls to a user supplied function\n\t *\n\t * @param {Object} Members - mask: boolean, binary: boolean, compress: boolean\n\t * @param {function} 'function (error, send)' which is executed on successive ticks of which send is 'function (data, final)'.\n\t * @api public\n\t */\n\tWebSocket.prototype.stream = function stream(options, cb) {\n\t  if (typeof options === 'function') {\n\t    cb = options;\n\t    options = {};\n\t  }\n\t\n\t  var self = this;\n\t\n\t  if (typeof cb !== 'function') throw new Error('callback must be provided');\n\t\n\t  if (this.readyState !== WebSocket.OPEN) {\n\t    if (typeof cb === 'function') cb(new Error('not opened'));\n\t    else throw new Error('not opened');\n\t    return;\n\t  }\n\t\n\t  if (this._queue) {\n\t    this._queue.push(function () { self.stream(options, cb); });\n\t    return;\n\t  }\n\t\n\t  options = options || {};\n\t\n\t  if (typeof options.mask === 'undefined') options.mask = !this._isServer;\n\t  if (typeof options.compress === 'undefined') options.compress = true;\n\t  if (!this.extensions[PerMessageDeflate.extensionName]) {\n\t    options.compress = false;\n\t  }\n\t\n\t  startQueue(this);\n\t\n\t  function send(data, final) {\n\t    try {\n\t      if (self.readyState !== WebSocket.OPEN) throw new Error('not opened');\n\t      options.fin = final === true;\n\t      self._sender.send(data, options);\n\t      if (!final) process.nextTick(cb.bind(null, null, send));\n\t      else executeQueueSends(self);\n\t    } catch (e) {\n\t      if (typeof cb === 'function') cb(e);\n\t      else {\n\t        delete self._queue;\n\t        self.emit('error', e);\n\t      }\n\t    }\n\t  }\n\t\n\t  process.nextTick(cb.bind(null, null, send));\n\t};\n\t\n\t/**\n\t * Immediately shuts down the connection\n\t *\n\t * @api public\n\t */\n\tWebSocket.prototype.terminate = function terminate() {\n\t  if (this.readyState === WebSocket.CLOSED) return;\n\t\n\t  if (this._socket) {\n\t    this.readyState = WebSocket.CLOSING;\n\t\n\t    // End the connection\n\t    try { this._socket.end(); }\n\t    catch (e) {\n\t      // Socket error during end() call, so just destroy it right now\n\t      cleanupWebsocketResources.call(this, true);\n\t      return;\n\t    }\n\t\n\t    // Add a timeout to ensure that the connection is completely\n\t    // cleaned up within 30 seconds, even if the clean close procedure\n\t    // fails for whatever reason\n\t    // First cleanup any pre-existing timeout from an earlier \"terminate\" call,\n\t    // if one exists.  Otherwise terminate calls in quick succession will leak timeouts\n\t    // and hold the program open for `closeTimout` time.\n\t    if (this._closeTimer) { clearTimeout(this._closeTimer); }\n\t    this._closeTimer = setTimeout(cleanupWebsocketResources.bind(this, true), closeTimeout);\n\t  } else if (this.readyState === WebSocket.CONNECTING) {\n\t    cleanupWebsocketResources.call(this, true);\n\t  }\n\t};\n\t\n\t/**\n\t * Expose bufferedAmount\n\t *\n\t * @api public\n\t */\n\tObject.defineProperty(WebSocket.prototype, 'bufferedAmount', {\n\t  get: function get() {\n\t    var amount = 0;\n\t    if (this._socket) {\n\t      amount = this._socket.bufferSize || 0;\n\t    }\n\t    return amount;\n\t  }\n\t});\n\t\n\t/**\n\t * Expose binaryType\n\t *\n\t * This deviates from the W3C interface since ws doesn't support the required\n\t * default \"blob\" type (instead we define a custom \"nodebuffer\" type).\n\t *\n\t * @see http://dev.w3.org/html5/websockets/#the-websocket-interface\n\t * @api public\n\t */\n\tObject.defineProperty(WebSocket.prototype, 'binaryType', {\n\t  get: function get() {\n\t    return this._binaryType;\n\t  },\n\t  set: function set(type) {\n\t    if (type === 'arraybuffer' || type === 'nodebuffer')\n\t      this._binaryType = type;\n\t    else\n\t      throw new SyntaxError('unsupported binaryType: must be either \"nodebuffer\" or \"arraybuffer\"');\n\t  }\n\t});\n\t\n\t/**\n\t * Emulates the W3C Browser based WebSocket interface using function members.\n\t *\n\t * @see http://dev.w3.org/html5/websockets/#the-websocket-interface\n\t * @api public\n\t */\n\t['open', 'error', 'close', 'message'].forEach(function(method) {\n\t  Object.defineProperty(WebSocket.prototype, 'on' + method, {\n\t    /**\n\t     * Returns the current listener\n\t     *\n\t     * @returns {Mixed} the set function or undefined\n\t     * @api public\n\t     */\n\t    get: function get() {\n\t      var listener = this.listeners(method)[0];\n\t      return listener ? (listener._listener ? listener._listener : listener) : undefined;\n\t    },\n\t\n\t    /**\n\t     * Start listening for events\n\t     *\n\t     * @param {Function} listener the listener\n\t     * @returns {Mixed} the set function or undefined\n\t     * @api public\n\t     */\n\t    set: function set(listener) {\n\t      this.removeAllListeners(method);\n\t      this.addEventListener(method, listener);\n\t    }\n\t  });\n\t});\n\t\n\t/**\n\t * Emulates the W3C Browser based WebSocket interface using addEventListener.\n\t *\n\t * @see https://developer.mozilla.org/en/DOM/element.addEventListener\n\t * @see http://dev.w3.org/html5/websockets/#the-websocket-interface\n\t * @api public\n\t */\n\tWebSocket.prototype.addEventListener = function(method, listener) {\n\t  var target = this;\n\t\n\t  function onMessage (data, flags) {\n\t    if (flags.binary && this.binaryType === 'arraybuffer')\n\t        data = new Uint8Array(data).buffer;\n\t    listener.call(target, new MessageEvent(data, !!flags.binary, target));\n\t  }\n\t\n\t  function onClose (code, message) {\n\t    listener.call(target, new CloseEvent(code, message, target));\n\t  }\n\t\n\t  function onError (event) {\n\t    event.type = 'error';\n\t    event.target = target;\n\t    listener.call(target, event);\n\t  }\n\t\n\t  function onOpen () {\n\t    listener.call(target, new OpenEvent(target));\n\t  }\n\t\n\t  if (typeof listener === 'function') {\n\t    if (method === 'message') {\n\t      // store a reference so we can return the original function from the\n\t      // addEventListener hook\n\t      onMessage._listener = listener;\n\t      this.on(method, onMessage);\n\t    } else if (method === 'close') {\n\t      // store a reference so we can return the original function from the\n\t      // addEventListener hook\n\t      onClose._listener = listener;\n\t      this.on(method, onClose);\n\t    } else if (method === 'error') {\n\t      // store a reference so we can return the original function from the\n\t      // addEventListener hook\n\t      onError._listener = listener;\n\t      this.on(method, onError);\n\t    } else if (method === 'open') {\n\t      // store a reference so we can return the original function from the\n\t      // addEventListener hook\n\t      onOpen._listener = listener;\n\t      this.on(method, onOpen);\n\t    } else {\n\t      this.on(method, listener);\n\t    }\n\t  }\n\t};\n\t\n\tmodule.exports = WebSocket;\n\tmodule.exports.buildHostHeader = buildHostHeader\n\t\n\t/**\n\t * W3C MessageEvent\n\t *\n\t * @see http://www.w3.org/TR/html5/comms.html\n\t * @constructor\n\t * @api private\n\t */\n\tfunction MessageEvent(dataArg, isBinary, target) {\n\t  this.type = 'message';\n\t  this.data = dataArg;\n\t  this.target = target;\n\t  this.binary = isBinary; // non-standard.\n\t}\n\t\n\t/**\n\t * W3C CloseEvent\n\t *\n\t * @see http://www.w3.org/TR/html5/comms.html\n\t * @constructor\n\t * @api private\n\t */\n\tfunction CloseEvent(code, reason, target) {\n\t  this.type = 'close';\n\t  this.wasClean = (typeof code === 'undefined' || code === 1000);\n\t  this.code = code;\n\t  this.reason = reason;\n\t  this.target = target;\n\t}\n\t\n\t/**\n\t * W3C OpenEvent\n\t *\n\t * @see http://www.w3.org/TR/html5/comms.html\n\t * @constructor\n\t * @api private\n\t */\n\tfunction OpenEvent(target) {\n\t  this.type = 'open';\n\t  this.target = target;\n\t}\n\t\n\t// Append port number to Host header, only if specified in the url\n\t// and non-default\n\tfunction buildHostHeader(isSecure, hostname, port) {\n\t  var headerHost = hostname;\n\t  if (hostname) {\n\t    if ((isSecure && (port != 443)) || (!isSecure && (port != 80))){\n\t      headerHost = headerHost + ':' + port;\n\t    }\n\t  }\n\t  return headerHost;\n\t}\n\t\n\t/**\n\t * Entirely private apis,\n\t * which may or may not be bound to a sepcific WebSocket instance.\n\t */\n\tfunction initAsServerClient(req, socket, upgradeHead, options) {\n\t  options = new Options({\n\t    protocolVersion: protocolVersion,\n\t    protocol: null,\n\t    extensions: {},\n\t    maxPayload: 0\n\t  }).merge(options);\n\t\n\t  // expose state properties\n\t  this.protocol = options.value.protocol;\n\t  this.protocolVersion = options.value.protocolVersion;\n\t  this.extensions = options.value.extensions;\n\t  this.supports.binary = (this.protocolVersion !== 'hixie-76');\n\t  this.upgradeReq = req;\n\t  this.readyState = WebSocket.CONNECTING;\n\t  this._isServer = true;\n\t  this.maxPayload = options.value.maxPayload;\n\t  // establish connection\n\t  if (options.value.protocolVersion === 'hixie-76') {\n\t    establishConnection.call(this, ReceiverHixie, SenderHixie, socket, upgradeHead);\n\t  } else {\n\t    establishConnection.call(this, Receiver, Sender, socket, upgradeHead);\n\t  }\n\t}\n\t\n\tfunction initAsClient(address, protocols, options) {\n\t  options = new Options({\n\t    origin: null,\n\t    protocolVersion: protocolVersion,\n\t    host: null,\n\t    headers: null,\n\t    protocol: protocols.join(','),\n\t    agent: null,\n\t\n\t    // ssl-related options\n\t    pfx: null,\n\t    key: null,\n\t    passphrase: null,\n\t    cert: null,\n\t    ca: null,\n\t    ciphers: null,\n\t    rejectUnauthorized: null,\n\t    perMessageDeflate: true,\n\t    localAddress: null\n\t  }).merge(options);\n\t\n\t  if (options.value.protocolVersion !== 8 && options.value.protocolVersion !== 13) {\n\t    throw new Error('unsupported protocol version');\n\t  }\n\t\n\t  // verify URL and establish http class\n\t  var serverUrl = url.parse(address);\n\t  var isUnixSocket = serverUrl.protocol === 'ws+unix:';\n\t  if (!serverUrl.host && !isUnixSocket) throw new Error('invalid url');\n\t  var isSecure = serverUrl.protocol === 'wss:' || serverUrl.protocol === 'https:';\n\t  var httpObj = isSecure ? https : http;\n\t  var port = serverUrl.port || (isSecure ? 443 : 80);\n\t  var auth = serverUrl.auth;\n\t\n\t  // prepare extensions\n\t  var extensionsOffer = {};\n\t  var perMessageDeflate;\n\t  if (options.value.perMessageDeflate) {\n\t    perMessageDeflate = new PerMessageDeflate(typeof options.value.perMessageDeflate !== true ? options.value.perMessageDeflate : {}, false);\n\t    extensionsOffer[PerMessageDeflate.extensionName] = perMessageDeflate.offer();\n\t  }\n\t\n\t  // expose state properties\n\t  this._isServer = false;\n\t  this.url = address;\n\t  this.protocolVersion = options.value.protocolVersion;\n\t  this.supports.binary = (this.protocolVersion !== 'hixie-76');\n\t\n\t  // begin handshake\n\t  var key = new Buffer(options.value.protocolVersion + '-' + Date.now()).toString('base64');\n\t  var shasum = crypto.createHash('sha1');\n\t  shasum.update(key + '258EAFA5-E914-47DA-95CA-C5AB0DC85B11');\n\t  var expectedServerKey = shasum.digest('base64');\n\t\n\t  var agent = options.value.agent;\n\t\n\t  var headerHost = buildHostHeader(isSecure, serverUrl.hostname, port)\n\t\n\t  var requestOptions = {\n\t    port: port,\n\t    host: serverUrl.hostname,\n\t    headers: {\n\t      'Connection': 'Upgrade',\n\t      'Upgrade': 'websocket',\n\t      'Host': headerHost,\n\t      'Sec-WebSocket-Version': options.value.protocolVersion,\n\t      'Sec-WebSocket-Key': key\n\t    }\n\t  };\n\t\n\t  // If we have basic auth.\n\t  if (auth) {\n\t    requestOptions.headers.Authorization = 'Basic ' + new Buffer(auth).toString('base64');\n\t  }\n\t\n\t  if (options.value.protocol) {\n\t    requestOptions.headers['Sec-WebSocket-Protocol'] = options.value.protocol;\n\t  }\n\t\n\t  if (options.value.host) {\n\t    requestOptions.headers.Host = options.value.host;\n\t  }\n\t\n\t  if (options.value.headers) {\n\t    for (var header in options.value.headers) {\n\t       if (options.value.headers.hasOwnProperty(header)) {\n\t        requestOptions.headers[header] = options.value.headers[header];\n\t       }\n\t    }\n\t  }\n\t\n\t  if (Object.keys(extensionsOffer).length) {\n\t    requestOptions.headers['Sec-WebSocket-Extensions'] = Extensions.format(extensionsOffer);\n\t  }\n\t\n\t  if (options.isDefinedAndNonNull('pfx')\n\t   || options.isDefinedAndNonNull('key')\n\t   || options.isDefinedAndNonNull('passphrase')\n\t   || options.isDefinedAndNonNull('cert')\n\t   || options.isDefinedAndNonNull('ca')\n\t   || options.isDefinedAndNonNull('ciphers')\n\t   || options.isDefinedAndNonNull('rejectUnauthorized')) {\n\t\n\t    if (options.isDefinedAndNonNull('pfx')) requestOptions.pfx = options.value.pfx;\n\t    if (options.isDefinedAndNonNull('key')) requestOptions.key = options.value.key;\n\t    if (options.isDefinedAndNonNull('passphrase')) requestOptions.passphrase = options.value.passphrase;\n\t    if (options.isDefinedAndNonNull('cert')) requestOptions.cert = options.value.cert;\n\t    if (options.isDefinedAndNonNull('ca')) requestOptions.ca = options.value.ca;\n\t    if (options.isDefinedAndNonNull('ciphers')) requestOptions.ciphers = options.value.ciphers;\n\t    if (options.isDefinedAndNonNull('rejectUnauthorized')) requestOptions.rejectUnauthorized = options.value.rejectUnauthorized;\n\t\n\t    if (!agent) {\n\t        // global agent ignores client side certificates\n\t        agent = new httpObj.Agent(requestOptions);\n\t    }\n\t  }\n\t\n\t  requestOptions.path = serverUrl.path || '/';\n\t\n\t  if (agent) {\n\t    requestOptions.agent = agent;\n\t  }\n\t\n\t  if (isUnixSocket) {\n\t    requestOptions.socketPath = serverUrl.pathname;\n\t  }\n\t\n\t  if (options.value.localAddress) {\n\t    requestOptions.localAddress = options.value.localAddress;\n\t  }\n\t\n\t  if (options.value.origin) {\n\t    if (options.value.protocolVersion < 13) requestOptions.headers['Sec-WebSocket-Origin'] = options.value.origin;\n\t    else requestOptions.headers.Origin = options.value.origin;\n\t  }\n\t\n\t  var self = this;\n\t  var req = httpObj.request(requestOptions);\n\t\n\t  req.on('error', function onerror(error) {\n\t    self.emit('error', error);\n\t    cleanupWebsocketResources.call(self, error);\n\t  });\n\t\n\t  req.once('response', function response(res) {\n\t    var error;\n\t\n\t    if (!self.emit('unexpected-response', req, res)) {\n\t      error = new Error('unexpected server response (' + res.statusCode + ')');\n\t      req.abort();\n\t      self.emit('error', error);\n\t    }\n\t\n\t    cleanupWebsocketResources.call(self, error);\n\t  });\n\t\n\t  req.once('upgrade', function upgrade(res, socket, upgradeHead) {\n\t    if (self.readyState === WebSocket.CLOSED) {\n\t      // client closed before server accepted connection\n\t      self.emit('close');\n\t      self.removeAllListeners();\n\t      socket.end();\n\t      return;\n\t    }\n\t\n\t    var serverKey = res.headers['sec-websocket-accept'];\n\t    if (typeof serverKey === 'undefined' || serverKey !== expectedServerKey) {\n\t      self.emit('error', 'invalid server key');\n\t      self.removeAllListeners();\n\t      socket.end();\n\t      return;\n\t    }\n\t\n\t    var serverProt = res.headers['sec-websocket-protocol'];\n\t    var protList = (options.value.protocol || \"\").split(/, */);\n\t    var protError = null;\n\t\n\t    if (!options.value.protocol && serverProt) {\n\t      protError = 'server sent a subprotocol even though none requested';\n\t    } else if (options.value.protocol && !serverProt) {\n\t      protError = 'server sent no subprotocol even though requested';\n\t    } else if (serverProt && protList.indexOf(serverProt) === -1) {\n\t      protError = 'server responded with an invalid protocol';\n\t    }\n\t\n\t    if (protError) {\n\t      self.emit('error', protError);\n\t      self.removeAllListeners();\n\t      socket.end();\n\t      return;\n\t    } else if (serverProt) {\n\t      self.protocol = serverProt;\n\t    }\n\t\n\t    var serverExtensions = Extensions.parse(res.headers['sec-websocket-extensions']);\n\t    if (perMessageDeflate && serverExtensions[PerMessageDeflate.extensionName]) {\n\t      try {\n\t        perMessageDeflate.accept(serverExtensions[PerMessageDeflate.extensionName]);\n\t      } catch (err) {\n\t        self.emit('error', 'invalid extension parameter');\n\t        self.removeAllListeners();\n\t        socket.end();\n\t        return;\n\t      }\n\t      self.extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n\t    }\n\t\n\t    establishConnection.call(self, Receiver, Sender, socket, upgradeHead);\n\t\n\t    // perform cleanup on http resources\n\t    req.removeAllListeners();\n\t    req = null;\n\t    agent = null;\n\t  });\n\t\n\t  req.end();\n\t  this.readyState = WebSocket.CONNECTING;\n\t}\n\t\n\tfunction establishConnection(ReceiverClass, SenderClass, socket, upgradeHead) {\n\t  var ultron = this._ultron = new Ultron(socket)\n\t    , called = false\n\t    , self = this;\n\t\n\t  socket.setTimeout(0);\n\t  socket.setNoDelay(true);\n\t\n\t  this._receiver = new ReceiverClass(this.extensions,this.maxPayload);\n\t  this._socket = socket;\n\t\n\t  // socket cleanup handlers\n\t  ultron.on('end', cleanupWebsocketResources.bind(this));\n\t  ultron.on('close', cleanupWebsocketResources.bind(this));\n\t  ultron.on('error', cleanupWebsocketResources.bind(this));\n\t\n\t  // ensure that the upgradeHead is added to the receiver\n\t  function firstHandler(data) {\n\t    if (called || self.readyState === WebSocket.CLOSED) return;\n\t\n\t    called = true;\n\t    socket.removeListener('data', firstHandler);\n\t    ultron.on('data', realHandler);\n\t\n\t    if (upgradeHead && upgradeHead.length > 0) {\n\t      realHandler(upgradeHead);\n\t      upgradeHead = null;\n\t    }\n\t\n\t    if (data) realHandler(data);\n\t  }\n\t\n\t  // subsequent packets are pushed straight to the receiver\n\t  function realHandler(data) {\n\t    self.bytesReceived += data.length;\n\t    self._receiver.add(data);\n\t  }\n\t\n\t  ultron.on('data', firstHandler);\n\t\n\t  // if data was passed along with the http upgrade,\n\t  // this will schedule a push of that on to the receiver.\n\t  // this has to be done on next tick, since the caller\n\t  // hasn't had a chance to set event handlers on this client\n\t  // object yet.\n\t  process.nextTick(firstHandler);\n\t\n\t  // receiver event handlers\n\t  self._receiver.ontext = function ontext(data, flags) {\n\t    flags = flags || {};\n\t\n\t    self.emit('message', data, flags);\n\t  };\n\t\n\t  self._receiver.onbinary = function onbinary(data, flags) {\n\t    flags = flags || {};\n\t\n\t    flags.binary = true;\n\t    self.emit('message', data, flags);\n\t  };\n\t\n\t  self._receiver.onping = function onping(data, flags) {\n\t    flags = flags || {};\n\t\n\t    self.pong(data, {\n\t      mask: !self._isServer,\n\t      binary: flags.binary === true\n\t    }, true);\n\t\n\t    self.emit('ping', data, flags);\n\t  };\n\t\n\t  self._receiver.onpong = function onpong(data, flags) {\n\t    self.emit('pong', data, flags || {});\n\t  };\n\t\n\t  self._receiver.onclose = function onclose(code, data, flags) {\n\t    flags = flags || {};\n\t\n\t    self._closeReceived = true;\n\t    self.close(code, data);\n\t  };\n\t\n\t  self._receiver.onerror = function onerror(reason, errorCode) {\n\t    // close the connection when the receiver reports a HyBi error code\n\t    self.close(typeof errorCode !== 'undefined' ? errorCode : 1002, '');\n\t    self.emit('error', (reason instanceof Error) ? reason : (new Error(reason)));\n\t  };\n\t\n\t  // finalize the client\n\t  this._sender = new SenderClass(socket, this.extensions);\n\t  this._sender.on('error', function onerror(error) {\n\t    self.close(1002, '');\n\t    self.emit('error', error);\n\t  });\n\t\n\t  this.readyState = WebSocket.OPEN;\n\t  this.emit('open');\n\t}\n\t\n\tfunction startQueue(instance) {\n\t  instance._queue = instance._queue || [];\n\t}\n\t\n\tfunction executeQueueSends(instance) {\n\t  var queue = instance._queue;\n\t  if (typeof queue === 'undefined') return;\n\t\n\t  delete instance._queue;\n\t  for (var i = 0, l = queue.length; i < l; ++i) {\n\t    queue[i]();\n\t  }\n\t}\n\t\n\tfunction sendStream(instance, stream, options, cb) {\n\t  stream.on('data', function incoming(data) {\n\t    if (instance.readyState !== WebSocket.OPEN) {\n\t      if (typeof cb === 'function') cb(new Error('not opened'));\n\t      else {\n\t        delete instance._queue;\n\t        instance.emit('error', new Error('not opened'));\n\t      }\n\t      return;\n\t    }\n\t\n\t    options.fin = false;\n\t    instance._sender.send(data, options);\n\t  });\n\t\n\t  stream.on('end', function end() {\n\t    if (instance.readyState !== WebSocket.OPEN) {\n\t      if (typeof cb === 'function') cb(new Error('not opened'));\n\t      else {\n\t        delete instance._queue;\n\t        instance.emit('error', new Error('not opened'));\n\t      }\n\t      return;\n\t    }\n\t\n\t    options.fin = true;\n\t    instance._sender.send(null, options);\n\t\n\t    if (typeof cb === 'function') cb(null);\n\t  });\n\t}\n\t\n\tfunction cleanupWebsocketResources(error) {\n\t  if (this.readyState === WebSocket.CLOSED) return;\n\t\n\t  this.readyState = WebSocket.CLOSED;\n\t\n\t  clearTimeout(this._closeTimer);\n\t  this._closeTimer = null;\n\t\n\t  // If the connection was closed abnormally (with an error), or if\n\t  // the close control frame was not received then the close code\n\t  // must default to 1006.\n\t  if (error || !this._closeReceived) {\n\t    this._closeCode = 1006;\n\t  }\n\t  this.emit('close', this._closeCode || 1000, this._closeMessage || '');\n\t\n\t  if (this._socket) {\n\t    if (this._ultron) this._ultron.destroy();\n\t    this._socket.on('error', function onerror() {\n\t      try { this.destroy(); }\n\t      catch (e) {}\n\t    });\n\t\n\t    try {\n\t      if (!error) this._socket.end();\n\t      else this._socket.destroy();\n\t    } catch (e) { /* Ignore termination errors */ }\n\t\n\t    this._socket = null;\n\t    this._ultron = null;\n\t  }\n\t\n\t  if (this._sender) {\n\t    this._sender.removeAllListeners();\n\t    this._sender = null;\n\t  }\n\t\n\t  if (this._receiver) {\n\t    this._receiver.cleanup();\n\t    this._receiver = null;\n\t  }\n\t\n\t  if (this.extensions[PerMessageDeflate.extensionName]) {\n\t    this.extensions[PerMessageDeflate.extensionName].cleanup();\n\t  }\n\t\n\t  this.extensions = null;\n\t\n\t  this.removeAllListeners();\n\t  this.on('error', function onerror() {}); // catch all errors after this\n\t  delete this._queue;\n\t}\n\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"crypto\");\n\n/***/ },\n/* 19 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"http\");\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"url\");\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _events = __webpack_require__(2);\n\t\n\tvar _Myo = __webpack_require__(6);\n\t\n\tvar _Myo2 = _interopRequireDefault(_Myo);\n\t\n\tvar _BaseConnection = __webpack_require__(10);\n\t\n\tvar _BaseConnection2 = _interopRequireDefault(_BaseConnection);\n\t\n\tvar _CircularBuffer = __webpack_require__(4);\n\t\n\tvar _CircularBuffer2 = _interopRequireDefault(_CircularBuffer);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Hub = function (_EventEmitter) {\n\t    _inherits(Hub, _EventEmitter);\n\t\n\t    function Hub(opt) {\n\t        _classCallCheck(this, Hub);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Hub.__proto__ || Object.getPrototypeOf(Hub)).call(this, opt));\n\t\n\t        _this.connection = new _BaseConnection2.default(opt);\n\t        _this.history = new _CircularBuffer2.default(200);\n\t\n\t        _this.connection.connect();\n\t\n\t        _this.connection.on('deviceInfo', function () {\n\t            _this.myo = new _Myo2.default(_this.connection);\n\t        });\n\t        _this.connection.on('frame', function (frame) {\n\t            _this.history.push(frame);\n\t            _this.emit('frame', frame);\n\t        });\n\t        _this.connection.on('pose', function (pose) {\n\t            _this.emit('pose', pose);\n\t        });\n\t        _this.connection.on('event', function (event) {\n\t            _this.emit(event.type);\n\t        });\n\t        _this.connection.on('ready', function () {\n\t            _this.emit('ready');\n\t        });\n\t        _this.connection.on('connect', function () {\n\t            _this.emit('connect');\n\t        });\n\t        _this.connection.on('disconnect', function () {\n\t            _this.emit('disconnect');\n\t        });\n\t        return _this;\n\t    }\n\t\n\t    /**\n\t     * Returns a frame of tracking data from the Myo.\n\t     *\n\t     * Use the optional history parameter to specify which frame to retrieve.\n\t     * Call frame() or frame(0) to access the most recent frame; call frame(1) to\n\t     * access the previous frame, and so on. If you use a history value greater\n\t     * than the number of stored frames, then the hub returns an invalid frame.\n\t     *\n\t     * @method frame\n\t     * @memberof Myo.hub.prototype\n\t     * @param {number} num The age of the frame to return, counting backwards from\n\t     * the most recent frame (0) into the past and up to the maximum age (59).\n\t     * @returns {Myo.Frame} The specified frame; or, if no history\n\t     * parameter is specified, the newest frame. If a frame is not available at\n\t     * the specified history position, an invalid Frame is returned.\n\t     **/\n\t\n\t\n\t    _createClass(Hub, [{\n\t        key: 'frame',\n\t        value: function frame(num) {\n\t            return this.history.get(num) || null;\n\t        }\n\t\n\t        /**\n\t         * Find a nearby Myo and pair with it, or time out after timeoutMilliseconds milliseconds if provided.\n\t         *\n\t         * <p>If timeout_ms is zero, this method blocks until a Myo is found. This method must\n\t         * not be run concurrently with run() or runOnce().</p>\n\t         */\n\t\n\t    }, {\n\t        key: 'waitForMyo',\n\t        value: function waitForMyo(timeoutMilliseconds) {\n\t            if (!timeoutMilliseconds || timeoutMilliseconds !== parseInt(timeoutMilliseconds, 10)) {\n\t                throw new Error('timeoutMilliseconds needs to be of type integer');\n\t            }\n\t            this.connection.send({\n\t                'waitForMyo': timeoutMilliseconds\n\t            });\n\t        }\n\t\n\t        /**\n\t         * Run the event loop for the specified duration (in milliseconds).\n\t         */\n\t\n\t    }, {\n\t        key: 'run',\n\t        value: function run(durationMilliseconds) {\n\t            if (!durationMilliseconds || durationMilliseconds !== parseInt(durationMilliseconds, 10)) {\n\t                throw new Error('durationMilliseconds needs to be of type integer');\n\t            }\n\t            this.connection.send({\n\t                'run': durationMilliseconds\n\t            });\n\t        }\n\t\n\t        /**\n\t         * Run the event loop until a single event occurs, or the specified\n\t         * duration (in milliseconds) has elapsed.\n\t         */\n\t\n\t    }, {\n\t        key: 'runOnce',\n\t        value: function runOnce(durationMilliseconds) {\n\t            if (!durationMilliseconds || durationMilliseconds !== parseInt(durationMilliseconds, 10)) {\n\t                throw new Error('durationMilliseconds needs to be of type integer');\n\t            }\n\t            this.connection.send({\n\t                'runOnce': durationMilliseconds\n\t            });\n\t        }\n\t\n\t        /**\n\t         * Returns a string containing this hub in a human readable format.\n\t         * @return\n\t         *\n\t         */\n\t\n\t    }, {\n\t        key: 'toString',\n\t        value: function toString() {\n\t            return '[Hub history: ' + this.history + ']';\n\t        }\n\t    }]);\n\t\n\t    return Hub;\n\t}(_events.EventEmitter);\n\t\n\texports.default = Hub;\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar has = Object.prototype.hasOwnProperty;\n\t\n\t/**\n\t * An auto incrementing id which we can use to create \"unique\" Ultron instances\n\t * so we can track the event emitters that are added through the Ultron\n\t * interface.\n\t *\n\t * @type {Number}\n\t * @private\n\t */\n\tvar id = 0;\n\t\n\t/**\n\t * Ultron is high-intelligence robot. It gathers intelligence so it can start improving\n\t * upon his rudimentary design. It will learn from your EventEmitting patterns\n\t * and exterminate them.\n\t *\n\t * @constructor\n\t * @param {EventEmitter} ee EventEmitter instance we need to wrap.\n\t * @api public\n\t */\n\tfunction Ultron(ee) {\n\t  if (!(this instanceof Ultron)) return new Ultron(ee);\n\t\n\t  this.id = id++;\n\t  this.ee = ee;\n\t}\n\t\n\t/**\n\t * Register a new EventListener for the given event.\n\t *\n\t * @param {String} event Name of the event.\n\t * @param {Functon} fn Callback function.\n\t * @param {Mixed} context The context of the function.\n\t * @returns {Ultron}\n\t * @api public\n\t */\n\tUltron.prototype.on = function on(event, fn, context) {\n\t  fn.__ultron = this.id;\n\t  this.ee.on(event, fn, context);\n\t\n\t  return this;\n\t};\n\t/**\n\t * Add an EventListener that's only called once.\n\t *\n\t * @param {String} event Name of the event.\n\t * @param {Function} fn Callback function.\n\t * @param {Mixed} context The context of the function.\n\t * @returns {Ultron}\n\t * @api public\n\t */\n\tUltron.prototype.once = function once(event, fn, context) {\n\t  fn.__ultron = this.id;\n\t  this.ee.once(event, fn, context);\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Remove the listeners we assigned for the given event.\n\t *\n\t * @returns {Ultron}\n\t * @api public\n\t */\n\tUltron.prototype.remove = function remove() {\n\t  var args = arguments\n\t    , event;\n\t\n\t  //\n\t  // When no event names are provided we assume that we need to clear all the\n\t  // events that were assigned through us.\n\t  //\n\t  if (args.length === 1 && 'string' === typeof args[0]) {\n\t    args = args[0].split(/[, ]+/);\n\t  } else if (!args.length) {\n\t    args = [];\n\t\n\t    for (event in this.ee._events) {\n\t      if (has.call(this.ee._events, event)) args.push(event);\n\t    }\n\t  }\n\t\n\t  for (var i = 0; i < args.length; i++) {\n\t    var listeners = this.ee.listeners(args[i]);\n\t\n\t    for (var j = 0; j < listeners.length; j++) {\n\t      event = listeners[j];\n\t\n\t      //\n\t      // Once listeners have a `listener` property that stores the real listener\n\t      // in the EventEmitter that ships with Node.js.\n\t      //\n\t      if (event.listener) {\n\t        if (event.listener.__ultron !== this.id) continue;\n\t        delete event.listener.__ultron;\n\t      } else {\n\t        if (event.__ultron !== this.id) continue;\n\t        delete event.__ultron;\n\t      }\n\t\n\t      this.ee.removeListener(args[i], event);\n\t    }\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Destroy the Ultron instance, remove all listeners and release all references.\n\t *\n\t * @returns {Boolean}\n\t * @api public\n\t */\n\tUltron.prototype.destroy = function destroy() {\n\t  if (!this.ee) return false;\n\t\n\t  this.remove();\n\t  this.ee = null;\n\t\n\t  return true;\n\t};\n\t\n\t//\n\t// Expose the module.\n\t//\n\tmodule.exports = Ultron;\n\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/*!\n\t * ws: a node.js websocket client\n\t * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n\t * MIT Licensed\n\t */\n\t\n\tvar WS = module.exports = __webpack_require__(17);\n\t\n\tWS.Server = __webpack_require__(30);\n\tWS.Sender = __webpack_require__(16);\n\tWS.Receiver = __webpack_require__(15);\n\t\n\t/**\n\t * Create a new WebSocket server.\n\t *\n\t * @param {Object} options Server options\n\t * @param {Function} fn Optional connection listener.\n\t * @returns {WS.Server}\n\t * @api public\n\t */\n\tWS.createServer = function createServer(options, fn) {\n\t  var server = new WS.Server(options);\n\t\n\t  if (typeof fn === 'function') {\n\t    server.on('connection', fn);\n\t  }\n\t\n\t  return server;\n\t};\n\t\n\t/**\n\t * Create a new WebSocket connection.\n\t *\n\t * @param {String} address The URL/address we need to connect to.\n\t * @param {Function} fn Open listener.\n\t * @returns {WS}\n\t * @api public\n\t */\n\tWS.connect = WS.createConnection = function connect(address, fn) {\n\t  var client = new WS(address);\n\t\n\t  if (typeof fn === 'function') {\n\t    client.on('open', fn);\n\t  }\n\t\n\t  return client;\n\t};\n\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*!\n\t * ws: a node.js websocket client\n\t * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n\t * MIT Licensed\n\t */\n\t\n\tvar util = __webpack_require__(1);\n\t\n\tfunction BufferPool(initialSize, growStrategy, shrinkStrategy) {\n\t  if (this instanceof BufferPool === false) {\n\t    throw new TypeError(\"Classes can't be function-called\");\n\t  }\n\t\n\t  if (typeof initialSize === 'function') {\n\t    shrinkStrategy = growStrategy;\n\t    growStrategy = initialSize;\n\t    initialSize = 0;\n\t  }\n\t  else if (typeof initialSize === 'undefined') {\n\t    initialSize = 0;\n\t  }\n\t  this._growStrategy = (growStrategy || function(db, size) {\n\t    return db.used + size;\n\t  }).bind(null, this);\n\t  this._shrinkStrategy = (shrinkStrategy || function(db) {\n\t    return initialSize;\n\t  }).bind(null, this);\n\t  this._buffer = initialSize ? new Buffer(initialSize) : null;\n\t  this._offset = 0;\n\t  this._used = 0;\n\t  this._changeFactor = 0;\n\t  this.__defineGetter__('size', function(){\n\t    return this._buffer == null ? 0 : this._buffer.length;\n\t  });\n\t  this.__defineGetter__('used', function(){\n\t    return this._used;\n\t  });\n\t}\n\t\n\tBufferPool.prototype.get = function(length) {\n\t  if (this._buffer == null || this._offset + length > this._buffer.length) {\n\t    var newBuf = new Buffer(this._growStrategy(length));\n\t    this._buffer = newBuf;\n\t    this._offset = 0;\n\t  }\n\t  this._used += length;\n\t  var buf = this._buffer.slice(this._offset, this._offset + length);\n\t  this._offset += length;\n\t  return buf;\n\t}\n\t\n\tBufferPool.prototype.reset = function(forceNewBuffer) {\n\t  var len = this._shrinkStrategy();\n\t  if (len < this.size) this._changeFactor -= 1;\n\t  if (forceNewBuffer || this._changeFactor < -2) {\n\t    this._changeFactor = 0;\n\t    this._buffer = len ? new Buffer(len) : null;\n\t  }\n\t  this._offset = 0;\n\t  this._used = 0;\n\t}\n\t\n\tmodule.exports = BufferPool;\n\n\n/***/ },\n/* 25 */\n/***/ function(module, exports) {\n\n\t/*!\n\t * ws: a node.js websocket client\n\t * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n\t * MIT Licensed\n\t */\n\t\n\texports.BufferUtil = {\n\t  merge: function(mergedBuffer, buffers) {\n\t    var offset = 0;\n\t    for (var i = 0, l = buffers.length; i < l; ++i) {\n\t      var buf = buffers[i];\n\t      buf.copy(mergedBuffer, offset);\n\t      offset += buf.length;\n\t    }\n\t  },\n\t  mask: function(source, mask, output, offset, length) {\n\t    var maskNum = mask.readUInt32LE(0, true);\n\t    var i = 0;\n\t    for (; i < length - 3; i += 4) {\n\t      var num = maskNum ^ source.readUInt32LE(i, true);\n\t      if (num < 0) num = 4294967296 + num;\n\t      output.writeUInt32LE(num, offset + i, true);\n\t    }\n\t    switch (length % 4) {\n\t      case 3: output[offset + i + 2] = source[i + 2] ^ mask[2];\n\t      case 2: output[offset + i + 1] = source[i + 1] ^ mask[1];\n\t      case 1: output[offset + i] = source[i] ^ mask[0];\n\t      case 0:;\n\t    }\n\t  },\n\t  unmask: function(data, mask) {\n\t    var maskNum = mask.readUInt32LE(0, true);\n\t    var length = data.length;\n\t    var i = 0;\n\t    for (; i < length - 3; i += 4) {\n\t      var num = maskNum ^ data.readUInt32LE(i, true);\n\t      if (num < 0) num = 4294967296 + num;\n\t      data.writeUInt32LE(num, i, true);\n\t    }\n\t    switch (length % 4) {\n\t      case 3: data[i + 2] = data[i + 2] ^ mask[2];\n\t      case 2: data[i + 1] = data[i + 1] ^ mask[1];\n\t      case 1: data[i] = data[i] ^ mask[0];\n\t      case 0:;\n\t    }\n\t  }\n\t}\n\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*!\n\t * ws: a node.js websocket client\n\t * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n\t * MIT Licensed\n\t */\n\t\n\tvar util = __webpack_require__(1);\n\t\n\t/**\n\t * State constants\n\t */\n\t\n\tvar EMPTY = 0\n\t  , BODY = 1;\n\tvar BINARYLENGTH = 2\n\t  , BINARYBODY = 3;\n\t\n\t/**\n\t * Hixie Receiver implementation\n\t */\n\t\n\tfunction Receiver () {\n\t  if (this instanceof Receiver === false) {\n\t    throw new TypeError(\"Classes can't be function-called\");\n\t  }\n\t\n\t  this.state = EMPTY;\n\t  this.buffers = [];\n\t  this.messageEnd = -1;\n\t  this.spanLength = 0;\n\t  this.dead = false;\n\t\n\t  this.onerror = function() {};\n\t  this.ontext = function() {};\n\t  this.onbinary = function() {};\n\t  this.onclose = function() {};\n\t  this.onping = function() {};\n\t  this.onpong = function() {};\n\t}\n\t\n\tmodule.exports = Receiver;\n\t\n\t/**\n\t * Add new data to the parser.\n\t *\n\t * @api public\n\t */\n\t\n\tReceiver.prototype.add = function(data) {\n\t  if (this.dead) return;\n\t  var self = this;\n\t  function doAdd() {\n\t    if (self.state === EMPTY) {\n\t      if (data.length == 2 && data[0] == 0xFF && data[1] == 0x00) {\n\t        self.reset();\n\t        self.onclose();\n\t        return;\n\t      }\n\t      if (data[0] === 0x80) {\n\t        self.messageEnd = 0;\n\t        self.state = BINARYLENGTH;\n\t        data = data.slice(1);\n\t      } else {\n\t\n\t      if (data[0] !== 0x00) {\n\t        self.error('payload must start with 0x00 byte', true);\n\t        return;\n\t      }\n\t      data = data.slice(1);\n\t      self.state = BODY;\n\t\n\t      }\n\t    }\n\t    if (self.state === BINARYLENGTH) {\n\t      var i = 0;\n\t      while ((i < data.length) && (data[i] & 0x80)) {\n\t        self.messageEnd = 128 * self.messageEnd + (data[i] & 0x7f);\n\t        ++i;\n\t      }\n\t      if (i < data.length) {\n\t        self.messageEnd = 128 * self.messageEnd + (data[i] & 0x7f);\n\t        self.state = BINARYBODY;\n\t        ++i;\n\t      }\n\t      if (i > 0)\n\t        data = data.slice(i);\n\t    }\n\t    if (self.state === BINARYBODY) {\n\t      var dataleft = self.messageEnd - self.spanLength;\n\t      if (data.length >= dataleft) {\n\t        // consume the whole buffer to finish the frame\n\t        self.buffers.push(data);\n\t        self.spanLength += dataleft;\n\t        self.messageEnd = dataleft;\n\t        return self.parse();\n\t      }\n\t      // frame's not done even if we consume it all\n\t      self.buffers.push(data);\n\t      self.spanLength += data.length;\n\t      return;\n\t    }\n\t    self.buffers.push(data);\n\t    if ((self.messageEnd = bufferIndex(data, 0xFF)) != -1) {\n\t      self.spanLength += self.messageEnd;\n\t      return self.parse();\n\t    }\n\t    else self.spanLength += data.length;\n\t  }\n\t  while(data) data = doAdd();\n\t};\n\t\n\t/**\n\t * Releases all resources used by the receiver.\n\t *\n\t * @api public\n\t */\n\t\n\tReceiver.prototype.cleanup = function() {\n\t  this.dead = true;\n\t  this.state = EMPTY;\n\t  this.buffers = [];\n\t};\n\t\n\t/**\n\t * Process buffered data.\n\t *\n\t * @api public\n\t */\n\t\n\tReceiver.prototype.parse = function() {\n\t  var output = new Buffer(this.spanLength);\n\t  var outputIndex = 0;\n\t  for (var bi = 0, bl = this.buffers.length; bi < bl - 1; ++bi) {\n\t    var buffer = this.buffers[bi];\n\t    buffer.copy(output, outputIndex);\n\t    outputIndex += buffer.length;\n\t  }\n\t  var lastBuffer = this.buffers[this.buffers.length - 1];\n\t  if (this.messageEnd > 0) lastBuffer.copy(output, outputIndex, 0, this.messageEnd);\n\t  if (this.state !== BODY) --this.messageEnd;\n\t  var tail = null;\n\t  if (this.messageEnd < lastBuffer.length - 1) {\n\t    tail = lastBuffer.slice(this.messageEnd + 1);\n\t  }\n\t  this.reset();\n\t  this.ontext(output.toString('utf8'));\n\t  return tail;\n\t};\n\t\n\t/**\n\t * Handles an error\n\t *\n\t * @api private\n\t */\n\t\n\tReceiver.prototype.error = function (reason, terminate) {\n\t  if (this.dead) return;\n\t  this.reset();\n\t  if(typeof reason == 'string'){\n\t    this.onerror(new Error(reason), terminate);\n\t  }\n\t  else if(reason.constructor == Error){\n\t    this.onerror(reason, terminate);\n\t  }\n\t  else{\n\t    this.onerror(new Error(\"An error occured\"),terminate);\n\t  }\n\t  return this;\n\t};\n\t\n\t/**\n\t * Reset parser state\n\t *\n\t * @api private\n\t */\n\t\n\tReceiver.prototype.reset = function (reason) {\n\t  if (this.dead) return;\n\t  this.state = EMPTY;\n\t  this.buffers = [];\n\t  this.messageEnd = -1;\n\t  this.spanLength = 0;\n\t};\n\t\n\t/**\n\t * Internal api\n\t */\n\t\n\tfunction bufferIndex(buffer, byte) {\n\t  for (var i = 0, l = buffer.length; i < l; ++i) {\n\t    if (buffer[i] === byte) return i;\n\t  }\n\t  return -1;\n\t}\n\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*!\n\t * ws: a node.js websocket client\n\t * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n\t * MIT Licensed\n\t */\n\t\n\tvar events = __webpack_require__(2)\n\t  , util = __webpack_require__(1)\n\t  , EventEmitter = events.EventEmitter;\n\t\n\t/**\n\t * Hixie Sender implementation\n\t */\n\t\n\tfunction Sender(socket) {\n\t  if (this instanceof Sender === false) {\n\t    throw new TypeError(\"Classes can't be function-called\");\n\t  }\n\t\n\t  events.EventEmitter.call(this);\n\t\n\t  this.socket = socket;\n\t  this.continuationFrame = false;\n\t  this.isClosed = false;\n\t}\n\t\n\tmodule.exports = Sender;\n\t\n\t/**\n\t * Inherits from EventEmitter.\n\t */\n\t\n\tutil.inherits(Sender, events.EventEmitter);\n\t\n\t/**\n\t * Frames and writes data.\n\t *\n\t * @api public\n\t */\n\t\n\tSender.prototype.send = function(data, options, cb) {\n\t  if (this.isClosed) return;\n\t\n\t  var isString = typeof data == 'string'\n\t    , length = isString ? Buffer.byteLength(data) : data.length\n\t    , lengthbytes = (length > 127) ? 2 : 1 // assume less than 2**14 bytes\n\t    , writeStartMarker = this.continuationFrame == false\n\t    , writeEndMarker = !options || !(typeof options.fin != 'undefined' && !options.fin)\n\t    , buffer = new Buffer((writeStartMarker ? ((options && options.binary) ? (1 + lengthbytes) : 1) : 0) + length + ((writeEndMarker && !(options && options.binary)) ? 1 : 0))\n\t    , offset = writeStartMarker ? 1 : 0;\n\t\n\t  if (writeStartMarker) {\n\t    if (options && options.binary) {\n\t      buffer.write('\\x80', 'binary');\n\t      // assume length less than 2**14 bytes\n\t      if (lengthbytes > 1)\n\t        buffer.write(String.fromCharCode(128+length/128), offset++, 'binary');\n\t      buffer.write(String.fromCharCode(length&0x7f), offset++, 'binary');\n\t    } else\n\t      buffer.write('\\x00', 'binary');\n\t  }\n\t\n\t  if (isString) buffer.write(data, offset, 'utf8');\n\t  else data.copy(buffer, offset, 0);\n\t\n\t  if (writeEndMarker) {\n\t    if (options && options.binary) {\n\t      // sending binary, not writing end marker\n\t    } else\n\t      buffer.write('\\xff', offset + length, 'binary');\n\t    this.continuationFrame = false;\n\t  }\n\t  else this.continuationFrame = true;\n\t\n\t  try {\n\t    this.socket.write(buffer, 'binary', cb);\n\t  } catch (e) {\n\t    this.error(e.toString());\n\t  }\n\t};\n\t\n\t/**\n\t * Sends a close instruction to the remote party.\n\t *\n\t * @api public\n\t */\n\t\n\tSender.prototype.close = function(code, data, mask, cb) {\n\t  if (this.isClosed) return;\n\t  this.isClosed = true;\n\t  try {\n\t    if (this.continuationFrame) this.socket.write(new Buffer([0xff], 'binary'));\n\t    this.socket.write(new Buffer([0xff, 0x00]), 'binary', cb);\n\t  } catch (e) {\n\t    this.error(e.toString());\n\t  }\n\t};\n\t\n\t/**\n\t * Sends a ping message to the remote party. Not available for hixie.\n\t *\n\t * @api public\n\t */\n\t\n\tSender.prototype.ping = function(data, options) {};\n\t\n\t/**\n\t * Sends a pong message to the remote party. Not available for hixie.\n\t *\n\t * @api public\n\t */\n\t\n\tSender.prototype.pong = function(data, options) {};\n\t\n\t/**\n\t * Handles an error\n\t *\n\t * @api private\n\t */\n\t\n\tSender.prototype.error = function (reason) {\n\t  this.emit('error', reason);\n\t  return this;\n\t};\n\n\n/***/ },\n/* 28 */\n/***/ function(module, exports) {\n\n\t/*!\n\t * ws: a node.js websocket client\n\t * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n\t * MIT Licensed\n\t */\n\t\n\texports.Validation = {\n\t  isValidUTF8: function(buffer) {\n\t    return true;\n\t  }\n\t};\n\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/*!\n\t * ws: a node.js websocket client\n\t * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n\t * MIT Licensed\n\t */\n\t\n\ttry {\n\t  module.exports = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"utf-8-validate\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\t} catch (e) {\n\t  module.exports = __webpack_require__(28);\n\t}\n\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*!\n\t * ws: a node.js websocket client\n\t * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n\t * MIT Licensed\n\t */\n\t\n\tvar util = __webpack_require__(1)\n\t  , events = __webpack_require__(2)\n\t  , http = __webpack_require__(19)\n\t  , crypto = __webpack_require__(18)\n\t  , Options = __webpack_require__(11)\n\t  , WebSocket = __webpack_require__(17)\n\t  , Extensions = __webpack_require__(14)\n\t  , PerMessageDeflate = __webpack_require__(3)\n\t  , tls = __webpack_require__(34)\n\t  , url = __webpack_require__(20);\n\t\n\t/**\n\t * WebSocket Server implementation\n\t */\n\t\n\tfunction WebSocketServer(options, callback) {\n\t  if (this instanceof WebSocketServer === false) {\n\t    return new WebSocketServer(options, callback);\n\t  }\n\t\n\t  events.EventEmitter.call(this);\n\t\n\t  options = new Options({\n\t    host: '0.0.0.0',\n\t    port: null,\n\t    server: null,\n\t    verifyClient: null,\n\t    handleProtocols: null,\n\t    path: null,\n\t    noServer: false,\n\t    disableHixie: false,\n\t    clientTracking: true,\n\t    perMessageDeflate: true,\n\t    maxPayload: 100 * 1024 * 1024\n\t  }).merge(options);\n\t\n\t  if (!options.isDefinedAndNonNull('port') && !options.isDefinedAndNonNull('server') && !options.value.noServer) {\n\t    throw new TypeError('`port` or a `server` must be provided');\n\t  }\n\t\n\t  var self = this;\n\t\n\t  if (options.isDefinedAndNonNull('port')) {\n\t    this._server = http.createServer(function (req, res) {\n\t      var body = http.STATUS_CODES[426];\n\t      res.writeHead(426, {\n\t        'Content-Length': body.length,\n\t        'Content-Type': 'text/plain'\n\t      });\n\t      res.end(body);\n\t    });\n\t    this._server.allowHalfOpen = false;\n\t    this._server.listen(options.value.port, options.value.host, callback);\n\t    this._closeServer = function() { if (self._server) self._server.close(); };\n\t  }\n\t  else if (options.value.server) {\n\t    this._server = options.value.server;\n\t    if (options.value.path) {\n\t      // take note of the path, to avoid collisions when multiple websocket servers are\n\t      // listening on the same http server\n\t      if (this._server._webSocketPaths && options.value.server._webSocketPaths[options.value.path]) {\n\t        throw new Error('two instances of WebSocketServer cannot listen on the same http server path');\n\t      }\n\t      if (typeof this._server._webSocketPaths !== 'object') {\n\t        this._server._webSocketPaths = {};\n\t      }\n\t      this._server._webSocketPaths[options.value.path] = 1;\n\t    }\n\t  }\n\t  if (this._server) {\n\t    this._onceServerListening = function() { self.emit('listening'); };\n\t    this._server.once('listening', this._onceServerListening);\n\t  }\n\t\n\t  if (typeof this._server != 'undefined') {\n\t    this._onServerError = function(error) { self.emit('error', error) };\n\t    this._server.on('error', this._onServerError);\n\t    this._onServerUpgrade = function(req, socket, upgradeHead) {\n\t      //copy upgradeHead to avoid retention of large slab buffers used in node core\n\t      var head = new Buffer(upgradeHead.length);\n\t      upgradeHead.copy(head);\n\t\n\t      self.handleUpgrade(req, socket, head, function(client) {\n\t        self.emit('connection'+req.url, client);\n\t        self.emit('connection', client);\n\t      });\n\t    };\n\t    this._server.on('upgrade', this._onServerUpgrade);\n\t  }\n\t\n\t  this.options = options.value;\n\t  this.path = options.value.path;\n\t  this.clients = [];\n\t}\n\t\n\t/**\n\t * Inherits from EventEmitter.\n\t */\n\t\n\tutil.inherits(WebSocketServer, events.EventEmitter);\n\t\n\t/**\n\t * Immediately shuts down the connection.\n\t *\n\t * @api public\n\t */\n\t\n\tWebSocketServer.prototype.close = function(callback) {\n\t  // terminate all associated clients\n\t  var error = null;\n\t  try {\n\t    for (var i = 0, l = this.clients.length; i < l; ++i) {\n\t      this.clients[i].terminate();\n\t    }\n\t  }\n\t  catch (e) {\n\t    error = e;\n\t  }\n\t\n\t  // remove path descriptor, if any\n\t  if (this.path && this._server._webSocketPaths) {\n\t    delete this._server._webSocketPaths[this.path];\n\t    if (Object.keys(this._server._webSocketPaths).length == 0) {\n\t      delete this._server._webSocketPaths;\n\t    }\n\t  }\n\t\n\t  // close the http server if it was internally created\n\t  try {\n\t    if (typeof this._closeServer !== 'undefined') {\n\t      this._closeServer();\n\t    }\n\t  }\n\t  finally {\n\t    if (this._server) {\n\t      this._server.removeListener('listening', this._onceServerListening);\n\t      this._server.removeListener('error', this._onServerError);\n\t      this._server.removeListener('upgrade', this._onServerUpgrade);\n\t    }\n\t    delete this._server;\n\t  }\n\t  if(callback)\n\t    callback(error);\n\t  else if(error)\n\t    throw error;\n\t}\n\t\n\t/**\n\t * Handle a HTTP Upgrade request.\n\t *\n\t * @api public\n\t */\n\t\n\tWebSocketServer.prototype.handleUpgrade = function(req, socket, upgradeHead, cb) {\n\t  // check for wrong path\n\t  if (this.options.path) {\n\t    var u = url.parse(req.url);\n\t    if (u && u.pathname !== this.options.path) return;\n\t  }\n\t\n\t  if (typeof req.headers.upgrade === 'undefined' || req.headers.upgrade.toLowerCase() !== 'websocket') {\n\t    abortConnection(socket, 400, 'Bad Request');\n\t    return;\n\t  }\n\t\n\t  if (req.headers['sec-websocket-key1']) handleHixieUpgrade.apply(this, arguments);\n\t  else handleHybiUpgrade.apply(this, arguments);\n\t}\n\t\n\tmodule.exports = WebSocketServer;\n\t\n\t/**\n\t * Entirely private apis,\n\t * which may or may not be bound to a sepcific WebSocket instance.\n\t */\n\t\n\tfunction handleHybiUpgrade(req, socket, upgradeHead, cb) {\n\t  // handle premature socket errors\n\t  var errorHandler = function() {\n\t    try { socket.destroy(); } catch (e) {}\n\t  }\n\t  socket.on('error', errorHandler);\n\t\n\t  // verify key presence\n\t  if (!req.headers['sec-websocket-key']) {\n\t    abortConnection(socket, 400, 'Bad Request');\n\t    return;\n\t  }\n\t\n\t  // verify version\n\t  var version = parseInt(req.headers['sec-websocket-version']);\n\t  if ([8, 13].indexOf(version) === -1) {\n\t    abortConnection(socket, 400, 'Bad Request');\n\t    return;\n\t  }\n\t\n\t  // verify protocol\n\t  var protocols = req.headers['sec-websocket-protocol'];\n\t\n\t  // verify client\n\t  var origin = version < 13 ?\n\t    req.headers['sec-websocket-origin'] :\n\t    req.headers['origin'];\n\t\n\t  // handle extensions offer\n\t  var extensionsOffer = Extensions.parse(req.headers['sec-websocket-extensions']);\n\t\n\t  // handler to call when the connection sequence completes\n\t  var self = this;\n\t  var completeHybiUpgrade2 = function(protocol) {\n\t\n\t    // calc key\n\t    var key = req.headers['sec-websocket-key'];\n\t    var shasum = crypto.createHash('sha1');\n\t    shasum.update(key + \"258EAFA5-E914-47DA-95CA-C5AB0DC85B11\");\n\t    key = shasum.digest('base64');\n\t\n\t    var headers = [\n\t        'HTTP/1.1 101 Switching Protocols'\n\t      , 'Upgrade: websocket'\n\t      , 'Connection: Upgrade'\n\t      , 'Sec-WebSocket-Accept: ' + key\n\t    ];\n\t\n\t    if (typeof protocol != 'undefined') {\n\t      headers.push('Sec-WebSocket-Protocol: ' + protocol);\n\t    }\n\t\n\t    var extensions = {};\n\t    try {\n\t      extensions = acceptExtensions.call(self, extensionsOffer);\n\t    } catch (err) {\n\t      abortConnection(socket, 400, 'Bad Request');\n\t      return;\n\t    }\n\t\n\t    if (Object.keys(extensions).length) {\n\t      var serverExtensions = {};\n\t      Object.keys(extensions).forEach(function(token) {\n\t        serverExtensions[token] = [extensions[token].params]\n\t      });\n\t      headers.push('Sec-WebSocket-Extensions: ' + Extensions.format(serverExtensions));\n\t    }\n\t\n\t    // allows external modification/inspection of handshake headers\n\t    self.emit('headers', headers);\n\t\n\t    socket.setTimeout(0);\n\t    socket.setNoDelay(true);\n\t    try {\n\t      socket.write(headers.concat('', '').join('\\r\\n'));\n\t    }\n\t    catch (e) {\n\t      // if the upgrade write fails, shut the connection down hard\n\t      try { socket.destroy(); } catch (e) {}\n\t      return;\n\t    }\n\t\n\t    var client = new WebSocket([req, socket, upgradeHead], {\n\t      protocolVersion: version,\n\t      protocol: protocol,\n\t      extensions: extensions,\n\t      maxPayload: self.options.maxPayload\n\t    });\n\t\n\t    if (self.options.clientTracking) {\n\t      self.clients.push(client);\n\t      client.on('close', function() {\n\t        var index = self.clients.indexOf(client);\n\t        if (index != -1) {\n\t          self.clients.splice(index, 1);\n\t        }\n\t      });\n\t    }\n\t\n\t    // signal upgrade complete\n\t    socket.removeListener('error', errorHandler);\n\t    cb(client);\n\t  }\n\t\n\t  // optionally call external protocol selection handler before\n\t  // calling completeHybiUpgrade2\n\t  var completeHybiUpgrade1 = function() {\n\t    // choose from the sub-protocols\n\t    if (typeof self.options.handleProtocols == 'function') {\n\t        var protList = (protocols || \"\").split(/, */);\n\t        var callbackCalled = false;\n\t        var res = self.options.handleProtocols(protList, function(result, protocol) {\n\t          callbackCalled = true;\n\t          if (!result) abortConnection(socket, 401, 'Unauthorized');\n\t          else completeHybiUpgrade2(protocol);\n\t        });\n\t        if (!callbackCalled) {\n\t            // the handleProtocols handler never called our callback\n\t            abortConnection(socket, 501, 'Could not process protocols');\n\t        }\n\t        return;\n\t    } else {\n\t        if (typeof protocols !== 'undefined') {\n\t            completeHybiUpgrade2(protocols.split(/, */)[0]);\n\t        }\n\t        else {\n\t            completeHybiUpgrade2();\n\t        }\n\t    }\n\t  }\n\t\n\t  // optionally call external client verification handler\n\t  if (typeof this.options.verifyClient == 'function') {\n\t    var info = {\n\t      origin: origin,\n\t      secure: typeof req.connection.authorized !== 'undefined' || typeof req.connection.encrypted !== 'undefined',\n\t      req: req\n\t    };\n\t    if (this.options.verifyClient.length == 2) {\n\t      this.options.verifyClient(info, function(result, code, name) {\n\t        if (typeof code === 'undefined') code = 401;\n\t        if (typeof name === 'undefined') name = http.STATUS_CODES[code];\n\t\n\t        if (!result) abortConnection(socket, code, name);\n\t        else completeHybiUpgrade1();\n\t      });\n\t      return;\n\t    }\n\t    else if (!this.options.verifyClient(info)) {\n\t      abortConnection(socket, 401, 'Unauthorized');\n\t      return;\n\t    }\n\t  }\n\t\n\t  completeHybiUpgrade1();\n\t}\n\t\n\tfunction handleHixieUpgrade(req, socket, upgradeHead, cb) {\n\t  // handle premature socket errors\n\t  var errorHandler = function() {\n\t    try { socket.destroy(); } catch (e) {}\n\t  }\n\t  socket.on('error', errorHandler);\n\t\n\t  // bail if options prevent hixie\n\t  if (this.options.disableHixie) {\n\t    abortConnection(socket, 401, 'Hixie support disabled');\n\t    return;\n\t  }\n\t\n\t  // verify key presence\n\t  if (!req.headers['sec-websocket-key2']) {\n\t    abortConnection(socket, 400, 'Bad Request');\n\t    return;\n\t  }\n\t\n\t  var origin = req.headers['origin']\n\t    , self = this;\n\t\n\t  // setup handshake completion to run after client has been verified\n\t  var onClientVerified = function() {\n\t    var wshost;\n\t    if (!req.headers['x-forwarded-host'])\n\t        wshost = req.headers.host;\n\t    else\n\t        wshost = req.headers['x-forwarded-host'];\n\t    var location = ((req.headers['x-forwarded-proto'] === 'https' || socket.encrypted) ? 'wss' : 'ws') + '://' + wshost + req.url\n\t      , protocol = req.headers['sec-websocket-protocol'];\n\t\n\t    // build the response header and return a Buffer\n\t    var buildResponseHeader = function() {\n\t      var headers = [\n\t          'HTTP/1.1 101 Switching Protocols'\n\t        , 'Upgrade: WebSocket'\n\t        , 'Connection: Upgrade'\n\t        , 'Sec-WebSocket-Location: ' + location\n\t      ];\n\t      if (typeof protocol != 'undefined') headers.push('Sec-WebSocket-Protocol: ' + protocol);\n\t      if (typeof origin != 'undefined') headers.push('Sec-WebSocket-Origin: ' + origin);\n\t\n\t      return new Buffer(headers.concat('', '').join('\\r\\n'));\n\t    };\n\t\n\t    // send handshake response before receiving the nonce\n\t    var handshakeResponse = function() {\n\t\n\t      socket.setTimeout(0);\n\t      socket.setNoDelay(true);\n\t\n\t      var headerBuffer = buildResponseHeader();\n\t\n\t      try {\n\t        socket.write(headerBuffer, 'binary', function(err) {\n\t          // remove listener if there was an error\n\t          if (err) socket.removeListener('data', handler);\n\t          return;\n\t        });\n\t      } catch (e) {\n\t        try { socket.destroy(); } catch (e) {}\n\t        return;\n\t      };\n\t    };\n\t\n\t    // handshake completion code to run once nonce has been successfully retrieved\n\t    var completeHandshake = function(nonce, rest, headerBuffer) {\n\t      // calculate key\n\t      var k1 = req.headers['sec-websocket-key1']\n\t        , k2 = req.headers['sec-websocket-key2']\n\t        , md5 = crypto.createHash('md5');\n\t\n\t      [k1, k2].forEach(function (k) {\n\t        var n = parseInt(k.replace(/[^\\d]/g, ''))\n\t          , spaces = k.replace(/[^ ]/g, '').length;\n\t        if (spaces === 0 || n % spaces !== 0){\n\t          abortConnection(socket, 400, 'Bad Request');\n\t          return;\n\t        }\n\t        n /= spaces;\n\t        md5.update(String.fromCharCode(\n\t          n >> 24 & 0xFF,\n\t          n >> 16 & 0xFF,\n\t          n >> 8  & 0xFF,\n\t          n       & 0xFF));\n\t      });\n\t      md5.update(nonce.toString('binary'));\n\t\n\t      socket.setTimeout(0);\n\t      socket.setNoDelay(true);\n\t\n\t      try {\n\t        var hashBuffer = new Buffer(md5.digest('binary'), 'binary');\n\t        var handshakeBuffer = new Buffer(headerBuffer.length + hashBuffer.length);\n\t        headerBuffer.copy(handshakeBuffer, 0);\n\t        hashBuffer.copy(handshakeBuffer, headerBuffer.length);\n\t\n\t        // do a single write, which - upon success - causes a new client websocket to be setup\n\t        socket.write(handshakeBuffer, 'binary', function(err) {\n\t          if (err) return; // do not create client if an error happens\n\t          var client = new WebSocket([req, socket, rest], {\n\t            protocolVersion: 'hixie-76',\n\t            protocol: protocol\n\t          });\n\t          if (self.options.clientTracking) {\n\t            self.clients.push(client);\n\t            client.on('close', function() {\n\t              var index = self.clients.indexOf(client);\n\t              if (index != -1) {\n\t                self.clients.splice(index, 1);\n\t              }\n\t            });\n\t          }\n\t\n\t          // signal upgrade complete\n\t          socket.removeListener('error', errorHandler);\n\t          cb(client);\n\t        });\n\t      }\n\t      catch (e) {\n\t        try { socket.destroy(); } catch (e) {}\n\t        return;\n\t      }\n\t    }\n\t\n\t    // retrieve nonce\n\t    var nonceLength = 8;\n\t    if (upgradeHead && upgradeHead.length >= nonceLength) {\n\t      var nonce = upgradeHead.slice(0, nonceLength);\n\t      var rest = upgradeHead.length > nonceLength ? upgradeHead.slice(nonceLength) : null;\n\t      completeHandshake.call(self, nonce, rest, buildResponseHeader());\n\t    }\n\t    else {\n\t      // nonce not present in upgradeHead\n\t      var nonce = new Buffer(nonceLength);\n\t      upgradeHead.copy(nonce, 0);\n\t      var received = upgradeHead.length;\n\t      var rest = null;\n\t      var handler = function (data) {\n\t        var toRead = Math.min(data.length, nonceLength - received);\n\t        if (toRead === 0) return;\n\t        data.copy(nonce, received, 0, toRead);\n\t        received += toRead;\n\t        if (received == nonceLength) {\n\t          socket.removeListener('data', handler);\n\t          if (toRead < data.length) rest = data.slice(toRead);\n\t\n\t          // complete the handshake but send empty buffer for headers since they have already been sent\n\t          completeHandshake.call(self, nonce, rest, new Buffer(0));\n\t        }\n\t      }\n\t\n\t      // handle additional data as we receive it\n\t      socket.on('data', handler);\n\t\n\t      // send header response before we have the nonce to fix haproxy buffering\n\t      handshakeResponse();\n\t    }\n\t  }\n\t\n\t  // verify client\n\t  if (typeof this.options.verifyClient == 'function') {\n\t    var info = {\n\t      origin: origin,\n\t      secure: typeof req.connection.authorized !== 'undefined' || typeof req.connection.encrypted !== 'undefined',\n\t      req: req\n\t    };\n\t    if (this.options.verifyClient.length == 2) {\n\t      var self = this;\n\t      this.options.verifyClient(info, function(result, code, name) {\n\t        if (typeof code === 'undefined') code = 401;\n\t        if (typeof name === 'undefined') name = http.STATUS_CODES[code];\n\t\n\t        if (!result) abortConnection(socket, code, name);\n\t        else onClientVerified.apply(self);\n\t      });\n\t      return;\n\t    }\n\t    else if (!this.options.verifyClient(info)) {\n\t      abortConnection(socket, 401, 'Unauthorized');\n\t      return;\n\t    }\n\t  }\n\t\n\t  // no client verification required\n\t  onClientVerified();\n\t}\n\t\n\tfunction acceptExtensions(offer) {\n\t  var extensions = {};\n\t  var options = this.options.perMessageDeflate;\n\t  var maxPayload = this.options.maxPayload;\n\t  if (options && offer[PerMessageDeflate.extensionName]) {\n\t    var perMessageDeflate = new PerMessageDeflate(options !== true ? options : {}, true, maxPayload);\n\t    perMessageDeflate.accept(offer[PerMessageDeflate.extensionName]);\n\t    extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n\t  }\n\t  return extensions;\n\t}\n\t\n\tfunction abortConnection(socket, code, name) {\n\t  try {\n\t    var response = [\n\t      'HTTP/1.1 ' + code + ' ' + name,\n\t      'Content-type: text/html'\n\t    ];\n\t    socket.write(response.concat('', '').join('\\r\\n'));\n\t  }\n\t  catch (e) { /* ignore errors - we've aborted this connection */ }\n\t  finally {\n\t    // ensure that an early aborted connection is shut down completely\n\t    try { socket.destroy(); } catch (e) {}\n\t  }\n\t}\n\n\n/***/ },\n/* 31 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"fs\");\n\n/***/ },\n/* 32 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"https\");\n\n/***/ },\n/* 33 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"stream\");\n\n/***/ },\n/* 34 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"tls\");\n\n/***/ },\n/* 35 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"zlib\");\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// myojs.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 83c85ca773117eda10a3","import BaseConnection from './connection/BaseConnection.js';\nimport Hub from './Hub.js';\nimport Myo from './Myo.js';\nimport CircularBuffer from './CircularBuffer.js';\nimport Pose from './Pose.js';\nimport Quaternion from './Quaternion.js';\nimport Vector3 from './Vector3.js';\nimport Frame from './Frame.js';\n\nexport default class MyoJS {\n    constructor() {\n\n    }\n\n    static BaseConnection() {\n        return BaseConnection;\n    }\n\n    static CircularBuffer() {\n        return CircularBuffer;\n    }\n\n    static Hub() {\n        return new Hub();\n    }\n\n    static Myo() {\n        return Myo;\n    }\n\n    static Frame() {\n        return Frame;\n    }\n\n    static Pose() {\n        return Pose;\n    }\n\n    static Quaternion() {\n        return Quaternion;\n    }\n\n    static Vector3() {\n        return Vector3;\n    }\n}\n\n/**\n * Exports global to the window object.\n * @namespace Myo\n */\nglobal.Myo = MyoJS;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Index.js","module.exports = require(\"util\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"util\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"events\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"events\"\n// module id = 2\n// module chunks = 0","\nvar zlib = require('zlib');\n\nvar AVAILABLE_WINDOW_BITS = [8, 9, 10, 11, 12, 13, 14, 15];\nvar DEFAULT_WINDOW_BITS = 15;\nvar DEFAULT_MEM_LEVEL = 8;\n\nPerMessageDeflate.extensionName = 'permessage-deflate';\n\n/**\n * Per-message Compression Extensions implementation\n */\n\nfunction PerMessageDeflate(options, isServer,maxPayload) {\n  if (this instanceof PerMessageDeflate === false) {\n    throw new TypeError(\"Classes can't be function-called\");\n  }\n\n  this._options = options || {};\n  this._isServer = !!isServer;\n  this._inflate = null;\n  this._deflate = null;\n  this.params = null;\n  this._maxPayload = maxPayload || 0;\n}\n\n/**\n * Create extension parameters offer\n *\n * @api public\n */\n\nPerMessageDeflate.prototype.offer = function() {\n  var params = {};\n  if (this._options.serverNoContextTakeover) {\n    params.server_no_context_takeover = true;\n  }\n  if (this._options.clientNoContextTakeover) {\n    params.client_no_context_takeover = true;\n  }\n  if (this._options.serverMaxWindowBits) {\n    params.server_max_window_bits = this._options.serverMaxWindowBits;\n  }\n  if (this._options.clientMaxWindowBits) {\n    params.client_max_window_bits = this._options.clientMaxWindowBits;\n  } else if (this._options.clientMaxWindowBits == null) {\n    params.client_max_window_bits = true;\n  }\n  return params;\n};\n\n/**\n * Accept extension offer\n *\n * @api public\n */\n\nPerMessageDeflate.prototype.accept = function(paramsList) {\n  paramsList = this.normalizeParams(paramsList);\n\n  var params;\n  if (this._isServer) {\n    params = this.acceptAsServer(paramsList);\n  } else {\n    params = this.acceptAsClient(paramsList);\n  }\n\n  this.params = params;\n  return params;\n};\n\n/**\n * Releases all resources used by the extension\n *\n * @api public\n */\n\nPerMessageDeflate.prototype.cleanup = function() {\n  if (this._inflate) {\n    if (this._inflate.writeInProgress) {\n      this._inflate.pendingClose = true;\n    } else {\n      if (this._inflate.close) this._inflate.close();\n      this._inflate = null;\n    }\n  }\n  if (this._deflate) {\n    if (this._deflate.writeInProgress) {\n      this._deflate.pendingClose = true;\n    } else {\n      if (this._deflate.close) this._deflate.close();\n      this._deflate = null;\n    }\n  }\n};\n\n/**\n * Accept extension offer from client\n *\n * @api private\n */\n\nPerMessageDeflate.prototype.acceptAsServer = function(paramsList) {\n  var accepted = {};\n  var result = paramsList.some(function(params) {\n    accepted = {};\n    if (this._options.serverNoContextTakeover === false && params.server_no_context_takeover) {\n      return;\n    }\n    if (this._options.serverMaxWindowBits === false && params.server_max_window_bits) {\n      return;\n    }\n    if (typeof this._options.serverMaxWindowBits === 'number' &&\n        typeof params.server_max_window_bits === 'number' &&\n        this._options.serverMaxWindowBits > params.server_max_window_bits) {\n      return;\n    }\n    if (typeof this._options.clientMaxWindowBits === 'number' && !params.client_max_window_bits) {\n      return;\n    }\n\n    if (this._options.serverNoContextTakeover || params.server_no_context_takeover) {\n      accepted.server_no_context_takeover = true;\n    }\n    if (this._options.clientNoContextTakeover) {\n      accepted.client_no_context_takeover = true;\n    }\n    if (this._options.clientNoContextTakeover !== false && params.client_no_context_takeover) {\n      accepted.client_no_context_takeover = true;\n    }\n    if (typeof this._options.serverMaxWindowBits === 'number') {\n      accepted.server_max_window_bits = this._options.serverMaxWindowBits;\n    } else if (typeof params.server_max_window_bits === 'number') {\n      accepted.server_max_window_bits = params.server_max_window_bits;\n    }\n    if (typeof this._options.clientMaxWindowBits === 'number') {\n      accepted.client_max_window_bits = this._options.clientMaxWindowBits;\n    } else if (this._options.clientMaxWindowBits !== false && typeof params.client_max_window_bits === 'number') {\n      accepted.client_max_window_bits = params.client_max_window_bits;\n    }\n    return true;\n  }, this);\n\n  if (!result) {\n    throw new Error('Doesn\\'t support the offered configuration');\n  }\n\n  return accepted;\n};\n\n/**\n * Accept extension response from server\n *\n * @api privaye\n */\n\nPerMessageDeflate.prototype.acceptAsClient = function(paramsList) {\n  var params = paramsList[0];\n  if (this._options.clientNoContextTakeover != null) {\n    if (this._options.clientNoContextTakeover === false && params.client_no_context_takeover) {\n      throw new Error('Invalid value for \"client_no_context_takeover\"');\n    }\n  }\n  if (this._options.clientMaxWindowBits != null) {\n    if (this._options.clientMaxWindowBits === false && params.client_max_window_bits) {\n      throw new Error('Invalid value for \"client_max_window_bits\"');\n    }\n    if (typeof this._options.clientMaxWindowBits === 'number' &&\n        (!params.client_max_window_bits || params.client_max_window_bits > this._options.clientMaxWindowBits)) {\n      throw new Error('Invalid value for \"client_max_window_bits\"');\n    }\n  }\n  return params;\n};\n\n/**\n * Normalize extensions parameters\n *\n * @api private\n */\n\nPerMessageDeflate.prototype.normalizeParams = function(paramsList) {\n  return paramsList.map(function(params) {\n    Object.keys(params).forEach(function(key) {\n      var value = params[key];\n      if (value.length > 1) {\n        throw new Error('Multiple extension parameters for ' + key);\n      }\n\n      value = value[0];\n\n      switch (key) {\n      case 'server_no_context_takeover':\n      case 'client_no_context_takeover':\n        if (value !== true) {\n          throw new Error('invalid extension parameter value for ' + key + ' (' + value + ')');\n        }\n        params[key] = true;\n        break;\n      case 'server_max_window_bits':\n      case 'client_max_window_bits':\n        if (typeof value === 'string') {\n          value = parseInt(value, 10);\n          if (!~AVAILABLE_WINDOW_BITS.indexOf(value)) {\n            throw new Error('invalid extension parameter value for ' + key + ' (' + value + ')');\n          }\n        }\n        if (!this._isServer && value === true) {\n          throw new Error('Missing extension parameter value for ' + key);\n        }\n        params[key] = value;\n        break;\n      default:\n        throw new Error('Not defined extension parameter (' + key + ')');\n      }\n    }, this);\n    return params;\n  }, this);\n};\n\n/**\n * Decompress message\n *\n * @api public\n */\n\nPerMessageDeflate.prototype.decompress = function (data, fin, callback) {\n  var endpoint = this._isServer ? 'client' : 'server';\n\n  if (!this._inflate) {\n    var maxWindowBits = this.params[endpoint + '_max_window_bits'];\n    this._inflate = zlib.createInflateRaw({\n      windowBits: 'number' === typeof maxWindowBits ? maxWindowBits : DEFAULT_WINDOW_BITS\n    });\n  }\n  this._inflate.writeInProgress = true;\n\n  var self = this;\n  var buffers = [];\n  var cumulativeBufferLength=0;\n\n  this._inflate.on('error', onError).on('data', onData);\n  this._inflate.write(data);\n  if (fin) {\n    this._inflate.write(new Buffer([0x00, 0x00, 0xff, 0xff]));\n  }\n  this._inflate.flush(function() {\n    cleanup();\n    callback(null, Buffer.concat(buffers));\n  });\n\n  function onError(err) {\n    cleanup();\n    callback(err);\n  }\n\n  function onData(data) {\n      if(self._maxPayload!==undefined && self._maxPayload!==null && self._maxPayload>0){\n          cumulativeBufferLength+=data.length;\n          if(cumulativeBufferLength>self._maxPayload){\n            buffers=[];\n            cleanup();\n            var err={type:1009};\n            callback(err);\n            return;\n          }\n      }\n      buffers.push(data);\n  }\n\n  function cleanup() {\n    if (!self._inflate) return;\n    self._inflate.removeListener('error', onError);\n    self._inflate.removeListener('data', onData);\n    self._inflate.writeInProgress = false;\n    if ((fin && self.params[endpoint + '_no_context_takeover']) || self._inflate.pendingClose) {\n      if (self._inflate.close) self._inflate.close();\n      self._inflate = null;\n    }\n  }\n};\n\n/**\n * Compress message\n *\n * @api public\n */\n\nPerMessageDeflate.prototype.compress = function (data, fin, callback) {\n  var endpoint = this._isServer ? 'server' : 'client';\n\n  if (!this._deflate) {\n    var maxWindowBits = this.params[endpoint + '_max_window_bits'];\n    this._deflate = zlib.createDeflateRaw({\n      flush: zlib.Z_SYNC_FLUSH,\n      windowBits: 'number' === typeof maxWindowBits ? maxWindowBits : DEFAULT_WINDOW_BITS,\n      memLevel: this._options.memLevel || DEFAULT_MEM_LEVEL\n    });\n  }\n  this._deflate.writeInProgress = true;\n\n  var self = this;\n  var buffers = [];\n\n  this._deflate.on('error', onError).on('data', onData);\n  this._deflate.write(data);\n  this._deflate.flush(function() {\n    cleanup();\n    var data = Buffer.concat(buffers);\n    if (fin) {\n      data = data.slice(0, data.length - 4);\n    }\n    callback(null, data);\n  });\n\n  function onError(err) {\n    cleanup();\n    callback(err);\n  }\n\n  function onData(data) {\n    buffers.push(data);\n  }\n\n  function cleanup() {\n    if (!self._deflate) return;\n    self._deflate.removeListener('error', onError);\n    self._deflate.removeListener('data', onData);\n    self._deflate.writeInProgress = false;\n    if ((fin && self.params[endpoint + '_no_context_takeover']) || self._deflate.pendingClose) {\n      if (self._deflate.close) self._deflate.close();\n      self._deflate = null;\n    }\n  }\n};\n\nmodule.exports = PerMessageDeflate;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ws/lib/PerMessageDeflate.js\n// module id = 3\n// module chunks = 0","export default class CircularBuffer {\n    constructor(size) {\n\n        this.pos = 0;\n        this._buf = [];\n        this.size = size;\n    }\n\n    get(i) {\n        if (!i || i === null) {\n            i = 0;\n        }\n        if (i >= this.size) {\n            return null;\n        }\n        if (i >= this._buf.length) {\n            return null;\n        }\n        return this._buf[(this.pos - i - 1) % this.size];\n    }\n\n    push(o) {\n        this._buf[this.pos % this.size] = o;\n        return this.pos++;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/CircularBuffer.js","import Pose from './Pose.js';\nimport Quaternion from './Quaternion.js';\nimport Vector3 from './Vector3.js';\n\nexport default class Frame {\n    constructor(data) {\n\n        if (!data) {\n            throw new Error('Missing constructor arguments');\n        }\n        if (typeof data !== 'object') {\n            throw new Error('Constructor parameter needs to be an object');\n        }\n        if (!data.hasOwnProperty('id') || data.id !== parseInt(data.id, 10)) {\n            throw new Error('Frame id needs to be of type integer');\n        }\n        if (!data.hasOwnProperty('timestamp') || typeof data.timestamp !== 'string') {\n            throw new Error('Timestamp needs to be of type string');\n        }\n\n        /**\n         * A unique ID for this Frame. Consecutive frames processed by the Myo\n         * have consecutive increasing values.\n         * @member id\n         * @memberof Myo.Frame.prototype\n         * @type {number}\n         */\n        this.id = data.id;\n\n        /**\n         * The frame capture time in microseconds elapsed since the Myo started.\n         * @member timestamp\n         * @memberof Myo.Frame.prototype\n         * @type {string}\n         */\n        this.timestamp = data.timestamp;\n\n        if (data.euler) {\n            this.euler = data.euler;\n        }\n\n        if (data.rssi) {\n            this.rssi = data.rssi;\n        }\n\n        if (data.event) {\n            this.event = data.event;\n        }\n\n        /**\n         * A change in pose has been detected.\n         * @member pose\n         * @memberof Myo.Pose.prototype\n         * @type {Pose}\n         */\n        if (data.pose) {\n            this.pose = new Pose(data.pose);\n        } else {\n            this.pose = Pose.invalid();\n        }\n\n        /**\n         * A change in pose has been detected.\n         * @member pose\n         * @memberof Myo.Pose.prototype\n         * @type {Pose}\n         */\n        if (data.rotation) {\n            this.rotation = new Quaternion(data.rotation);\n        } else {\n            this.rotation = Quaternion.invalid();\n        }\n\n        if (data.accel) {\n            this.accel = new Vector3(data.accel);\n        } else {\n            this.accel = Vector3.invalid();\n        }\n\n        if (data.gyro) {\n            this.gyro = new Vector3(data.gyro);\n        } else {\n            this.gyro = Vector3.invalid();\n        }\n\n        /**\n         * EMG data\n         */\n        if (data.emg) {\n            this.emg = data.emg;\n        } else {\n            this.emg = [];\n        }\n\n        this.data = data;\n        this.type = 'frame';\n    }\n\n    /**\n     * Returns a string containing this Frame in a human readable format.\n     * @return\n     *\n     */\n    toString() {\n        return `[Frame id:${this.id} timestamp:${this.timestamp} accel:${this.accel.toString()}]`;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Frame.js","export default class Myo {\n    constructor(context) {\n\n        if (!context) {\n            throw new Error('Missing context');\n        }\n\n        /**\n         * @private\n         *\n         */\n        this.context = context;\n    }\n\n\n    /**\n     * Request the RSSI of the Myo.\n     *\n     * <p>An onRssi event will likely be generated with the value of the RSSI.</p>\n     *\n     */\n    requestRssi() {\n        this.context.send({\n            'requestRssi': true\n        });\n    }\n\n    /**\n     * Engage the Myo's built in vibration motor.\n     * @param length\n     *\n     */\n    vibrate(length) {\n        switch (length) {\n            case Myo.VIBRATION_SHORT:\n                this.context.send({\n                    'command': 'vibrate',\n                    'args': [Myo.VIBRATION_SHORT]\n                });\n                break;\n            case Myo.VIBRATION_MEDIUM:\n                this.context.send({\n                    'command': 'vibrate',\n                    'args': [Myo.VIBRATION_MEDIUM]\n                });\n                break;\n            case Myo.VIBRATION_LONG:\n                this.context.send({\n                    'command': 'vibrate',\n                    'args': [Myo.VIBRATION_LONG]\n                });\n                break;\n            default:\n                throw new Error('Valid values are: Myo.VIBRATION_SHORT, Myo.VIBRATION_MEDIUM, Myo.VIBRATION_LONG');\n        }\n    }\n\n    /**\n     * Unlock the given Myo.\n     * Can be called when a Myo is paired.\n     *\n     */\n    unlock(option) {\n        switch (option) {\n            case Myo.UNLOCK_TIMED:\n                this.context.send({\n                    'command': 'unlock',\n                    'args': [Myo.UNLOCK_TIMED]\n                });\n                break;\n            case Myo.UNLOCK_HOLD:\n                this.context.send({\n                    'command': 'unlock',\n                    'args': [Myo.UNLOCK_HOLD]\n                });\n                break;\n            default:\n                throw new Error('Valid values are: Myo.UNLOCK_TIMED, Myo.UNLOCK_HOLD');\n        }\n    }\n\n    /**\n     * Lock the given Myo immediately.\n     * Can be called when a Myo is paired.\n     *\n     */\n    lock() {\n        this.context.send({\n            'command': 'lock'\n        });\n    }\n\n    /**\n     * Notify the given Myo that a user action was recognized.\n     * Can be called when a Myo is paired. Will cause Myo to vibrate.\n     *\n     */\n    notifyUserAction(action) {\n        switch (action) {\n            case Myo.USER_ACTION_SINGLE:\n                this.context.send({\n                    'command': 'notifyUserAction',\n                    'args': [Myo.USER_ACTION_SINGLE]\n                });\n                break;\n            default:\n                throw new Error('Valid values are: Myo.USER_ACTION_SINGLE');\n        }\n    }\n}\n\n/**\n * A vibration lasting a small amount of time (VibrationLengthShort)\n */\nMyo.VIBRATION_SHORT = 0;\n\n/**\n * A vibration lasting a moderate amount of time (VibrationLengthMedium)\n */\nMyo.VIBRATION_MEDIUM = 1;\n\n/**\n * A vibration lasting a long amount of time (VibrationLengthLong)\n */\nMyo.VIBRATION_LONG = 2;\n\n/**\n * Unlock for a fixed period of time.\n */\nMyo.UNLOCK_TIMED = 0;\n\n/**\n * Unlock until explicitly told to re-lock.\n */\nMyo.UNLOCK_HOLD = 1;\n\n/**\n * User did a single, discrete action, such as pausing a video.\n */\nMyo.USER_ACTION_SINGLE = 0;\n\n\n// WEBPACK FOOTER //\n// ./src/Myo.js","export default class Pose {\n    constructor(data) {\n\n        if (typeof data !== 'object' || Object.prototype.toString.call(data) === '[object Array]') {\n            throw new Error('Constructor parameter needs to be an object');\n        }\n\n        /**\n         * The pose being recognized.\n         */\n        this.type = data.type;\n\n        /**\n         * Indicates whether this is a valid Pose object.\n         */\n        this.valid = !data.hasOwnProperty('invalid');\n\n        if (this.valid) {\n            if (!data.hasOwnProperty('type') || data.type !== parseInt(data.type, 10)) {\n                throw new Error('Pose type needs to be of type integer');\n            }\n        }\n    }\n\n    isEqualTo(other) {\n        return this.type === other.type;\n    }\n\n    /**\n     * An invalid Pose object.\n     *\n     * You can use this Pose instance in comparisons testing\n     * whether a given Pose instance is valid or invalid.\n     *\n     */\n    static invalid() {\n        return new Pose({\n            invalid: true\n        });\n    }\n\n    /**\n     * Return a human-readable string representation of the pose.\n     * @return\n     *\n     */\n    toString() {\n        if (!this.valid) {\n            return '[Pose invalid]';\n        }\n        switch (this.type) {\n            case Pose.POSE_REST:\n                return `[Pose type:${this.type.toString()} POSE_REST]`;\n            case Pose.POSE_FIST:\n                return `[Pose type:${this.type.toString()} POSE_FIST]`;\n            case Pose.POSE_WAVE_IN:\n                return `[Pose type:${this.type.toString()} POSE_WAVE_IN]`;\n            case Pose.POSE_WAVE_OUT:\n                return `[Pose type:${this.type.toString()} POSE_WAVE_OUT]`;\n            case Pose.POSE_FINGERS_SPREAD:\n                return `[Pose type:${this.type.toString()} POSE_FINGERS_SPREAD]`;\n            case Pose.POSE_DOUBLE_TAP:\n                return `[Pose type:${this.type.toString()} POSE_DOUBLE_TAP]`;\n            default:\n                return `[Pose type:${this.type.toString()}]`;\n        }\n    }\n}\n\n/**\n * Rest pose.\n */\nPose.POSE_REST = 0;\n\n/**\n * User is making a fist.\n */\nPose.POSE_FIST = 1;\n\n/**\n * User has an open palm rotated towards the posterior of their wrist.\n */\nPose.POSE_WAVE_IN = 2;\n\n/**\n * User has an open palm rotated towards the anterior of their wrist.\n */\nPose.POSE_WAVE_OUT = 3;\n\n/**\n * User has an open palm with their fingers spread away from each other.\n */\nPose.POSE_FINGERS_SPREAD = 4;\n\n/**\n * User tapped their thumb and middle finger together twice in succession.\n */\nPose.POSE_DOUBLE_TAP = 5;\n\n\n// WEBPACK FOOTER //\n// ./src/Pose.js","export default class Quaternion {\n    constructor(data) {\n\n        /**\n         * Indicates whether this is a valid Quaternion object.\n         */\n        this.valid = !data.hasOwnProperty('invalid');\n\n        if (this.valid) {\n            if (Object.prototype.toString.call(data) !== '[object Array]') {\n                throw new Error('Components needs to be an array');\n            }\n            if (isNaN(data[0]) || isNaN(data[1]) || isNaN(data[2]) || isNaN(data[3])) {\n                throw new Error('Component values needs to be integers or numbers');\n            }\n            this.x = data[0];\n            this.y = data[1];\n            this.z = data[2];\n            this.w = data[3];\n        } else {\n            this.x = NaN;\n            this.y = NaN;\n            this.z = NaN;\n            this.w = NaN;\n        }\n    }\n\n    /**\n     * A normalized copy of this quaternion.\n     * A normalized quaternion has the same direction as the original\n     * quaternion, but with a length of one.\n     * @return {Quaternion} A Quaternion object with a length of one, pointing in the same direction as this Quaternion object.\n     *\n     */\n    normalized() {\n        const magnitude = Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\n\n        return new Quaternion([\n            this.x / magnitude,\n            this.y / magnitude,\n            this.z / magnitude,\n            this.w / magnitude\n        ]);\n    }\n\n    /**\n     * A copy of this quaternion pointing in the opposite direction.\n     *\n     */\n    conjugate() {\n        return new Quaternion([-this.x, -this.y, -this.z,\n            this.w\n        ]);\n    }\n\n    /**\n     * Convert Quaternion to Euler angles.\n     * @see http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToEuler/\n     *\n     */\n    toEuler() {\n        let test = 0, heading = 0, attitude = 0, bank = 0, sqx = 0, sqy = 0, sqz = 0, sqw = 0, unit = 0;\n\n        sqw = this.w * this.w;\n        sqx = this.x * this.x;\n        sqy = this.y * this.y;\n        sqz = this.z * this.z;\n        unit = sqx + sqy + sqz + sqw; // If normalised is one, otherwise is correction factor\n        test = this.x * this.y + this.z * this.w;\n        if (test > 0.499 * unit /* Singularity at north pole */ ) {\n            heading = 2 * Math.atan2(this.x, this.w);\n            attitude = Math.PI / 2;\n            bank = 0;\n        } else if (test < -0.499 * unit /* Singularity at south pole */ ) {\n            heading = -2 * Math.atan2(this.x, this.w);\n            attitude = -Math.PI / 2;\n            bank = 0;\n        } else {\n            heading = Math.atan2(2 * this.y * this.w - 2 * this.x * this.z, sqx - sqy - sqz + sqw);\n            attitude = Math.asin(2 * test / unit);\n            bank = Math.atan2(2 * this.x * this.w - 2 * this.y * this.z, -sqx + sqy - sqz + sqw);\n        }\n\n        return {\n            heading: heading, // Heading = rotation about y axis\n            attitude: attitude, // Attitude = rotation about z axis\n            bank: bank // Bank = rotation about x axis\n        };\n    }\n\n    /**\n     * Convert Quaternion to Euler angles (roll).\n     *\n     */\n    roll() {\n        return Math.atan2(2 * this.y * this.w - 2 * this.x * this.z, 1 - 2 * this.y * this.y - 2 * this.z * this.z);\n    }\n\n    /**\n     * Convert Quaternion to Euler angles (pitch).\n     *\n     */\n    pitch() {\n        return Math.atan2(2 * this.x * this.w - 2 * this.y * this.z, 1 - 2 * this.x * this.x - 2 * this.z * this.z);\n    }\n\n    /**\n     * Convert Quaternion to Euler angles (yaw).\n     *\n     */\n    yaw() {\n        return Math.asin(2 * this.x * this.y + 2 * this.z * this.w);\n    }\n\n    /**\n     * An invalid Quaternion object.\n     *\n     * You can use this Quaternion instance in comparisons testing\n     * whether a given Quaternion instance is valid or invalid.\n     *\n     */\n    static invalid() {\n        return new Quaternion({\n            invalid: true\n        });\n    }\n\n    /**\n     * Returns a string containing this quaternion in a human readable format: (x, y, z, w).\n     * @return\n     *\n     */\n    toString() {\n        if (!this.valid) {\n            return '[Quaternion invalid]';\n        }\n        return `[Quaternion x:${this.x} y:${this.y} z:${this.z} w:${this.w}]`;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Quaternion.js","export default class Vector3 {\n    constructor(data) {\n\n        if (!data) {\n            throw new Error('Missing constructor arguments');\n        }\n        if (typeof data !== 'object') {\n            throw new Error('Constructor parameter needs to be an object');\n        }\n\n        /**\n         * Indicates whether this is a valid Vector3 object.\n         */\n        this.valid = !data.hasOwnProperty('invalid');\n\n        if (this.valid) {\n            if (!data || Object.prototype.toString.call(data) !== '[object Array]') {\n                throw new Error('Components needs to be an array');\n            }\n            if (isNaN(data[0]) || isNaN(data[1]) || isNaN(data[2])) {\n                throw new Error('Component values needs to be integers or numbers');\n            }\n            this.x = data[0];\n            this.y = data[1];\n            this.z = data[2];\n        } else {\n            this.x = NaN;\n            this.y = NaN;\n            this.z = NaN;\n        }\n    }\n\n    /**\n     * A copy of this vector pointing in the opposite direction.\n     * @return {Vector3} A Vector3 object with all components negated.\n     *\n     */\n    opposite() {\n        return new Vector3([-this.x, -this.y, -this.z]);\n    }\n\n    /**\n     * Add vectors component-wise.\n     * @param other\n     * @return {Vector3}\n     *\n     */\n    plus(other) {\n        return new Vector3([\n            this.x + other.x,\n            this.y + other.y,\n            this.z + other.z\n        ]);\n    }\n\n    /**\n     * Add vectors component-wise and assign the value.\n     * @param other\n     * @return {Vector3} This Vector3.\n     *\n     */\n    plusAssign(other) {\n        this.x += other.x;\n        this.y += other.y;\n        this.z += other.z;\n        return this;\n    }\n\n    /**\n     * A copy of this vector pointing in the opposite direction (conjugate).\n     * @param other\n     * @return {Vector3}\n     *\n     */\n    minus(other) {\n        return new Vector3([\n            this.x - other.x,\n            this.y - other.y,\n            this.z - other.z\n        ]);\n    }\n\n    /**\n     * A copy of this vector pointing in the opposite direction and assign the value.\n     * @param other\n     * @return {Vector3} This Vector3.\n     *\n     */\n    minusAssign(other) {\n        this.x -= other.x;\n        this.y -= other.y;\n        this.z -= other.z;\n        return this;\n    }\n\n    /**\n     * Multiply vector by a scalar.\n     * @param scalar\n     * @return {Vector3}\n     *\n     */\n    multiply(scalar) {\n        return new Vector3([\n            this.x * scalar,\n            this.y * scalar,\n            this.z * scalar\n        ]);\n    }\n\n    /**\n     * Multiply vector by a scalar and assign the quotient.\n     * @param scalar\n     * @return {Vector3} This Vector3.\n     *\n     */\n    multiplyAssign(scalar) {\n        this.x *= scalar;\n        this.y *= scalar;\n        this.z *= scalar;\n        return this;\n    }\n\n    /**\n     * Divide vector by a scalar.\n     * @param scalar\n     * @return {Vector3}\n     *\n     */\n    divide(scalar) {\n        return new Vector3([\n            this.x / scalar,\n            this.y / scalar,\n            this.z / scalar\n        ]);\n    }\n\n    /**\n     * Divide vector by a scalar and assign the value.\n     * @param scalar\n     * @return {Vector3} This Vector3.\n     *\n     */\n    divideAssign(scalar) {\n        this.x /= scalar;\n        this.y /= scalar;\n        this.z /= scalar;\n        return this;\n    }\n\n    /**\n     * Compare Vector equality/inequality component-wise.\n     * @param other The Vector3 to compare with.\n     * @return {boolean} true; if equal, false otherwise.\n     *\n     */\n    isEqualTo(other) {\n        return !(this.x !== other.x || this.y !== other.y || this.z !== other.z);\n    }\n\n    /**\n     * The angle between this vector and the specified vector in radians.\n     *\n     * <p>The angle is measured in the plane formed by the two vectors.\n     * The angle returned is always the smaller of the two conjugate angles.\n     * Thus <code>A.angleTo(B) === B.angleTo(A)</code> and is always a positive value less\n     * than or equal to pi radians (180 degrees).</p>\n     *\n     * <p>If either vector has zero length, then this method returns zero.</p>\n     *\n     * @param other A Vector object.\n     * @return {number} The angle between this vector and the specified vector in radians.\n     *\n     */\n    angleTo(other) {\n        const denom = this.magnitudeSquared() * other.magnitudeSquared();\n        let returnValue = 0;\n\n        if (denom <= 0) {\n            returnValue = 0;\n        } else {\n            returnValue = Math.acos(this.dot(other) / Math.sqrt(denom));\n        }\n        return returnValue;\n    }\n\n    /**\n     * The cross product of this vector and the specified vector.\n     *\n     * The cross product is a vector orthogonal to both original vectors.\n     * It has a magnitude equal to the area of a parallelogram having the\n     * two vectors as sides. The direction of the returned vector is\n     * determined by the right-hand rule. Thus <code>A.cross(B) === -B.cross(A)</code>.\n     *\n     * @param other A Vector object.\n     * @return {Vector3} The cross product of this vector and the specified vector.\n     *\n     */\n    cross(other) {\n        return new Vector3([\n            this.y * other.z - this.z * other.y,\n            this.z * other.x - this.x * other.z,\n            this.x * other.y - this.y * other.x\n        ]);\n    }\n\n    /**\n     * The distance between the point represented by this Vector\n     * object and a point represented by the specified Vector object.\n     *\n     * @param other A Vector object.\n     * @return {number} The distance from this point to the specified point.\n     *\n     */\n    distanceTo(other) {\n        return Math.sqrt((this.x - other.x) * (this.x - other.x) + (this.y - other.y) * (this.y - other.y) + (this.z - other.z) * (this.z - other.z));\n    }\n\n    /**\n     * The dot product of this vector with another vector.\n     * The dot product is the magnitude of the projection of this vector\n     * onto the specified vector.\n     *\n     * @param other A Vector object.\n     * @return {number} The dot product of this vector and the specified vector.\n     *\n     */\n    dot(other) {\n        return this.x * other.x + this.y * other.y + this.z * other.z;\n    }\n\n    /**\n     * Returns true if all of the vector's components are finite.\n     * @return {boolean} If any component is NaN or infinite, then this returns false.\n     *\n     */\n    isValid() {\n        return this.x <= Number.MAX_VALUE &&\n            this.x >= -Number.MAX_VALUE &&\n            this.y <= Number.MAX_VALUE &&\n            this.y >= -Number.MAX_VALUE &&\n            this.z <= Number.MAX_VALUE &&\n            this.z >= -Number.MAX_VALUE;\n    }\n\n    /**\n     * The magnitude, or length, of this vector.\n     * The magnitude is the L2 norm, or Euclidean distance between the\n     * origin and the point represented by the (x, y, z) components\n     * of this Vector object.\n     *\n     * @return {number} The length of this vector.\n     *\n     */\n    magnitude() {\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n    }\n\n    /**\n     * The square of the magnitude, or length, of this vector.\n     * @return {number} The square of the length of this vector.\n     *\n     */\n    magnitudeSquared() {\n        return this.x * this.x + this.y * this.y + this.z * this.z;\n    }\n\n    /**\n     * A normalized copy of this vector.\n     * A normalized vector has the same direction as the original\n     * vector, but with a length of one.\n     * @return {Vector3} A Vector object with a length of one, pointing in the same direction as this Vector object.\n     *\n     */\n    normalized() {\n        let denom = this.magnitudeSquared();\n        if (denom <= 0) {\n            return new Vector3([\n                0,\n                0,\n                0\n            ]);\n        }\n\n        denom = 1 / Math.sqrt(denom);\n        return new Vector3([\n            this.x * denom,\n            this.y * denom,\n            this.z * denom\n        ]);\n    }\n\n    /**\n     * The pitch angle in radians.\n     * Pitch is the angle between the negative z-axis and the projection\n     * of the vector onto the y-z plane. In other words, pitch represents\n     * rotation around the x-axis. If the vector points upward, the\n     * returned angle is between 0 and pi radians (180 degrees); if it\n     * points downward, the angle is between 0 and -pi radians.\n     *\n     * @return {number} The angle of this vector above or below the horizon (x-z plane).\n     *\n     */\n    pitch() {\n        return Math.atan2(this.y, -this.z);\n    }\n\n    /**\n     * The yaw angle in radians.\n     * Yaw is the angle between the negative z-axis and the projection\n     * of the vector onto the x-z plane. In other words, yaw represents\n     * rotation around the y-axis. If the vector points to the right of\n     * the negative z-axis, then the returned angle is between 0 and pi\n     * radians (180 degrees); if it points to the left, the angle is\n     * between 0 and -pi radians.\n     *\n     * @return {number} The angle of this vector to the right or left of the negative z-axis.\n     *\n     */\n    yaw() {\n        return Math.atan2(this.x, -this.z);\n    }\n\n    /**\n     * The roll angle in radians.\n     * Roll is the angle between the y-axis and the projection of the vector\n     * onto the x-y plane. In other words, roll represents rotation around\n     * the z-axis. If the vector points to the left of the y-axis, then the\n     * returned angle is between 0 and pi radians (180 degrees); if it\n     * points to the right, the angle is between 0 and -pi radians.\n     *\n     * Use this method to get roll angle of the plane to which this vector\n     * is a normal. For example, if this vector represents the normal to\n     * the palm, then this method returns the tilt or roll of the palm\n     * plane compared to the horizontal (x-z) plane.\n     *\n     * @return {number} The angle of this vector to the right or left of the y-axis.\n     *\n     */\n    roll() {\n        return Math.atan2(this.x, -this.y);\n    }\n\n    /**\n     * The zero vector: (0, 0, 0)\n     * @return {Vector3}\n     *\n     */\n    static zero() {\n        return new Vector3([\n            0,\n            0,\n            0\n        ]);\n    }\n\n    /**\n     * The x-axis unit vector: (1, 0, 0)\n     * @return {Vector3}\n     *\n     */\n    static xAxis() {\n        return new Vector3([\n            1,\n            0,\n            0\n        ]);\n    }\n\n    /**\n     * The y-axis unit vector: (0, 1, 0)\n     * @return {Vector3}\n     *\n     */\n    static yAxis() {\n        return new Vector3([\n            0,\n            1,\n            0\n        ]);\n    }\n\n    /**\n     * The z-axis unit vector: (0, 0, 1)\n     * @return {Vector3}\n     *\n     */\n    static zAxis() {\n        return new Vector3([\n            0,\n            0,\n            1\n        ]);\n    }\n\n    /**\n     * The unit vector pointing left along the negative x-axis: (-1, 0, 0)\n     * @return {Vector3}\n     *\n     */\n    static left() {\n        return new Vector3([-1,\n            0,\n            0\n        ]);\n    }\n\n    /**\n     * The unit vector pointing right along the positive x-axis: (1, 0, 0)\n     * @return {Vector3}\n     *\n     */\n    static right() {\n        return Vector3.xAxis();\n    }\n\n    /**\n     * The unit vector pointing down along the negative y-axis: (0, -1, 0)\n     * @return {Vector3}\n     *\n     */\n    static down() {\n        return new Vector3([\n            0, -1,\n            0\n        ]);\n    }\n\n    /**\n     * The unit vector pointing up along the positive x-axis: (0, 1, 0)\n     * @return {Vector3}\n     *\n     */\n    static up() {\n        return Vector3.yAxis();\n    }\n\n    /**\n     * The unit vector pointing forward along the negative z-axis: (0, 0, -1)\n     * @return {Vector3}\n     *\n     */\n    static forward() {\n        return new Vector3([\n            0,\n            0, -1\n        ]);\n    }\n\n    /**\n     * The unit vector pointing backward along the positive z-axis: (0, 0, 1)\n     * @return {Vector3}\n     *\n     */\n    static backward() {\n        return Vector3.zAxis();\n    }\n\n    /**\n     * An invalid Vector3 object.\n     *\n     * You can use this Vector3 instance in comparisons testing\n     * whether a given Vector3 instance is valid or invalid.\n     * @return {Vector3}\n     *\n     */\n    static invalid() {\n        return new Vector3({\n            invalid: true\n        });\n    }\n\n    /**\n     * Returns a string containing this vector in a human readable format: (x, y, z).\n     * @return {String}\n     *\n     */\n    toString() {\n        if (!this.valid) {\n            return '[Vector3 invalid]';\n        }\n        return `[Vector3 x:${this.x} y:${this.y} z:${this.z}]`;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Vector3.js","import {EventEmitter} from 'events';\nimport Frame from './../Frame.js';\n\nexport default class BaseConnection extends EventEmitter {\n    constructor({host = '127.0.0.1', port = 6450} = {}) {\n        super();\n\n        if (typeof host !== 'string') {\n            throw new Error('Host needs to be of type string');\n        }\n        if (port !== parseInt(port, 10)) {\n            throw new Error('Port needs to be of type integer');\n        }\n\n        this.host = host;\n        this.port = port;\n        this.connected = false;\n    }\n\n    getUrl() {\n        return `ws://${this.host}:${this.port}/`;\n    }\n\n    handleOpen() {\n        let returnValue = '';\n\n        if (!this.connected) {\n            this.send({\n                'command': 'requestDeviceInfo'\n            });\n            returnValue = 'connecting';\n        } else {\n            returnValue = 'connected';\n        }\n        return returnValue;\n    }\n\n    handleClose() {\n        let returnValue = 'disconnected';\n\n        if (this.connected) {\n            this.disconnect();\n            this.startReconnection();\n            returnValue = 'disconnecting';\n        }\n        return returnValue;\n    }\n\n    startReconnection() {\n        let returnValue = '';\n\n        if (!this.reconnectionTimer) {\n            this.reconnectionTimer = setInterval(() => {\n                this.reconnect();\n            }, 500);\n            returnValue = 'reconnecting';\n        } else {\n            returnValue = 'already reconnecting';\n        }\n        return returnValue;\n    }\n\n    stopReconnection() {\n        this.reconnectionTimer = clearInterval(this.reconnectionTimer);\n    }\n\n    disconnect(allowReconnect) {\n        if (!allowReconnect) {\n            this.stopReconnection();\n        }\n        if (!this.socket) {\n            return;\n        }\n        this.socket.close();\n        delete this.socket;\n        if (this.connected) {\n            this.connected = false;\n            this.emit('disconnect');\n        }\n    }\n\n    reconnect() {\n        let returnValue = '';\n\n        if (this.connected) {\n            this.stopReconnection();\n            returnValue = 'stopReconnection';\n        } else {\n            this.disconnect(true);\n            this.connect();\n            returnValue = 'connect';\n        }\n        return returnValue;\n    }\n\n    handleData(data) {\n        let message = {};\n\n        if (!data) {\n            throw new Error('No data received');\n        }\n\n        // TODO: Profile performance of this try/catch block\n        try {\n            message = JSON.parse(data);\n        } catch (exception) {\n            throw new Error('Invalid JSON');\n        }\n\n        // Wait for deviceInfo until connected\n        if (!this.connected && message.hasOwnProperty('frame')) {\n            const frame = message.frame;\n            if (frame.hasOwnProperty('deviceInfo')) {\n                const deviceInfo = frame.deviceInfo;\n                this.emit('deviceInfo', deviceInfo);\n                this.connected = true;\n                this.emit('connect');\n                return;\n            }\n        }\n\n        if (!this.connected) {\n            return;\n        }\n\n        if (message.hasOwnProperty('frame')) {\n            const frameObject = new Frame(message.frame);\n            this.emit(frameObject.type, frameObject);\n\n            // Emit pose if existing\n            if (frameObject.pose) {\n                this.emit('pose', frameObject.pose);\n            }\n\n            // Emit event if existing\n            if (frameObject.event) {\n                this.emit('event', frameObject.event);\n            }\n        }\n    }\n\n    connect() {\n        const inBrowser = typeof window !== 'undefined';\n\n        if (this.socket) {\n            return 'socket already created';\n        }\n\n        this.emit('ready');\n\n        if (inBrowser) {\n            this.socket = new WebSocket(this.getUrl());\n        } else {\n            const ConnectionType = require('ws');\n            this.socket = new ConnectionType(this.getUrl());\n        }\n\n        this.socket.onopen = () => {\n            this.handleOpen();\n        };\n        this.socket.onclose = (data) => {\n            this.handleClose(data.code, data.reason);\n        };\n        this.socket.onmessage = (message) => {\n            this.handleData(message.data);\n        };\n        this.socket.onerror = (data) => {\n            this.handleClose('connectError', data.data);\n        };\n\n        return true;\n    }\n\n    send(data) {\n        if (typeof data !== 'object' || typeof data === 'string') {\n            throw new Error('Parameter needs to be an object');\n        }\n        this.socket.send(JSON.stringify(data));\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/connection/BaseConnection.js","/*!\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\n\nvar fs = require('fs');\n\nfunction Options(defaults) {\n  var internalValues = {};\n  var values = this.value = {};\n  Object.keys(defaults).forEach(function(key) {\n    internalValues[key] = defaults[key];\n    Object.defineProperty(values, key, {\n      get: function() { return internalValues[key]; },\n      configurable: false,\n      enumerable: true\n    });\n  });\n  this.reset = function() {\n    Object.keys(defaults).forEach(function(key) {\n      internalValues[key] = defaults[key];\n    });\n    return this;\n  };\n  this.merge = function(options, required) {\n    options = options || {};\n    if (Object.prototype.toString.call(required) === '[object Array]') {\n      var missing = [];\n      for (var i = 0, l = required.length; i < l; ++i) {\n        var key = required[i];\n        if (!(key in options)) {\n          missing.push(key);\n        }\n      }\n      if (missing.length > 0) {\n        if (missing.length > 1) {\n          throw new Error('options ' +\n            missing.slice(0, missing.length - 1).join(', ') + ' and ' +\n            missing[missing.length - 1] + ' must be defined');\n        }\n        else throw new Error('option ' + missing[0] + ' must be defined');\n      }\n    }\n    Object.keys(options).forEach(function(key) {\n      if (key in internalValues) {\n        internalValues[key] = options[key];\n      }\n    });\n    return this;\n  };\n  this.copy = function(keys) {\n    var obj = {};\n    Object.keys(defaults).forEach(function(key) {\n      if (keys.indexOf(key) !== -1) {\n        obj[key] = values[key];\n      }\n    });\n    return obj;\n  };\n  this.read = function(filename, cb) {\n    if (typeof cb == 'function') {\n      var self = this;\n      fs.readFile(filename, function(error, data) {\n        if (error) return cb(error);\n        var conf = JSON.parse(data);\n        self.merge(conf);\n        cb();\n      });\n    }\n    else {\n      var conf = JSON.parse(fs.readFileSync(filename));\n      this.merge(conf);\n    }\n    return this;\n  };\n  this.isDefined = function(key) {\n    return typeof values[key] != 'undefined';\n  };\n  this.isDefinedAndNonNull = function(key) {\n    return typeof values[key] != 'undefined' && values[key] !== null;\n  };\n  Object.freeze(values);\n  Object.freeze(this);\n}\n\nmodule.exports = Options;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/options/lib/options.js\n// module id = 11\n// module chunks = 0","'use strict';\n\n/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\n\ntry {\n  module.exports = require('bufferutil');\n} catch (e) {\n  module.exports = require('./BufferUtil.fallback');\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ws/lib/BufferUtil.js\n// module id = 12\n// module chunks = 0","/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\n\nmodule.exports = {\n  isValidErrorCode: function(code) {\n    return (code >= 1000 && code <= 1011 && code != 1004 && code != 1005 && code != 1006) ||\n         (code >= 3000 && code <= 4999);\n  },\n  1000: 'normal',\n  1001: 'going away',\n  1002: 'protocol error',\n  1003: 'unsupported data',\n  1004: 'reserved',\n  1005: 'reserved for extensions',\n  1006: 'reserved for extensions',\n  1007: 'inconsistent or invalid data',\n  1008: 'policy violation',\n  1009: 'message too big',\n  1010: 'extension handshake missing',\n  1011: 'an unexpected condition prevented the request from being fulfilled',\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ws/lib/ErrorCodes.js\n// module id = 13\n// module chunks = 0","\nvar util = require('util');\n\n/**\n * Module exports.\n */\n\nexports.parse = parse;\nexports.format = format;\n\n/**\n * Parse extensions header value\n */\n\nfunction parse(value) {\n  value = value || '';\n\n  var extensions = {};\n\n  value.split(',').forEach(function(v) {\n    var params = v.split(';');\n    var token = params.shift().trim();\n    var paramsList = extensions[token] = extensions[token] || [];\n    var parsedParams = {};\n\n    params.forEach(function(param) {\n      var parts = param.trim().split('=');\n      var key = parts[0];\n      var value = parts[1];\n      if (typeof value === 'undefined') {\n        value = true;\n      } else {\n        // unquote value\n        if (value[0] === '\"') {\n          value = value.slice(1);\n        }\n        if (value[value.length - 1] === '\"') {\n          value = value.slice(0, value.length - 1);\n        }\n      }\n      (parsedParams[key] = parsedParams[key] || []).push(value);\n    });\n\n    paramsList.push(parsedParams);\n  });\n\n  return extensions;\n}\n\n/**\n * Format extensions header value\n */\n\nfunction format(value) {\n  return Object.keys(value).map(function(token) {\n    var paramsList = value[token];\n    if (!util.isArray(paramsList)) {\n      paramsList = [paramsList];\n    }\n    return paramsList.map(function(params) {\n      return [token].concat(Object.keys(params).map(function(k) {\n        var p = params[k];\n        if (!util.isArray(p)) p = [p];\n        return p.map(function(v) {\n          return v === true ? k : k + '=' + v;\n        }).join('; ');\n      })).join('; ');\n    }).join(', ');\n  }).join(', ');\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ws/lib/Extensions.js\n// module id = 14\n// module chunks = 0","/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\n\nvar util = require('util')\n  , Validation = require('./Validation').Validation\n  , ErrorCodes = require('./ErrorCodes')\n  , BufferPool = require('./BufferPool')\n  , bufferUtil = require('./BufferUtil').BufferUtil\n  , PerMessageDeflate = require('./PerMessageDeflate');\n\n/**\n * HyBi Receiver implementation\n */\n\nfunction Receiver (extensions,maxPayload) {\n  if (this instanceof Receiver === false) {\n    throw new TypeError(\"Classes can't be function-called\");\n  }\n  if(typeof extensions==='number'){\n    maxPayload=extensions;\n    extensions={};\n  }\n\n\n  // memory pool for fragmented messages\n  var fragmentedPoolPrevUsed = -1;\n  this.fragmentedBufferPool = new BufferPool(1024, function(db, length) {\n    return db.used + length;\n  }, function(db) {\n    return fragmentedPoolPrevUsed = fragmentedPoolPrevUsed >= 0 ?\n      Math.ceil((fragmentedPoolPrevUsed + db.used) / 2) :\n      db.used;\n  });\n\n  // memory pool for unfragmented messages\n  var unfragmentedPoolPrevUsed = -1;\n  this.unfragmentedBufferPool = new BufferPool(1024, function(db, length) {\n    return db.used + length;\n  }, function(db) {\n    return unfragmentedPoolPrevUsed = unfragmentedPoolPrevUsed >= 0 ?\n      Math.ceil((unfragmentedPoolPrevUsed + db.used) / 2) :\n      db.used;\n  });\n  this.extensions = extensions || {};\n  this.maxPayload = maxPayload || 0;\n  this.currentPayloadLength = 0;\n  this.state = {\n    activeFragmentedOperation: null,\n    lastFragment: false,\n    masked: false,\n    opcode: 0,\n    fragmentedOperation: false\n  };\n  this.overflow = [];\n  this.headerBuffer = new Buffer(10);\n  this.expectOffset = 0;\n  this.expectBuffer = null;\n  this.expectHandler = null;\n  this.currentMessage = [];\n  this.currentMessageLength = 0;\n  this.messageHandlers = [];\n  this.expectHeader(2, this.processPacket);\n  this.dead = false;\n  this.processing = false;\n\n  this.onerror = function() {};\n  this.ontext = function() {};\n  this.onbinary = function() {};\n  this.onclose = function() {};\n  this.onping = function() {};\n  this.onpong = function() {};\n}\n\nmodule.exports = Receiver;\n\n/**\n * Add new data to the parser.\n *\n * @api public\n */\n\nReceiver.prototype.add = function(data) {\n  if (this.dead) return;\n  var dataLength = data.length;\n  if (dataLength == 0) return;\n  if (this.expectBuffer == null) {\n    this.overflow.push(data);\n    return;\n  }\n  var toRead = Math.min(dataLength, this.expectBuffer.length - this.expectOffset);\n  fastCopy(toRead, data, this.expectBuffer, this.expectOffset);\n  this.expectOffset += toRead;\n  if (toRead < dataLength) {\n    this.overflow.push(data.slice(toRead));\n  }\n  while (this.expectBuffer && this.expectOffset == this.expectBuffer.length) {\n    var bufferForHandler = this.expectBuffer;\n    this.expectBuffer = null;\n    this.expectOffset = 0;\n    this.expectHandler.call(this, bufferForHandler);\n  }\n};\n\n/**\n * Releases all resources used by the receiver.\n *\n * @api public\n */\n\nReceiver.prototype.cleanup = function() {\n  this.dead = true;\n  this.overflow = null;\n  this.headerBuffer = null;\n  this.expectBuffer = null;\n  this.expectHandler = null;\n  this.unfragmentedBufferPool = null;\n  this.fragmentedBufferPool = null;\n  this.state = null;\n  this.currentMessage = null;\n  this.onerror = null;\n  this.ontext = null;\n  this.onbinary = null;\n  this.onclose = null;\n  this.onping = null;\n  this.onpong = null;\n};\n\n/**\n * Waits for a certain amount of header bytes to be available, then fires a callback.\n *\n * @api private\n */\n\nReceiver.prototype.expectHeader = function(length, handler) {\n  if (length == 0) {\n    handler(null);\n    return;\n  }\n  this.expectBuffer = this.headerBuffer.slice(this.expectOffset, this.expectOffset + length);\n  this.expectHandler = handler;\n  var toRead = length;\n  while (toRead > 0 && this.overflow.length > 0) {\n    var fromOverflow = this.overflow.pop();\n    if (toRead < fromOverflow.length) this.overflow.push(fromOverflow.slice(toRead));\n    var read = Math.min(fromOverflow.length, toRead);\n    fastCopy(read, fromOverflow, this.expectBuffer, this.expectOffset);\n    this.expectOffset += read;\n    toRead -= read;\n  }\n};\n\n/**\n * Waits for a certain amount of data bytes to be available, then fires a callback.\n *\n * @api private\n */\n\nReceiver.prototype.expectData = function(length, handler) {\n  if (length == 0) {\n    handler(null);\n    return;\n  }\n  this.expectBuffer = this.allocateFromPool(length, this.state.fragmentedOperation);\n  this.expectHandler = handler;\n  var toRead = length;\n  while (toRead > 0 && this.overflow.length > 0) {\n    var fromOverflow = this.overflow.pop();\n    if (toRead < fromOverflow.length) this.overflow.push(fromOverflow.slice(toRead));\n    var read = Math.min(fromOverflow.length, toRead);\n    fastCopy(read, fromOverflow, this.expectBuffer, this.expectOffset);\n    this.expectOffset += read;\n    toRead -= read;\n  }\n};\n\n/**\n * Allocates memory from the buffer pool.\n *\n * @api private\n */\n\nReceiver.prototype.allocateFromPool = function(length, isFragmented) {\n  return (isFragmented ? this.fragmentedBufferPool : this.unfragmentedBufferPool).get(length);\n};\n\n/**\n * Start processing a new packet.\n *\n * @api private\n */\n\nReceiver.prototype.processPacket = function (data) {\n  if (this.extensions[PerMessageDeflate.extensionName]) {\n    if ((data[0] & 0x30) != 0) {\n      this.error('reserved fields (2, 3) must be empty', 1002);\n      return;\n    }\n  } else {\n    if ((data[0] & 0x70) != 0) {\n      this.error('reserved fields must be empty', 1002);\n      return;\n    }\n  }\n  this.state.lastFragment = (data[0] & 0x80) == 0x80;\n  this.state.masked = (data[1] & 0x80) == 0x80;\n  var compressed = (data[0] & 0x40) == 0x40;\n  var opcode = data[0] & 0xf;\n  if (opcode === 0) {\n    if (compressed) {\n      this.error('continuation frame cannot have the Per-message Compressed bits', 1002);\n      return;\n    }\n    // continuation frame\n    this.state.fragmentedOperation = true;\n    this.state.opcode = this.state.activeFragmentedOperation;\n    if (!(this.state.opcode == 1 || this.state.opcode == 2)) {\n      this.error('continuation frame cannot follow current opcode', 1002);\n      return;\n    }\n  }\n  else {\n    if (opcode < 3 && this.state.activeFragmentedOperation != null) {\n      this.error('data frames after the initial data frame must have opcode 0', 1002);\n      return;\n    }\n    if (opcode >= 8 && compressed) {\n      this.error('control frames cannot have the Per-message Compressed bits', 1002);\n      return;\n    }\n    this.state.compressed = compressed;\n    this.state.opcode = opcode;\n    if (this.state.lastFragment === false) {\n      this.state.fragmentedOperation = true;\n      this.state.activeFragmentedOperation = opcode;\n    }\n    else this.state.fragmentedOperation = false;\n  }\n  var handler = opcodes[this.state.opcode];\n  if (typeof handler == 'undefined') this.error('no handler for opcode ' + this.state.opcode, 1002);\n  else {\n    handler.start.call(this, data);\n  }\n};\n\n/**\n * Endprocessing a packet.\n *\n * @api private\n */\n\nReceiver.prototype.endPacket = function() {\n  if (this.dead) return;\n  if (!this.state.fragmentedOperation) this.unfragmentedBufferPool.reset(true);\n  else if (this.state.lastFragment) this.fragmentedBufferPool.reset(true);\n  this.expectOffset = 0;\n  this.expectBuffer = null;\n  this.expectHandler = null;\n  if (this.state.lastFragment && this.state.opcode === this.state.activeFragmentedOperation) {\n    // end current fragmented operation\n    this.state.activeFragmentedOperation = null;\n  }\n  this.currentPayloadLength = 0;\n  this.state.lastFragment = false;\n  this.state.opcode = this.state.activeFragmentedOperation != null ? this.state.activeFragmentedOperation : 0;\n  this.state.masked = false;\n  this.expectHeader(2, this.processPacket);\n};\n\n/**\n * Reset the parser state.\n *\n * @api private\n */\n\nReceiver.prototype.reset = function() {\n  if (this.dead) return;\n  this.state = {\n    activeFragmentedOperation: null,\n    lastFragment: false,\n    masked: false,\n    opcode: 0,\n    fragmentedOperation: false\n  };\n  this.fragmentedBufferPool.reset(true);\n  this.unfragmentedBufferPool.reset(true);\n  this.expectOffset = 0;\n  this.expectBuffer = null;\n  this.expectHandler = null;\n  this.overflow = [];\n  this.currentMessage = [];\n  this.currentMessageLength = 0;\n  this.messageHandlers = [];\n  this.currentPayloadLength = 0;\n};\n\n/**\n * Unmask received data.\n *\n * @api private\n */\n\nReceiver.prototype.unmask = function (mask, buf, binary) {\n  if (mask != null && buf != null) bufferUtil.unmask(buf, mask);\n  if (binary) return buf;\n  return buf != null ? buf.toString('utf8') : '';\n};\n\n/**\n * Handles an error\n *\n * @api private\n */\n\nReceiver.prototype.error = function (reason, protocolErrorCode) {\n  if (this.dead) return;\n  this.reset();\n  if(typeof reason == 'string'){\n    this.onerror(new Error(reason), protocolErrorCode);\n  }\n  else if(reason.constructor == Error){\n    this.onerror(reason, protocolErrorCode);\n  }\n  else{\n    this.onerror(new Error(\"An error occured\"),protocolErrorCode);\n  }\n  return this;\n};\n\n/**\n * Execute message handler buffers\n *\n * @api private\n */\n\nReceiver.prototype.flush = function() {\n  if (this.processing || this.dead) return;\n\n  var handler = this.messageHandlers.shift();\n  if (!handler) return;\n\n  this.processing = true;\n  var self = this;\n\n  handler(function() {\n    self.processing = false;\n    self.flush();\n  });\n};\n\n/**\n * Apply extensions to message\n *\n * @api private\n */\n\nReceiver.prototype.applyExtensions = function(messageBuffer, fin, compressed, callback) {\n  var self = this;\n  if (compressed) {\n    this.extensions[PerMessageDeflate.extensionName].decompress(messageBuffer, fin, function(err, buffer) {\n      if (self.dead) return;\n      if (err) {\n        callback(new Error('invalid compressed data'));\n        return;\n      }\n      callback(null, buffer);\n    });\n  } else {\n    callback(null, messageBuffer);\n  }\n};\n\n/**\n* Checks payload size, disconnects socket when it exceeds maxPayload\n*\n* @api private\n*/\nReceiver.prototype.maxPayloadExceeded = function(length) {\n  if (this.maxPayload=== undefined || this.maxPayload === null || this.maxPayload < 1) {\n    return false;\n  }\n  var fullLength = this.currentPayloadLength + length;\n  if (fullLength < this.maxPayload) {\n    this.currentPayloadLength = fullLength;\n    return false;\n  }\n  this.error('payload cannot exceed ' + this.maxPayload + ' bytes', 1009);\n  this.messageBuffer=[];\n  this.cleanup();\n\n  return true;\n};\n\n/**\n * Buffer utilities\n */\n\nfunction readUInt16BE(start) {\n  return (this[start]<<8) +\n         this[start+1];\n}\n\nfunction readUInt32BE(start) {\n  return (this[start]<<24) +\n         (this[start+1]<<16) +\n         (this[start+2]<<8) +\n         this[start+3];\n}\n\nfunction fastCopy(length, srcBuffer, dstBuffer, dstOffset) {\n  switch (length) {\n    default: srcBuffer.copy(dstBuffer, dstOffset, 0, length); break;\n    case 16: dstBuffer[dstOffset+15] = srcBuffer[15];\n    case 15: dstBuffer[dstOffset+14] = srcBuffer[14];\n    case 14: dstBuffer[dstOffset+13] = srcBuffer[13];\n    case 13: dstBuffer[dstOffset+12] = srcBuffer[12];\n    case 12: dstBuffer[dstOffset+11] = srcBuffer[11];\n    case 11: dstBuffer[dstOffset+10] = srcBuffer[10];\n    case 10: dstBuffer[dstOffset+9] = srcBuffer[9];\n    case 9: dstBuffer[dstOffset+8] = srcBuffer[8];\n    case 8: dstBuffer[dstOffset+7] = srcBuffer[7];\n    case 7: dstBuffer[dstOffset+6] = srcBuffer[6];\n    case 6: dstBuffer[dstOffset+5] = srcBuffer[5];\n    case 5: dstBuffer[dstOffset+4] = srcBuffer[4];\n    case 4: dstBuffer[dstOffset+3] = srcBuffer[3];\n    case 3: dstBuffer[dstOffset+2] = srcBuffer[2];\n    case 2: dstBuffer[dstOffset+1] = srcBuffer[1];\n    case 1: dstBuffer[dstOffset] = srcBuffer[0];\n  }\n}\n\nfunction clone(obj) {\n  var cloned = {};\n  for (var k in obj) {\n    if (obj.hasOwnProperty(k)) {\n      cloned[k] = obj[k];\n    }\n  }\n  return cloned;\n}\n\n/**\n * Opcode handlers\n */\n\nvar opcodes = {\n  // text\n  '1': {\n    start: function(data) {\n      var self = this;\n      // decode length\n      var firstLength = data[1] & 0x7f;\n      if (firstLength < 126) {\n        if (self.maxPayloadExceeded(firstLength)){\n          self.error('Maximumpayload exceeded in compressed text message. Aborting...', 1009);\n          return;\n        }\n        opcodes['1'].getData.call(self, firstLength);\n      }\n      else if (firstLength == 126) {\n        self.expectHeader(2, function(data) {\n          var length = readUInt16BE.call(data, 0);\n          if (self.maxPayloadExceeded(length)){\n            self.error('Maximumpayload exceeded in compressed text message. Aborting...', 1009);\n            return;\n          }\n          opcodes['1'].getData.call(self, length);\n        });\n      }\n      else if (firstLength == 127) {\n        self.expectHeader(8, function(data) {\n          if (readUInt32BE.call(data, 0) != 0) {\n            self.error('packets with length spanning more than 32 bit is currently not supported', 1008);\n            return;\n          }\n          var length = readUInt32BE.call(data, 4);\n          if (self.maxPayloadExceeded(length)){\n            self.error('Maximumpayload exceeded in compressed text message. Aborting...', 1009);\n            return;\n          }\n          opcodes['1'].getData.call(self, readUInt32BE.call(data, 4));\n        });\n      }\n    },\n    getData: function(length) {\n      var self = this;\n      if (self.state.masked) {\n        self.expectHeader(4, function(data) {\n          var mask = data;\n          self.expectData(length, function(data) {\n            opcodes['1'].finish.call(self, mask, data);\n          });\n        });\n      }\n      else {\n        self.expectData(length, function(data) {\n          opcodes['1'].finish.call(self, null, data);\n        });\n      }\n    },\n    finish: function(mask, data) {\n      var self = this;\n      var packet = this.unmask(mask, data, true) || new Buffer(0);\n      var state = clone(this.state);\n      this.messageHandlers.push(function(callback) {\n        self.applyExtensions(packet, state.lastFragment, state.compressed, function(err, buffer) {\n          if (err) {\n            if(err.type===1009){\n                return self.error('Maximumpayload exceeded in compressed text message. Aborting...', 1009);\n            }\n            return self.error(err.message, 1007);\n          }\n          if (buffer != null) {\n            if( self.maxPayload==0 || (self.maxPayload > 0 && (self.currentMessageLength + buffer.length) < self.maxPayload) ){\n              self.currentMessage.push(buffer);\n            }\n            else{\n                self.currentMessage=null;\n                self.currentMessage = [];\n                self.currentMessageLength = 0;\n                self.error(new Error('Maximum payload exceeded. maxPayload: '+self.maxPayload), 1009);\n                return;\n            }\n            self.currentMessageLength += buffer.length;\n          }\n          if (state.lastFragment) {\n            var messageBuffer = Buffer.concat(self.currentMessage);\n            self.currentMessage = [];\n            self.currentMessageLength = 0;\n            if (!Validation.isValidUTF8(messageBuffer)) {\n              self.error('invalid utf8 sequence', 1007);\n              return;\n            }\n            self.ontext(messageBuffer.toString('utf8'), {masked: state.masked, buffer: messageBuffer});\n          }\n          callback();\n        });\n      });\n      this.flush();\n      this.endPacket();\n    }\n  },\n  // binary\n  '2': {\n    start: function(data) {\n      var self = this;\n      // decode length\n      var firstLength = data[1] & 0x7f;\n      if (firstLength < 126) {\n          if (self.maxPayloadExceeded(firstLength)){\n            self.error('Max payload exceeded in compressed text message. Aborting...', 1009);\n            return;\n          }\n        opcodes['2'].getData.call(self, firstLength);\n      }\n      else if (firstLength == 126) {\n        self.expectHeader(2, function(data) {\n          var length = readUInt16BE.call(data, 0);\n          if (self.maxPayloadExceeded(length)){\n            self.error('Max payload exceeded in compressed text message. Aborting...', 1009);\n            return;\n          }\n          opcodes['2'].getData.call(self, length);\n        });\n      }\n      else if (firstLength == 127) {\n        self.expectHeader(8, function(data) {\n          if (readUInt32BE.call(data, 0) != 0) {\n            self.error('packets with length spanning more than 32 bit is currently not supported', 1008);\n            return;\n          }\n          var length = readUInt32BE.call(data, 4, true);\n          if (self.maxPayloadExceeded(length)){\n            self.error('Max payload exceeded in compressed text message. Aborting...', 1009);\n            return;\n          }\n          opcodes['2'].getData.call(self, length);\n        });\n      }\n    },\n    getData: function(length) {\n      var self = this;\n      if (self.state.masked) {\n        self.expectHeader(4, function(data) {\n          var mask = data;\n          self.expectData(length, function(data) {\n            opcodes['2'].finish.call(self, mask, data);\n          });\n        });\n      }\n      else {\n        self.expectData(length, function(data) {\n          opcodes['2'].finish.call(self, null, data);\n        });\n      }\n    },\n    finish: function(mask, data) {\n      var self = this;\n      var packet = this.unmask(mask, data, true) || new Buffer(0);\n      var state = clone(this.state);\n      this.messageHandlers.push(function(callback) {\n        self.applyExtensions(packet, state.lastFragment, state.compressed, function(err, buffer) {\n          if (err) {\n            if(err.type===1009){\n                return self.error('Max payload exceeded in compressed binary message. Aborting...', 1009);\n            }\n            return self.error(err.message, 1007);\n          }\n          if (buffer != null) {\n            if( self.maxPayload==0 || (self.maxPayload > 0 && (self.currentMessageLength + buffer.length) < self.maxPayload) ){\n              self.currentMessage.push(buffer);\n            }\n            else{\n                self.currentMessage=null;\n                self.currentMessage = [];\n                self.currentMessageLength = 0;\n                self.error(new Error('Maximum payload exceeded'), 1009);\n                return;\n            }\n            self.currentMessageLength += buffer.length;\n          }\n          if (state.lastFragment) {\n            var messageBuffer = Buffer.concat(self.currentMessage);\n            self.currentMessage = [];\n            self.currentMessageLength = 0;\n            self.onbinary(messageBuffer, {masked: state.masked, buffer: messageBuffer});\n          }\n          callback();\n        });\n      });\n      this.flush();\n      this.endPacket();\n    }\n  },\n  // close\n  '8': {\n    start: function(data) {\n      var self = this;\n      if (self.state.lastFragment == false) {\n        self.error('fragmented close is not supported', 1002);\n        return;\n      }\n\n      // decode length\n      var firstLength = data[1] & 0x7f;\n      if (firstLength < 126) {\n        opcodes['8'].getData.call(self, firstLength);\n      }\n      else {\n        self.error('control frames cannot have more than 125 bytes of data', 1002);\n      }\n    },\n    getData: function(length) {\n      var self = this;\n      if (self.state.masked) {\n        self.expectHeader(4, function(data) {\n          var mask = data;\n          self.expectData(length, function(data) {\n            opcodes['8'].finish.call(self, mask, data);\n          });\n        });\n      }\n      else {\n        self.expectData(length, function(data) {\n          opcodes['8'].finish.call(self, null, data);\n        });\n      }\n    },\n    finish: function(mask, data) {\n      var self = this;\n      data = self.unmask(mask, data, true);\n\n      var state = clone(this.state);\n      this.messageHandlers.push(function() {\n        if (data && data.length == 1) {\n          self.error('close packets with data must be at least two bytes long', 1002);\n          return;\n        }\n        var code = data && data.length > 1 ? readUInt16BE.call(data, 0) : 1000;\n        if (!ErrorCodes.isValidErrorCode(code)) {\n          self.error('invalid error code', 1002);\n          return;\n        }\n        var message = '';\n        if (data && data.length > 2) {\n          var messageBuffer = data.slice(2);\n          if (!Validation.isValidUTF8(messageBuffer)) {\n            self.error('invalid utf8 sequence', 1007);\n            return;\n          }\n          message = messageBuffer.toString('utf8');\n        }\n        self.onclose(code, message, {masked: state.masked});\n        self.reset();\n      });\n      this.flush();\n    },\n  },\n  // ping\n  '9': {\n    start: function(data) {\n      var self = this;\n      if (self.state.lastFragment == false) {\n        self.error('fragmented ping is not supported', 1002);\n        return;\n      }\n\n      // decode length\n      var firstLength = data[1] & 0x7f;\n      if (firstLength < 126) {\n        opcodes['9'].getData.call(self, firstLength);\n      }\n      else {\n        self.error('control frames cannot have more than 125 bytes of data', 1002);\n      }\n    },\n    getData: function(length) {\n      var self = this;\n      if (self.state.masked) {\n        self.expectHeader(4, function(data) {\n          var mask = data;\n          self.expectData(length, function(data) {\n            opcodes['9'].finish.call(self, mask, data);\n          });\n        });\n      }\n      else {\n        self.expectData(length, function(data) {\n          opcodes['9'].finish.call(self, null, data);\n        });\n      }\n    },\n    finish: function(mask, data) {\n      var self = this;\n      data = this.unmask(mask, data, true);\n      var state = clone(this.state);\n      this.messageHandlers.push(function(callback) {\n        self.onping(data, {masked: state.masked, binary: true});\n        callback();\n      });\n      this.flush();\n      this.endPacket();\n    }\n  },\n  // pong\n  '10': {\n    start: function(data) {\n      var self = this;\n      if (self.state.lastFragment == false) {\n        self.error('fragmented pong is not supported', 1002);\n        return;\n      }\n\n      // decode length\n      var firstLength = data[1] & 0x7f;\n      if (firstLength < 126) {\n        opcodes['10'].getData.call(self, firstLength);\n      }\n      else {\n        self.error('control frames cannot have more than 125 bytes of data', 1002);\n      }\n    },\n    getData: function(length) {\n      var self = this;\n      if (this.state.masked) {\n        this.expectHeader(4, function(data) {\n          var mask = data;\n          self.expectData(length, function(data) {\n            opcodes['10'].finish.call(self, mask, data);\n          });\n        });\n      }\n      else {\n        this.expectData(length, function(data) {\n          opcodes['10'].finish.call(self, null, data);\n        });\n      }\n    },\n    finish: function(mask, data) {\n      var self = this;\n      data = self.unmask(mask, data, true);\n      var state = clone(this.state);\n      this.messageHandlers.push(function(callback) {\n        self.onpong(data, {masked: state.masked, binary: true});\n        callback();\n      });\n      this.flush();\n      this.endPacket();\n    }\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ws/lib/Receiver.js\n// module id = 15\n// module chunks = 0","/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\n\nvar events = require('events')\n  , util = require('util')\n  , EventEmitter = events.EventEmitter\n  , ErrorCodes = require('./ErrorCodes')\n  , bufferUtil = require('./BufferUtil').BufferUtil\n  , PerMessageDeflate = require('./PerMessageDeflate');\n\n/**\n * HyBi Sender implementation\n */\n\nfunction Sender(socket, extensions) {\n  if (this instanceof Sender === false) {\n    throw new TypeError(\"Classes can't be function-called\");\n  }\n\n  events.EventEmitter.call(this);\n\n  this._socket = socket;\n  this.extensions = extensions || {};\n  this.firstFragment = true;\n  this.compress = false;\n  this.messageHandlers = [];\n  this.processing = false;\n}\n\n/**\n * Inherits from EventEmitter.\n */\n\nutil.inherits(Sender, events.EventEmitter);\n\n/**\n * Sends a close instruction to the remote party.\n *\n * @api public\n */\n\nSender.prototype.close = function(code, data, mask, cb) {\n  if (typeof code !== 'undefined') {\n    if (typeof code !== 'number' ||\n      !ErrorCodes.isValidErrorCode(code)) throw new Error('first argument must be a valid error code number');\n  }\n  code = code || 1000;\n  var dataBuffer = new Buffer(2 + (data ? Buffer.byteLength(data) : 0));\n  writeUInt16BE.call(dataBuffer, code, 0);\n  if (dataBuffer.length > 2) dataBuffer.write(data, 2);\n\n  var self = this;\n  this.messageHandlers.push(function(callback) {\n    self.frameAndSend(0x8, dataBuffer, true, mask);\n    callback();\n    if (typeof cb == 'function') cb();\n  });\n  this.flush();\n};\n\n/**\n * Sends a ping message to the remote party.\n *\n * @api public\n */\n\nSender.prototype.ping = function(data, options) {\n  var mask = options && options.mask;\n  var self = this;\n  this.messageHandlers.push(function(callback) {\n    self.frameAndSend(0x9, data || '', true, mask);\n    callback();\n  });\n  this.flush();\n};\n\n/**\n * Sends a pong message to the remote party.\n *\n * @api public\n */\n\nSender.prototype.pong = function(data, options) {\n  var mask = options && options.mask;\n  var self = this;\n  this.messageHandlers.push(function(callback) {\n    self.frameAndSend(0xa, data || '', true, mask);\n    callback();\n  });\n  this.flush();\n};\n\n/**\n * Sends text or binary data to the remote party.\n *\n * @api public\n */\n\nSender.prototype.send = function(data, options, cb) {\n  var finalFragment = options && options.fin === false ? false : true;\n  var mask = options && options.mask;\n  var compress = options && options.compress;\n  var opcode = options && options.binary ? 2 : 1;\n  if (this.firstFragment === false) {\n    opcode = 0;\n    compress = false;\n  } else {\n    this.firstFragment = false;\n    this.compress = compress;\n  }\n  if (finalFragment) this.firstFragment = true\n\n  var compressFragment = this.compress;\n\n  var self = this;\n  this.messageHandlers.push(function(callback) {\n    self.applyExtensions(data, finalFragment, compressFragment, function(err, data) {\n      if (err) {\n        if (typeof cb == 'function') cb(err);\n        else self.emit('error', err);\n        return;\n      }\n      self.frameAndSend(opcode, data, finalFragment, mask, compress, cb);\n      callback();\n    });\n  });\n  this.flush();\n};\n\n/**\n * Frames and sends a piece of data according to the HyBi WebSocket protocol.\n *\n * @api private\n */\n\nSender.prototype.frameAndSend = function(opcode, data, finalFragment, maskData, compressed, cb) {\n  var canModifyData = false;\n\n  if (!data) {\n    try {\n      this._socket.write(new Buffer([opcode | (finalFragment ? 0x80 : 0), 0 | (maskData ? 0x80 : 0)].concat(maskData ? [0, 0, 0, 0] : [])), 'binary', cb);\n    }\n    catch (e) {\n      if (typeof cb == 'function') cb(e);\n      else this.emit('error', e);\n    }\n    return;\n  }\n\n  if (!Buffer.isBuffer(data)) {\n    canModifyData = true;\n    if (data && (typeof data.byteLength !== 'undefined' || typeof data.buffer !== 'undefined')) {\n      data = getArrayBuffer(data);\n    } else {\n      //\n      // If people want to send a number, this would allocate the number in\n      // bytes as memory size instead of storing the number as buffer value. So\n      // we need to transform it to string in order to prevent possible\n      // vulnerabilities / memory attacks.\n      //\n      if (typeof data === 'number') data = data.toString();\n\n      data = new Buffer(data);\n    }\n  }\n\n  var dataLength = data.length\n    , dataOffset = maskData ? 6 : 2\n    , secondByte = dataLength;\n\n  if (dataLength >= 65536) {\n    dataOffset += 8;\n    secondByte = 127;\n  }\n  else if (dataLength > 125) {\n    dataOffset += 2;\n    secondByte = 126;\n  }\n\n  var mergeBuffers = dataLength < 32768 || (maskData && !canModifyData);\n  var totalLength = mergeBuffers ? dataLength + dataOffset : dataOffset;\n  var outputBuffer = new Buffer(totalLength);\n  outputBuffer[0] = finalFragment ? opcode | 0x80 : opcode;\n  if (compressed) outputBuffer[0] |= 0x40;\n\n  switch (secondByte) {\n    case 126:\n      writeUInt16BE.call(outputBuffer, dataLength, 2);\n      break;\n    case 127:\n      writeUInt32BE.call(outputBuffer, 0, 2);\n      writeUInt32BE.call(outputBuffer, dataLength, 6);\n  }\n\n  if (maskData) {\n    outputBuffer[1] = secondByte | 0x80;\n    var mask = getRandomMask();\n    outputBuffer[dataOffset - 4] = mask[0];\n    outputBuffer[dataOffset - 3] = mask[1];\n    outputBuffer[dataOffset - 2] = mask[2];\n    outputBuffer[dataOffset - 1] = mask[3];\n    if (mergeBuffers) {\n      bufferUtil.mask(data, mask, outputBuffer, dataOffset, dataLength);\n      try {\n        this._socket.write(outputBuffer, 'binary', cb);\n      }\n      catch (e) {\n        if (typeof cb == 'function') cb(e);\n        else this.emit('error', e);\n      }\n    }\n    else {\n      bufferUtil.mask(data, mask, data, 0, dataLength);\n      try {\n        this._socket.write(outputBuffer, 'binary');\n        this._socket.write(data, 'binary', cb);\n      }\n      catch (e) {\n        if (typeof cb == 'function') cb(e);\n        else this.emit('error', e);\n      }\n    }\n  }\n  else {\n    outputBuffer[1] = secondByte;\n    if (mergeBuffers) {\n      data.copy(outputBuffer, dataOffset);\n      try {\n        this._socket.write(outputBuffer, 'binary', cb);\n      }\n      catch (e) {\n        if (typeof cb == 'function') cb(e);\n        else this.emit('error', e);\n      }\n    }\n    else {\n      try {\n        this._socket.write(outputBuffer, 'binary');\n        this._socket.write(data, 'binary', cb);\n      }\n      catch (e) {\n        if (typeof cb == 'function') cb(e);\n        else this.emit('error', e);\n      }\n    }\n  }\n};\n\n/**\n * Execute message handler buffers\n *\n * @api private\n */\n\nSender.prototype.flush = function() {\n  if (this.processing) return;\n\n  var handler = this.messageHandlers.shift();\n  if (!handler) return;\n\n  this.processing = true;\n\n  var self = this;\n\n  handler(function() {\n    self.processing = false;\n    self.flush();\n  });\n};\n\n/**\n * Apply extensions to message\n *\n * @api private\n */\n\nSender.prototype.applyExtensions = function(data, fin, compress, callback) {\n  if (compress && data) {\n    if ((data.buffer || data) instanceof ArrayBuffer) {\n      data = getArrayBuffer(data);\n    }\n    this.extensions[PerMessageDeflate.extensionName].compress(data, fin, callback);\n  } else {\n    callback(null, data);\n  }\n};\n\nmodule.exports = Sender;\n\nfunction writeUInt16BE(value, offset) {\n  this[offset] = (value & 0xff00)>>8;\n  this[offset+1] = value & 0xff;\n}\n\nfunction writeUInt32BE(value, offset) {\n  this[offset] = (value & 0xff000000)>>24;\n  this[offset+1] = (value & 0xff0000)>>16;\n  this[offset+2] = (value & 0xff00)>>8;\n  this[offset+3] = value & 0xff;\n}\n\nfunction getArrayBuffer(data) {\n  // data is either an ArrayBuffer or ArrayBufferView.\n  var array = new Uint8Array(data.buffer || data)\n    , l = data.byteLength || data.length\n    , o = data.byteOffset || 0\n    , buffer = new Buffer(l);\n  for (var i = 0; i < l; ++i) {\n    buffer[i] = array[o+i];\n  }\n  return buffer;\n}\n\nfunction getRandomMask() {\n  return new Buffer([\n    ~~(Math.random() * 255),\n    ~~(Math.random() * 255),\n    ~~(Math.random() * 255),\n    ~~(Math.random() * 255)\n  ]);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ws/lib/Sender.js\n// module id = 16\n// module chunks = 0","'use strict';\n\n/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\n\nvar url = require('url')\n  , util = require('util')\n  , http = require('http')\n  , https = require('https')\n  , crypto = require('crypto')\n  , stream = require('stream')\n  , Ultron = require('ultron')\n  , Options = require('options')\n  , Sender = require('./Sender')\n  , Receiver = require('./Receiver')\n  , SenderHixie = require('./Sender.hixie')\n  , ReceiverHixie = require('./Receiver.hixie')\n  , Extensions = require('./Extensions')\n  , PerMessageDeflate = require('./PerMessageDeflate')\n  , EventEmitter = require('events').EventEmitter;\n\n/**\n * Constants\n */\n\n// Default protocol version\n\nvar protocolVersion = 13;\n\n// Close timeout\n\nvar closeTimeout = 30 * 1000; // Allow 30 seconds to terminate the connection cleanly\n\n/**\n * WebSocket implementation\n *\n * @constructor\n * @param {String} address Connection address.\n * @param {String|Array} protocols WebSocket protocols.\n * @param {Object} options Additional connection options.\n * @api public\n */\nfunction WebSocket(address, protocols, options) {\n  if (this instanceof WebSocket === false) {\n    return new WebSocket(address, protocols, options);\n  }\n\n  EventEmitter.call(this);\n\n  if (protocols && !Array.isArray(protocols) && 'object' === typeof protocols) {\n    // accept the \"options\" Object as the 2nd argument\n    options = protocols;\n    protocols = null;\n  }\n\n  if ('string' === typeof protocols) {\n    protocols = [ protocols ];\n  }\n\n  if (!Array.isArray(protocols)) {\n    protocols = [];\n  }\n\n  this._socket = null;\n  this._ultron = null;\n  this._closeReceived = false;\n  this.bytesReceived = 0;\n  this.readyState = null;\n  this.supports = {};\n  this.extensions = {};\n  this._binaryType = 'nodebuffer';\n\n  if (Array.isArray(address)) {\n    initAsServerClient.apply(this, address.concat(options));\n  } else {\n    initAsClient.apply(this, [address, protocols, options]);\n  }\n}\n\n/**\n * Inherits from EventEmitter.\n */\nutil.inherits(WebSocket, EventEmitter);\n\n/**\n * Ready States\n */\n[\"CONNECTING\", \"OPEN\", \"CLOSING\", \"CLOSED\"].forEach(function each(state, index) {\n    WebSocket.prototype[state] = WebSocket[state] = index;\n});\n\n/**\n * Gracefully closes the connection, after sending a description message to the server\n *\n * @param {Object} data to be sent to the server\n * @api public\n */\nWebSocket.prototype.close = function close(code, data) {\n  if (this.readyState === WebSocket.CLOSED) return;\n\n  if (this.readyState === WebSocket.CONNECTING) {\n    this.readyState = WebSocket.CLOSED;\n    return;\n  }\n\n  if (this.readyState === WebSocket.CLOSING) {\n    if (this._closeReceived && this._isServer) {\n      this.terminate();\n    }\n    return;\n  }\n\n  var self = this;\n  try {\n    this.readyState = WebSocket.CLOSING;\n    this._closeCode = code;\n    this._closeMessage = data;\n    var mask = !this._isServer;\n    this._sender.close(code, data, mask, function(err) {\n      if (err) self.emit('error', err);\n\n      if (self._closeReceived && self._isServer) {\n        self.terminate();\n      } else {\n        // ensure that the connection is cleaned up even when no response of closing handshake.\n        clearTimeout(self._closeTimer);\n        self._closeTimer = setTimeout(cleanupWebsocketResources.bind(self, true), closeTimeout);\n      }\n    });\n  } catch (e) {\n    this.emit('error', e);\n  }\n};\n\n/**\n * Pause the client stream\n *\n * @api public\n */\nWebSocket.prototype.pause = function pauser() {\n  if (this.readyState !== WebSocket.OPEN) throw new Error('not opened');\n\n  return this._socket.pause();\n};\n\n/**\n * Sends a ping\n *\n * @param {Object} data to be sent to the server\n * @param {Object} Members - mask: boolean, binary: boolean\n * @param {boolean} dontFailWhenClosed indicates whether or not to throw if the connection isnt open\n * @api public\n */\nWebSocket.prototype.ping = function ping(data, options, dontFailWhenClosed) {\n  if (this.readyState !== WebSocket.OPEN) {\n    if (dontFailWhenClosed === true) return;\n    throw new Error('not opened');\n  }\n\n  options = options || {};\n\n  if (typeof options.mask === 'undefined') options.mask = !this._isServer;\n\n  this._sender.ping(data, options);\n};\n\n/**\n * Sends a pong\n *\n * @param {Object} data to be sent to the server\n * @param {Object} Members - mask: boolean, binary: boolean\n * @param {boolean} dontFailWhenClosed indicates whether or not to throw if the connection isnt open\n * @api public\n */\nWebSocket.prototype.pong = function(data, options, dontFailWhenClosed) {\n  if (this.readyState !== WebSocket.OPEN) {\n    if (dontFailWhenClosed === true) return;\n    throw new Error('not opened');\n  }\n\n  options = options || {};\n\n  if (typeof options.mask === 'undefined') options.mask = !this._isServer;\n\n  this._sender.pong(data, options);\n};\n\n/**\n * Resume the client stream\n *\n * @api public\n */\nWebSocket.prototype.resume = function resume() {\n  if (this.readyState !== WebSocket.OPEN) throw new Error('not opened');\n\n  return this._socket.resume();\n};\n\n/**\n * Sends a piece of data\n *\n * @param {Object} data to be sent to the server\n * @param {Object} Members - mask: boolean, binary: boolean, compress: boolean\n * @param {function} Optional callback which is executed after the send completes\n * @api public\n */\n\nWebSocket.prototype.send = function send(data, options, cb) {\n  if (typeof options === 'function') {\n    cb = options;\n    options = {};\n  }\n\n  if (this.readyState !== WebSocket.OPEN) {\n    if (typeof cb === 'function') cb(new Error('not opened'));\n    else throw new Error('not opened');\n    return;\n  }\n\n  if (!data) data = '';\n  if (this._queue) {\n    var self = this;\n    this._queue.push(function() { self.send(data, options, cb); });\n    return;\n  }\n\n  options = options || {};\n  options.fin = true;\n\n  if (typeof options.binary === 'undefined') {\n    options.binary = (data instanceof ArrayBuffer || data instanceof Buffer ||\n      data instanceof Uint8Array ||\n      data instanceof Uint16Array ||\n      data instanceof Uint32Array ||\n      data instanceof Int8Array ||\n      data instanceof Int16Array ||\n      data instanceof Int32Array ||\n      data instanceof Float32Array ||\n      data instanceof Float64Array);\n  }\n\n  if (typeof options.mask === 'undefined') options.mask = !this._isServer;\n  if (typeof options.compress === 'undefined') options.compress = true;\n  if (!this.extensions[PerMessageDeflate.extensionName]) {\n    options.compress = false;\n  }\n\n  var readable = typeof stream.Readable === 'function'\n    ? stream.Readable\n    : stream.Stream;\n\n  if (data instanceof readable) {\n    startQueue(this);\n    var self = this;\n\n    sendStream(this, data, options, function send(error) {\n      process.nextTick(function tock() {\n        executeQueueSends(self);\n      });\n\n      if (typeof cb === 'function') cb(error);\n    });\n  } else {\n    this._sender.send(data, options, cb);\n  }\n};\n\n/**\n * Streams data through calls to a user supplied function\n *\n * @param {Object} Members - mask: boolean, binary: boolean, compress: boolean\n * @param {function} 'function (error, send)' which is executed on successive ticks of which send is 'function (data, final)'.\n * @api public\n */\nWebSocket.prototype.stream = function stream(options, cb) {\n  if (typeof options === 'function') {\n    cb = options;\n    options = {};\n  }\n\n  var self = this;\n\n  if (typeof cb !== 'function') throw new Error('callback must be provided');\n\n  if (this.readyState !== WebSocket.OPEN) {\n    if (typeof cb === 'function') cb(new Error('not opened'));\n    else throw new Error('not opened');\n    return;\n  }\n\n  if (this._queue) {\n    this._queue.push(function () { self.stream(options, cb); });\n    return;\n  }\n\n  options = options || {};\n\n  if (typeof options.mask === 'undefined') options.mask = !this._isServer;\n  if (typeof options.compress === 'undefined') options.compress = true;\n  if (!this.extensions[PerMessageDeflate.extensionName]) {\n    options.compress = false;\n  }\n\n  startQueue(this);\n\n  function send(data, final) {\n    try {\n      if (self.readyState !== WebSocket.OPEN) throw new Error('not opened');\n      options.fin = final === true;\n      self._sender.send(data, options);\n      if (!final) process.nextTick(cb.bind(null, null, send));\n      else executeQueueSends(self);\n    } catch (e) {\n      if (typeof cb === 'function') cb(e);\n      else {\n        delete self._queue;\n        self.emit('error', e);\n      }\n    }\n  }\n\n  process.nextTick(cb.bind(null, null, send));\n};\n\n/**\n * Immediately shuts down the connection\n *\n * @api public\n */\nWebSocket.prototype.terminate = function terminate() {\n  if (this.readyState === WebSocket.CLOSED) return;\n\n  if (this._socket) {\n    this.readyState = WebSocket.CLOSING;\n\n    // End the connection\n    try { this._socket.end(); }\n    catch (e) {\n      // Socket error during end() call, so just destroy it right now\n      cleanupWebsocketResources.call(this, true);\n      return;\n    }\n\n    // Add a timeout to ensure that the connection is completely\n    // cleaned up within 30 seconds, even if the clean close procedure\n    // fails for whatever reason\n    // First cleanup any pre-existing timeout from an earlier \"terminate\" call,\n    // if one exists.  Otherwise terminate calls in quick succession will leak timeouts\n    // and hold the program open for `closeTimout` time.\n    if (this._closeTimer) { clearTimeout(this._closeTimer); }\n    this._closeTimer = setTimeout(cleanupWebsocketResources.bind(this, true), closeTimeout);\n  } else if (this.readyState === WebSocket.CONNECTING) {\n    cleanupWebsocketResources.call(this, true);\n  }\n};\n\n/**\n * Expose bufferedAmount\n *\n * @api public\n */\nObject.defineProperty(WebSocket.prototype, 'bufferedAmount', {\n  get: function get() {\n    var amount = 0;\n    if (this._socket) {\n      amount = this._socket.bufferSize || 0;\n    }\n    return amount;\n  }\n});\n\n/**\n * Expose binaryType\n *\n * This deviates from the W3C interface since ws doesn't support the required\n * default \"blob\" type (instead we define a custom \"nodebuffer\" type).\n *\n * @see http://dev.w3.org/html5/websockets/#the-websocket-interface\n * @api public\n */\nObject.defineProperty(WebSocket.prototype, 'binaryType', {\n  get: function get() {\n    return this._binaryType;\n  },\n  set: function set(type) {\n    if (type === 'arraybuffer' || type === 'nodebuffer')\n      this._binaryType = type;\n    else\n      throw new SyntaxError('unsupported binaryType: must be either \"nodebuffer\" or \"arraybuffer\"');\n  }\n});\n\n/**\n * Emulates the W3C Browser based WebSocket interface using function members.\n *\n * @see http://dev.w3.org/html5/websockets/#the-websocket-interface\n * @api public\n */\n['open', 'error', 'close', 'message'].forEach(function(method) {\n  Object.defineProperty(WebSocket.prototype, 'on' + method, {\n    /**\n     * Returns the current listener\n     *\n     * @returns {Mixed} the set function or undefined\n     * @api public\n     */\n    get: function get() {\n      var listener = this.listeners(method)[0];\n      return listener ? (listener._listener ? listener._listener : listener) : undefined;\n    },\n\n    /**\n     * Start listening for events\n     *\n     * @param {Function} listener the listener\n     * @returns {Mixed} the set function or undefined\n     * @api public\n     */\n    set: function set(listener) {\n      this.removeAllListeners(method);\n      this.addEventListener(method, listener);\n    }\n  });\n});\n\n/**\n * Emulates the W3C Browser based WebSocket interface using addEventListener.\n *\n * @see https://developer.mozilla.org/en/DOM/element.addEventListener\n * @see http://dev.w3.org/html5/websockets/#the-websocket-interface\n * @api public\n */\nWebSocket.prototype.addEventListener = function(method, listener) {\n  var target = this;\n\n  function onMessage (data, flags) {\n    if (flags.binary && this.binaryType === 'arraybuffer')\n        data = new Uint8Array(data).buffer;\n    listener.call(target, new MessageEvent(data, !!flags.binary, target));\n  }\n\n  function onClose (code, message) {\n    listener.call(target, new CloseEvent(code, message, target));\n  }\n\n  function onError (event) {\n    event.type = 'error';\n    event.target = target;\n    listener.call(target, event);\n  }\n\n  function onOpen () {\n    listener.call(target, new OpenEvent(target));\n  }\n\n  if (typeof listener === 'function') {\n    if (method === 'message') {\n      // store a reference so we can return the original function from the\n      // addEventListener hook\n      onMessage._listener = listener;\n      this.on(method, onMessage);\n    } else if (method === 'close') {\n      // store a reference so we can return the original function from the\n      // addEventListener hook\n      onClose._listener = listener;\n      this.on(method, onClose);\n    } else if (method === 'error') {\n      // store a reference so we can return the original function from the\n      // addEventListener hook\n      onError._listener = listener;\n      this.on(method, onError);\n    } else if (method === 'open') {\n      // store a reference so we can return the original function from the\n      // addEventListener hook\n      onOpen._listener = listener;\n      this.on(method, onOpen);\n    } else {\n      this.on(method, listener);\n    }\n  }\n};\n\nmodule.exports = WebSocket;\nmodule.exports.buildHostHeader = buildHostHeader\n\n/**\n * W3C MessageEvent\n *\n * @see http://www.w3.org/TR/html5/comms.html\n * @constructor\n * @api private\n */\nfunction MessageEvent(dataArg, isBinary, target) {\n  this.type = 'message';\n  this.data = dataArg;\n  this.target = target;\n  this.binary = isBinary; // non-standard.\n}\n\n/**\n * W3C CloseEvent\n *\n * @see http://www.w3.org/TR/html5/comms.html\n * @constructor\n * @api private\n */\nfunction CloseEvent(code, reason, target) {\n  this.type = 'close';\n  this.wasClean = (typeof code === 'undefined' || code === 1000);\n  this.code = code;\n  this.reason = reason;\n  this.target = target;\n}\n\n/**\n * W3C OpenEvent\n *\n * @see http://www.w3.org/TR/html5/comms.html\n * @constructor\n * @api private\n */\nfunction OpenEvent(target) {\n  this.type = 'open';\n  this.target = target;\n}\n\n// Append port number to Host header, only if specified in the url\n// and non-default\nfunction buildHostHeader(isSecure, hostname, port) {\n  var headerHost = hostname;\n  if (hostname) {\n    if ((isSecure && (port != 443)) || (!isSecure && (port != 80))){\n      headerHost = headerHost + ':' + port;\n    }\n  }\n  return headerHost;\n}\n\n/**\n * Entirely private apis,\n * which may or may not be bound to a sepcific WebSocket instance.\n */\nfunction initAsServerClient(req, socket, upgradeHead, options) {\n  options = new Options({\n    protocolVersion: protocolVersion,\n    protocol: null,\n    extensions: {},\n    maxPayload: 0\n  }).merge(options);\n\n  // expose state properties\n  this.protocol = options.value.protocol;\n  this.protocolVersion = options.value.protocolVersion;\n  this.extensions = options.value.extensions;\n  this.supports.binary = (this.protocolVersion !== 'hixie-76');\n  this.upgradeReq = req;\n  this.readyState = WebSocket.CONNECTING;\n  this._isServer = true;\n  this.maxPayload = options.value.maxPayload;\n  // establish connection\n  if (options.value.protocolVersion === 'hixie-76') {\n    establishConnection.call(this, ReceiverHixie, SenderHixie, socket, upgradeHead);\n  } else {\n    establishConnection.call(this, Receiver, Sender, socket, upgradeHead);\n  }\n}\n\nfunction initAsClient(address, protocols, options) {\n  options = new Options({\n    origin: null,\n    protocolVersion: protocolVersion,\n    host: null,\n    headers: null,\n    protocol: protocols.join(','),\n    agent: null,\n\n    // ssl-related options\n    pfx: null,\n    key: null,\n    passphrase: null,\n    cert: null,\n    ca: null,\n    ciphers: null,\n    rejectUnauthorized: null,\n    perMessageDeflate: true,\n    localAddress: null\n  }).merge(options);\n\n  if (options.value.protocolVersion !== 8 && options.value.protocolVersion !== 13) {\n    throw new Error('unsupported protocol version');\n  }\n\n  // verify URL and establish http class\n  var serverUrl = url.parse(address);\n  var isUnixSocket = serverUrl.protocol === 'ws+unix:';\n  if (!serverUrl.host && !isUnixSocket) throw new Error('invalid url');\n  var isSecure = serverUrl.protocol === 'wss:' || serverUrl.protocol === 'https:';\n  var httpObj = isSecure ? https : http;\n  var port = serverUrl.port || (isSecure ? 443 : 80);\n  var auth = serverUrl.auth;\n\n  // prepare extensions\n  var extensionsOffer = {};\n  var perMessageDeflate;\n  if (options.value.perMessageDeflate) {\n    perMessageDeflate = new PerMessageDeflate(typeof options.value.perMessageDeflate !== true ? options.value.perMessageDeflate : {}, false);\n    extensionsOffer[PerMessageDeflate.extensionName] = perMessageDeflate.offer();\n  }\n\n  // expose state properties\n  this._isServer = false;\n  this.url = address;\n  this.protocolVersion = options.value.protocolVersion;\n  this.supports.binary = (this.protocolVersion !== 'hixie-76');\n\n  // begin handshake\n  var key = new Buffer(options.value.protocolVersion + '-' + Date.now()).toString('base64');\n  var shasum = crypto.createHash('sha1');\n  shasum.update(key + '258EAFA5-E914-47DA-95CA-C5AB0DC85B11');\n  var expectedServerKey = shasum.digest('base64');\n\n  var agent = options.value.agent;\n\n  var headerHost = buildHostHeader(isSecure, serverUrl.hostname, port)\n\n  var requestOptions = {\n    port: port,\n    host: serverUrl.hostname,\n    headers: {\n      'Connection': 'Upgrade',\n      'Upgrade': 'websocket',\n      'Host': headerHost,\n      'Sec-WebSocket-Version': options.value.protocolVersion,\n      'Sec-WebSocket-Key': key\n    }\n  };\n\n  // If we have basic auth.\n  if (auth) {\n    requestOptions.headers.Authorization = 'Basic ' + new Buffer(auth).toString('base64');\n  }\n\n  if (options.value.protocol) {\n    requestOptions.headers['Sec-WebSocket-Protocol'] = options.value.protocol;\n  }\n\n  if (options.value.host) {\n    requestOptions.headers.Host = options.value.host;\n  }\n\n  if (options.value.headers) {\n    for (var header in options.value.headers) {\n       if (options.value.headers.hasOwnProperty(header)) {\n        requestOptions.headers[header] = options.value.headers[header];\n       }\n    }\n  }\n\n  if (Object.keys(extensionsOffer).length) {\n    requestOptions.headers['Sec-WebSocket-Extensions'] = Extensions.format(extensionsOffer);\n  }\n\n  if (options.isDefinedAndNonNull('pfx')\n   || options.isDefinedAndNonNull('key')\n   || options.isDefinedAndNonNull('passphrase')\n   || options.isDefinedAndNonNull('cert')\n   || options.isDefinedAndNonNull('ca')\n   || options.isDefinedAndNonNull('ciphers')\n   || options.isDefinedAndNonNull('rejectUnauthorized')) {\n\n    if (options.isDefinedAndNonNull('pfx')) requestOptions.pfx = options.value.pfx;\n    if (options.isDefinedAndNonNull('key')) requestOptions.key = options.value.key;\n    if (options.isDefinedAndNonNull('passphrase')) requestOptions.passphrase = options.value.passphrase;\n    if (options.isDefinedAndNonNull('cert')) requestOptions.cert = options.value.cert;\n    if (options.isDefinedAndNonNull('ca')) requestOptions.ca = options.value.ca;\n    if (options.isDefinedAndNonNull('ciphers')) requestOptions.ciphers = options.value.ciphers;\n    if (options.isDefinedAndNonNull('rejectUnauthorized')) requestOptions.rejectUnauthorized = options.value.rejectUnauthorized;\n\n    if (!agent) {\n        // global agent ignores client side certificates\n        agent = new httpObj.Agent(requestOptions);\n    }\n  }\n\n  requestOptions.path = serverUrl.path || '/';\n\n  if (agent) {\n    requestOptions.agent = agent;\n  }\n\n  if (isUnixSocket) {\n    requestOptions.socketPath = serverUrl.pathname;\n  }\n\n  if (options.value.localAddress) {\n    requestOptions.localAddress = options.value.localAddress;\n  }\n\n  if (options.value.origin) {\n    if (options.value.protocolVersion < 13) requestOptions.headers['Sec-WebSocket-Origin'] = options.value.origin;\n    else requestOptions.headers.Origin = options.value.origin;\n  }\n\n  var self = this;\n  var req = httpObj.request(requestOptions);\n\n  req.on('error', function onerror(error) {\n    self.emit('error', error);\n    cleanupWebsocketResources.call(self, error);\n  });\n\n  req.once('response', function response(res) {\n    var error;\n\n    if (!self.emit('unexpected-response', req, res)) {\n      error = new Error('unexpected server response (' + res.statusCode + ')');\n      req.abort();\n      self.emit('error', error);\n    }\n\n    cleanupWebsocketResources.call(self, error);\n  });\n\n  req.once('upgrade', function upgrade(res, socket, upgradeHead) {\n    if (self.readyState === WebSocket.CLOSED) {\n      // client closed before server accepted connection\n      self.emit('close');\n      self.removeAllListeners();\n      socket.end();\n      return;\n    }\n\n    var serverKey = res.headers['sec-websocket-accept'];\n    if (typeof serverKey === 'undefined' || serverKey !== expectedServerKey) {\n      self.emit('error', 'invalid server key');\n      self.removeAllListeners();\n      socket.end();\n      return;\n    }\n\n    var serverProt = res.headers['sec-websocket-protocol'];\n    var protList = (options.value.protocol || \"\").split(/, */);\n    var protError = null;\n\n    if (!options.value.protocol && serverProt) {\n      protError = 'server sent a subprotocol even though none requested';\n    } else if (options.value.protocol && !serverProt) {\n      protError = 'server sent no subprotocol even though requested';\n    } else if (serverProt && protList.indexOf(serverProt) === -1) {\n      protError = 'server responded with an invalid protocol';\n    }\n\n    if (protError) {\n      self.emit('error', protError);\n      self.removeAllListeners();\n      socket.end();\n      return;\n    } else if (serverProt) {\n      self.protocol = serverProt;\n    }\n\n    var serverExtensions = Extensions.parse(res.headers['sec-websocket-extensions']);\n    if (perMessageDeflate && serverExtensions[PerMessageDeflate.extensionName]) {\n      try {\n        perMessageDeflate.accept(serverExtensions[PerMessageDeflate.extensionName]);\n      } catch (err) {\n        self.emit('error', 'invalid extension parameter');\n        self.removeAllListeners();\n        socket.end();\n        return;\n      }\n      self.extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n    }\n\n    establishConnection.call(self, Receiver, Sender, socket, upgradeHead);\n\n    // perform cleanup on http resources\n    req.removeAllListeners();\n    req = null;\n    agent = null;\n  });\n\n  req.end();\n  this.readyState = WebSocket.CONNECTING;\n}\n\nfunction establishConnection(ReceiverClass, SenderClass, socket, upgradeHead) {\n  var ultron = this._ultron = new Ultron(socket)\n    , called = false\n    , self = this;\n\n  socket.setTimeout(0);\n  socket.setNoDelay(true);\n\n  this._receiver = new ReceiverClass(this.extensions,this.maxPayload);\n  this._socket = socket;\n\n  // socket cleanup handlers\n  ultron.on('end', cleanupWebsocketResources.bind(this));\n  ultron.on('close', cleanupWebsocketResources.bind(this));\n  ultron.on('error', cleanupWebsocketResources.bind(this));\n\n  // ensure that the upgradeHead is added to the receiver\n  function firstHandler(data) {\n    if (called || self.readyState === WebSocket.CLOSED) return;\n\n    called = true;\n    socket.removeListener('data', firstHandler);\n    ultron.on('data', realHandler);\n\n    if (upgradeHead && upgradeHead.length > 0) {\n      realHandler(upgradeHead);\n      upgradeHead = null;\n    }\n\n    if (data) realHandler(data);\n  }\n\n  // subsequent packets are pushed straight to the receiver\n  function realHandler(data) {\n    self.bytesReceived += data.length;\n    self._receiver.add(data);\n  }\n\n  ultron.on('data', firstHandler);\n\n  // if data was passed along with the http upgrade,\n  // this will schedule a push of that on to the receiver.\n  // this has to be done on next tick, since the caller\n  // hasn't had a chance to set event handlers on this client\n  // object yet.\n  process.nextTick(firstHandler);\n\n  // receiver event handlers\n  self._receiver.ontext = function ontext(data, flags) {\n    flags = flags || {};\n\n    self.emit('message', data, flags);\n  };\n\n  self._receiver.onbinary = function onbinary(data, flags) {\n    flags = flags || {};\n\n    flags.binary = true;\n    self.emit('message', data, flags);\n  };\n\n  self._receiver.onping = function onping(data, flags) {\n    flags = flags || {};\n\n    self.pong(data, {\n      mask: !self._isServer,\n      binary: flags.binary === true\n    }, true);\n\n    self.emit('ping', data, flags);\n  };\n\n  self._receiver.onpong = function onpong(data, flags) {\n    self.emit('pong', data, flags || {});\n  };\n\n  self._receiver.onclose = function onclose(code, data, flags) {\n    flags = flags || {};\n\n    self._closeReceived = true;\n    self.close(code, data);\n  };\n\n  self._receiver.onerror = function onerror(reason, errorCode) {\n    // close the connection when the receiver reports a HyBi error code\n    self.close(typeof errorCode !== 'undefined' ? errorCode : 1002, '');\n    self.emit('error', (reason instanceof Error) ? reason : (new Error(reason)));\n  };\n\n  // finalize the client\n  this._sender = new SenderClass(socket, this.extensions);\n  this._sender.on('error', function onerror(error) {\n    self.close(1002, '');\n    self.emit('error', error);\n  });\n\n  this.readyState = WebSocket.OPEN;\n  this.emit('open');\n}\n\nfunction startQueue(instance) {\n  instance._queue = instance._queue || [];\n}\n\nfunction executeQueueSends(instance) {\n  var queue = instance._queue;\n  if (typeof queue === 'undefined') return;\n\n  delete instance._queue;\n  for (var i = 0, l = queue.length; i < l; ++i) {\n    queue[i]();\n  }\n}\n\nfunction sendStream(instance, stream, options, cb) {\n  stream.on('data', function incoming(data) {\n    if (instance.readyState !== WebSocket.OPEN) {\n      if (typeof cb === 'function') cb(new Error('not opened'));\n      else {\n        delete instance._queue;\n        instance.emit('error', new Error('not opened'));\n      }\n      return;\n    }\n\n    options.fin = false;\n    instance._sender.send(data, options);\n  });\n\n  stream.on('end', function end() {\n    if (instance.readyState !== WebSocket.OPEN) {\n      if (typeof cb === 'function') cb(new Error('not opened'));\n      else {\n        delete instance._queue;\n        instance.emit('error', new Error('not opened'));\n      }\n      return;\n    }\n\n    options.fin = true;\n    instance._sender.send(null, options);\n\n    if (typeof cb === 'function') cb(null);\n  });\n}\n\nfunction cleanupWebsocketResources(error) {\n  if (this.readyState === WebSocket.CLOSED) return;\n\n  this.readyState = WebSocket.CLOSED;\n\n  clearTimeout(this._closeTimer);\n  this._closeTimer = null;\n\n  // If the connection was closed abnormally (with an error), or if\n  // the close control frame was not received then the close code\n  // must default to 1006.\n  if (error || !this._closeReceived) {\n    this._closeCode = 1006;\n  }\n  this.emit('close', this._closeCode || 1000, this._closeMessage || '');\n\n  if (this._socket) {\n    if (this._ultron) this._ultron.destroy();\n    this._socket.on('error', function onerror() {\n      try { this.destroy(); }\n      catch (e) {}\n    });\n\n    try {\n      if (!error) this._socket.end();\n      else this._socket.destroy();\n    } catch (e) { /* Ignore termination errors */ }\n\n    this._socket = null;\n    this._ultron = null;\n  }\n\n  if (this._sender) {\n    this._sender.removeAllListeners();\n    this._sender = null;\n  }\n\n  if (this._receiver) {\n    this._receiver.cleanup();\n    this._receiver = null;\n  }\n\n  if (this.extensions[PerMessageDeflate.extensionName]) {\n    this.extensions[PerMessageDeflate.extensionName].cleanup();\n  }\n\n  this.extensions = null;\n\n  this.removeAllListeners();\n  this.on('error', function onerror() {}); // catch all errors after this\n  delete this._queue;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ws/lib/WebSocket.js\n// module id = 17\n// module chunks = 0","module.exports = require(\"crypto\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"crypto\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"url\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"url\"\n// module id = 20\n// module chunks = 0","import {EventEmitter} from 'events';\nimport Myo from './Myo.js';\nimport BaseConnection from './connection/BaseConnection.js';\nimport CircularBuffer from './CircularBuffer.js';\n\nexport default class Hub extends EventEmitter {\n    constructor(opt) {\n        super(opt);\n\n        this.connection = new BaseConnection(opt);\n        this.history = new CircularBuffer(200);\n\n        this.connection.connect();\n\n        this.connection.on('deviceInfo', () => {\n            this.myo = new Myo(this.connection);\n        });\n        this.connection.on('frame', (frame) => {\n            this.history.push(frame);\n            this.emit('frame', frame);\n        });\n        this.connection.on('pose', (pose) => {\n            this.emit('pose', pose);\n        });\n        this.connection.on('event', (event) => {\n            this.emit(event.type);\n        });\n        this.connection.on('ready', () => {\n            this.emit('ready');\n        });\n        this.connection.on('connect', () => {\n            this.emit('connect');\n        });\n        this.connection.on('disconnect', () => {\n            this.emit('disconnect');\n        });\n    }\n\n    /**\n     * Returns a frame of tracking data from the Myo.\n     *\n     * Use the optional history parameter to specify which frame to retrieve.\n     * Call frame() or frame(0) to access the most recent frame; call frame(1) to\n     * access the previous frame, and so on. If you use a history value greater\n     * than the number of stored frames, then the hub returns an invalid frame.\n     *\n     * @method frame\n     * @memberof Myo.hub.prototype\n     * @param {number} num The age of the frame to return, counting backwards from\n     * the most recent frame (0) into the past and up to the maximum age (59).\n     * @returns {Myo.Frame} The specified frame; or, if no history\n     * parameter is specified, the newest frame. If a frame is not available at\n     * the specified history position, an invalid Frame is returned.\n     **/\n    frame(num) {\n        return this.history.get(num) || null;\n    }\n\n    /**\n     * Find a nearby Myo and pair with it, or time out after timeoutMilliseconds milliseconds if provided.\n     *\n     * <p>If timeout_ms is zero, this method blocks until a Myo is found. This method must\n     * not be run concurrently with run() or runOnce().</p>\n     */\n    waitForMyo(timeoutMilliseconds) {\n        if (!timeoutMilliseconds || timeoutMilliseconds !== parseInt(timeoutMilliseconds, 10)) {\n            throw new Error('timeoutMilliseconds needs to be of type integer');\n        }\n        this.connection.send({\n            'waitForMyo': timeoutMilliseconds\n        });\n    }\n\n    /**\n     * Run the event loop for the specified duration (in milliseconds).\n     */\n    run(durationMilliseconds) {\n        if (!durationMilliseconds || durationMilliseconds !== parseInt(durationMilliseconds, 10)) {\n            throw new Error('durationMilliseconds needs to be of type integer');\n        }\n        this.connection.send({\n            'run': durationMilliseconds\n        });\n    }\n\n    /**\n     * Run the event loop until a single event occurs, or the specified\n     * duration (in milliseconds) has elapsed.\n     */\n    runOnce(durationMilliseconds) {\n        if (!durationMilliseconds || durationMilliseconds !== parseInt(durationMilliseconds, 10)) {\n            throw new Error('durationMilliseconds needs to be of type integer');\n        }\n        this.connection.send({\n            'runOnce': durationMilliseconds\n        });\n    }\n\n    /**\n     * Returns a string containing this hub in a human readable format.\n     * @return\n     *\n     */\n    toString() {\n        return `[Hub history: ${this.history}]`;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Hub.js","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * An auto incrementing id which we can use to create \"unique\" Ultron instances\n * so we can track the event emitters that are added through the Ultron\n * interface.\n *\n * @type {Number}\n * @private\n */\nvar id = 0;\n\n/**\n * Ultron is high-intelligence robot. It gathers intelligence so it can start improving\n * upon his rudimentary design. It will learn from your EventEmitting patterns\n * and exterminate them.\n *\n * @constructor\n * @param {EventEmitter} ee EventEmitter instance we need to wrap.\n * @api public\n */\nfunction Ultron(ee) {\n  if (!(this instanceof Ultron)) return new Ultron(ee);\n\n  this.id = id++;\n  this.ee = ee;\n}\n\n/**\n * Register a new EventListener for the given event.\n *\n * @param {String} event Name of the event.\n * @param {Functon} fn Callback function.\n * @param {Mixed} context The context of the function.\n * @returns {Ultron}\n * @api public\n */\nUltron.prototype.on = function on(event, fn, context) {\n  fn.__ultron = this.id;\n  this.ee.on(event, fn, context);\n\n  return this;\n};\n/**\n * Add an EventListener that's only called once.\n *\n * @param {String} event Name of the event.\n * @param {Function} fn Callback function.\n * @param {Mixed} context The context of the function.\n * @returns {Ultron}\n * @api public\n */\nUltron.prototype.once = function once(event, fn, context) {\n  fn.__ultron = this.id;\n  this.ee.once(event, fn, context);\n\n  return this;\n};\n\n/**\n * Remove the listeners we assigned for the given event.\n *\n * @returns {Ultron}\n * @api public\n */\nUltron.prototype.remove = function remove() {\n  var args = arguments\n    , event;\n\n  //\n  // When no event names are provided we assume that we need to clear all the\n  // events that were assigned through us.\n  //\n  if (args.length === 1 && 'string' === typeof args[0]) {\n    args = args[0].split(/[, ]+/);\n  } else if (!args.length) {\n    args = [];\n\n    for (event in this.ee._events) {\n      if (has.call(this.ee._events, event)) args.push(event);\n    }\n  }\n\n  for (var i = 0; i < args.length; i++) {\n    var listeners = this.ee.listeners(args[i]);\n\n    for (var j = 0; j < listeners.length; j++) {\n      event = listeners[j];\n\n      //\n      // Once listeners have a `listener` property that stores the real listener\n      // in the EventEmitter that ships with Node.js.\n      //\n      if (event.listener) {\n        if (event.listener.__ultron !== this.id) continue;\n        delete event.listener.__ultron;\n      } else {\n        if (event.__ultron !== this.id) continue;\n        delete event.__ultron;\n      }\n\n      this.ee.removeListener(args[i], event);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Destroy the Ultron instance, remove all listeners and release all references.\n *\n * @returns {Boolean}\n * @api public\n */\nUltron.prototype.destroy = function destroy() {\n  if (!this.ee) return false;\n\n  this.remove();\n  this.ee = null;\n\n  return true;\n};\n\n//\n// Expose the module.\n//\nmodule.exports = Ultron;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ultron/index.js\n// module id = 22\n// module chunks = 0","'use strict';\n\n/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\n\nvar WS = module.exports = require('./lib/WebSocket');\n\nWS.Server = require('./lib/WebSocketServer');\nWS.Sender = require('./lib/Sender');\nWS.Receiver = require('./lib/Receiver');\n\n/**\n * Create a new WebSocket server.\n *\n * @param {Object} options Server options\n * @param {Function} fn Optional connection listener.\n * @returns {WS.Server}\n * @api public\n */\nWS.createServer = function createServer(options, fn) {\n  var server = new WS.Server(options);\n\n  if (typeof fn === 'function') {\n    server.on('connection', fn);\n  }\n\n  return server;\n};\n\n/**\n * Create a new WebSocket connection.\n *\n * @param {String} address The URL/address we need to connect to.\n * @param {Function} fn Open listener.\n * @returns {WS}\n * @api public\n */\nWS.connect = WS.createConnection = function connect(address, fn) {\n  var client = new WS(address);\n\n  if (typeof fn === 'function') {\n    client.on('open', fn);\n  }\n\n  return client;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ws/index.js\n// module id = 23\n// module chunks = 0","/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\n\nvar util = require('util');\n\nfunction BufferPool(initialSize, growStrategy, shrinkStrategy) {\n  if (this instanceof BufferPool === false) {\n    throw new TypeError(\"Classes can't be function-called\");\n  }\n\n  if (typeof initialSize === 'function') {\n    shrinkStrategy = growStrategy;\n    growStrategy = initialSize;\n    initialSize = 0;\n  }\n  else if (typeof initialSize === 'undefined') {\n    initialSize = 0;\n  }\n  this._growStrategy = (growStrategy || function(db, size) {\n    return db.used + size;\n  }).bind(null, this);\n  this._shrinkStrategy = (shrinkStrategy || function(db) {\n    return initialSize;\n  }).bind(null, this);\n  this._buffer = initialSize ? new Buffer(initialSize) : null;\n  this._offset = 0;\n  this._used = 0;\n  this._changeFactor = 0;\n  this.__defineGetter__('size', function(){\n    return this._buffer == null ? 0 : this._buffer.length;\n  });\n  this.__defineGetter__('used', function(){\n    return this._used;\n  });\n}\n\nBufferPool.prototype.get = function(length) {\n  if (this._buffer == null || this._offset + length > this._buffer.length) {\n    var newBuf = new Buffer(this._growStrategy(length));\n    this._buffer = newBuf;\n    this._offset = 0;\n  }\n  this._used += length;\n  var buf = this._buffer.slice(this._offset, this._offset + length);\n  this._offset += length;\n  return buf;\n}\n\nBufferPool.prototype.reset = function(forceNewBuffer) {\n  var len = this._shrinkStrategy();\n  if (len < this.size) this._changeFactor -= 1;\n  if (forceNewBuffer || this._changeFactor < -2) {\n    this._changeFactor = 0;\n    this._buffer = len ? new Buffer(len) : null;\n  }\n  this._offset = 0;\n  this._used = 0;\n}\n\nmodule.exports = BufferPool;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ws/lib/BufferPool.js\n// module id = 24\n// module chunks = 0","/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\n\nexports.BufferUtil = {\n  merge: function(mergedBuffer, buffers) {\n    var offset = 0;\n    for (var i = 0, l = buffers.length; i < l; ++i) {\n      var buf = buffers[i];\n      buf.copy(mergedBuffer, offset);\n      offset += buf.length;\n    }\n  },\n  mask: function(source, mask, output, offset, length) {\n    var maskNum = mask.readUInt32LE(0, true);\n    var i = 0;\n    for (; i < length - 3; i += 4) {\n      var num = maskNum ^ source.readUInt32LE(i, true);\n      if (num < 0) num = 4294967296 + num;\n      output.writeUInt32LE(num, offset + i, true);\n    }\n    switch (length % 4) {\n      case 3: output[offset + i + 2] = source[i + 2] ^ mask[2];\n      case 2: output[offset + i + 1] = source[i + 1] ^ mask[1];\n      case 1: output[offset + i] = source[i] ^ mask[0];\n      case 0:;\n    }\n  },\n  unmask: function(data, mask) {\n    var maskNum = mask.readUInt32LE(0, true);\n    var length = data.length;\n    var i = 0;\n    for (; i < length - 3; i += 4) {\n      var num = maskNum ^ data.readUInt32LE(i, true);\n      if (num < 0) num = 4294967296 + num;\n      data.writeUInt32LE(num, i, true);\n    }\n    switch (length % 4) {\n      case 3: data[i + 2] = data[i + 2] ^ mask[2];\n      case 2: data[i + 1] = data[i + 1] ^ mask[1];\n      case 1: data[i] = data[i] ^ mask[0];\n      case 0:;\n    }\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ws/lib/BufferUtil.fallback.js\n// module id = 25\n// module chunks = 0","/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\n\nvar util = require('util');\n\n/**\n * State constants\n */\n\nvar EMPTY = 0\n  , BODY = 1;\nvar BINARYLENGTH = 2\n  , BINARYBODY = 3;\n\n/**\n * Hixie Receiver implementation\n */\n\nfunction Receiver () {\n  if (this instanceof Receiver === false) {\n    throw new TypeError(\"Classes can't be function-called\");\n  }\n\n  this.state = EMPTY;\n  this.buffers = [];\n  this.messageEnd = -1;\n  this.spanLength = 0;\n  this.dead = false;\n\n  this.onerror = function() {};\n  this.ontext = function() {};\n  this.onbinary = function() {};\n  this.onclose = function() {};\n  this.onping = function() {};\n  this.onpong = function() {};\n}\n\nmodule.exports = Receiver;\n\n/**\n * Add new data to the parser.\n *\n * @api public\n */\n\nReceiver.prototype.add = function(data) {\n  if (this.dead) return;\n  var self = this;\n  function doAdd() {\n    if (self.state === EMPTY) {\n      if (data.length == 2 && data[0] == 0xFF && data[1] == 0x00) {\n        self.reset();\n        self.onclose();\n        return;\n      }\n      if (data[0] === 0x80) {\n        self.messageEnd = 0;\n        self.state = BINARYLENGTH;\n        data = data.slice(1);\n      } else {\n\n      if (data[0] !== 0x00) {\n        self.error('payload must start with 0x00 byte', true);\n        return;\n      }\n      data = data.slice(1);\n      self.state = BODY;\n\n      }\n    }\n    if (self.state === BINARYLENGTH) {\n      var i = 0;\n      while ((i < data.length) && (data[i] & 0x80)) {\n        self.messageEnd = 128 * self.messageEnd + (data[i] & 0x7f);\n        ++i;\n      }\n      if (i < data.length) {\n        self.messageEnd = 128 * self.messageEnd + (data[i] & 0x7f);\n        self.state = BINARYBODY;\n        ++i;\n      }\n      if (i > 0)\n        data = data.slice(i);\n    }\n    if (self.state === BINARYBODY) {\n      var dataleft = self.messageEnd - self.spanLength;\n      if (data.length >= dataleft) {\n        // consume the whole buffer to finish the frame\n        self.buffers.push(data);\n        self.spanLength += dataleft;\n        self.messageEnd = dataleft;\n        return self.parse();\n      }\n      // frame's not done even if we consume it all\n      self.buffers.push(data);\n      self.spanLength += data.length;\n      return;\n    }\n    self.buffers.push(data);\n    if ((self.messageEnd = bufferIndex(data, 0xFF)) != -1) {\n      self.spanLength += self.messageEnd;\n      return self.parse();\n    }\n    else self.spanLength += data.length;\n  }\n  while(data) data = doAdd();\n};\n\n/**\n * Releases all resources used by the receiver.\n *\n * @api public\n */\n\nReceiver.prototype.cleanup = function() {\n  this.dead = true;\n  this.state = EMPTY;\n  this.buffers = [];\n};\n\n/**\n * Process buffered data.\n *\n * @api public\n */\n\nReceiver.prototype.parse = function() {\n  var output = new Buffer(this.spanLength);\n  var outputIndex = 0;\n  for (var bi = 0, bl = this.buffers.length; bi < bl - 1; ++bi) {\n    var buffer = this.buffers[bi];\n    buffer.copy(output, outputIndex);\n    outputIndex += buffer.length;\n  }\n  var lastBuffer = this.buffers[this.buffers.length - 1];\n  if (this.messageEnd > 0) lastBuffer.copy(output, outputIndex, 0, this.messageEnd);\n  if (this.state !== BODY) --this.messageEnd;\n  var tail = null;\n  if (this.messageEnd < lastBuffer.length - 1) {\n    tail = lastBuffer.slice(this.messageEnd + 1);\n  }\n  this.reset();\n  this.ontext(output.toString('utf8'));\n  return tail;\n};\n\n/**\n * Handles an error\n *\n * @api private\n */\n\nReceiver.prototype.error = function (reason, terminate) {\n  if (this.dead) return;\n  this.reset();\n  if(typeof reason == 'string'){\n    this.onerror(new Error(reason), terminate);\n  }\n  else if(reason.constructor == Error){\n    this.onerror(reason, terminate);\n  }\n  else{\n    this.onerror(new Error(\"An error occured\"),terminate);\n  }\n  return this;\n};\n\n/**\n * Reset parser state\n *\n * @api private\n */\n\nReceiver.prototype.reset = function (reason) {\n  if (this.dead) return;\n  this.state = EMPTY;\n  this.buffers = [];\n  this.messageEnd = -1;\n  this.spanLength = 0;\n};\n\n/**\n * Internal api\n */\n\nfunction bufferIndex(buffer, byte) {\n  for (var i = 0, l = buffer.length; i < l; ++i) {\n    if (buffer[i] === byte) return i;\n  }\n  return -1;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ws/lib/Receiver.hixie.js\n// module id = 26\n// module chunks = 0","/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\n\nvar events = require('events')\n  , util = require('util')\n  , EventEmitter = events.EventEmitter;\n\n/**\n * Hixie Sender implementation\n */\n\nfunction Sender(socket) {\n  if (this instanceof Sender === false) {\n    throw new TypeError(\"Classes can't be function-called\");\n  }\n\n  events.EventEmitter.call(this);\n\n  this.socket = socket;\n  this.continuationFrame = false;\n  this.isClosed = false;\n}\n\nmodule.exports = Sender;\n\n/**\n * Inherits from EventEmitter.\n */\n\nutil.inherits(Sender, events.EventEmitter);\n\n/**\n * Frames and writes data.\n *\n * @api public\n */\n\nSender.prototype.send = function(data, options, cb) {\n  if (this.isClosed) return;\n\n  var isString = typeof data == 'string'\n    , length = isString ? Buffer.byteLength(data) : data.length\n    , lengthbytes = (length > 127) ? 2 : 1 // assume less than 2**14 bytes\n    , writeStartMarker = this.continuationFrame == false\n    , writeEndMarker = !options || !(typeof options.fin != 'undefined' && !options.fin)\n    , buffer = new Buffer((writeStartMarker ? ((options && options.binary) ? (1 + lengthbytes) : 1) : 0) + length + ((writeEndMarker && !(options && options.binary)) ? 1 : 0))\n    , offset = writeStartMarker ? 1 : 0;\n\n  if (writeStartMarker) {\n    if (options && options.binary) {\n      buffer.write('\\x80', 'binary');\n      // assume length less than 2**14 bytes\n      if (lengthbytes > 1)\n        buffer.write(String.fromCharCode(128+length/128), offset++, 'binary');\n      buffer.write(String.fromCharCode(length&0x7f), offset++, 'binary');\n    } else\n      buffer.write('\\x00', 'binary');\n  }\n\n  if (isString) buffer.write(data, offset, 'utf8');\n  else data.copy(buffer, offset, 0);\n\n  if (writeEndMarker) {\n    if (options && options.binary) {\n      // sending binary, not writing end marker\n    } else\n      buffer.write('\\xff', offset + length, 'binary');\n    this.continuationFrame = false;\n  }\n  else this.continuationFrame = true;\n\n  try {\n    this.socket.write(buffer, 'binary', cb);\n  } catch (e) {\n    this.error(e.toString());\n  }\n};\n\n/**\n * Sends a close instruction to the remote party.\n *\n * @api public\n */\n\nSender.prototype.close = function(code, data, mask, cb) {\n  if (this.isClosed) return;\n  this.isClosed = true;\n  try {\n    if (this.continuationFrame) this.socket.write(new Buffer([0xff], 'binary'));\n    this.socket.write(new Buffer([0xff, 0x00]), 'binary', cb);\n  } catch (e) {\n    this.error(e.toString());\n  }\n};\n\n/**\n * Sends a ping message to the remote party. Not available for hixie.\n *\n * @api public\n */\n\nSender.prototype.ping = function(data, options) {};\n\n/**\n * Sends a pong message to the remote party. Not available for hixie.\n *\n * @api public\n */\n\nSender.prototype.pong = function(data, options) {};\n\n/**\n * Handles an error\n *\n * @api private\n */\n\nSender.prototype.error = function (reason) {\n  this.emit('error', reason);\n  return this;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ws/lib/Sender.hixie.js\n// module id = 27\n// module chunks = 0","/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\n\nexports.Validation = {\n  isValidUTF8: function(buffer) {\n    return true;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ws/lib/Validation.fallback.js\n// module id = 28\n// module chunks = 0","'use strict';\n\n/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\n\ntry {\n  module.exports = require('utf-8-validate');\n} catch (e) {\n  module.exports = require('./Validation.fallback');\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ws/lib/Validation.js\n// module id = 29\n// module chunks = 0","/*!\n * ws: a node.js websocket client\n * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>\n * MIT Licensed\n */\n\nvar util = require('util')\n  , events = require('events')\n  , http = require('http')\n  , crypto = require('crypto')\n  , Options = require('options')\n  , WebSocket = require('./WebSocket')\n  , Extensions = require('./Extensions')\n  , PerMessageDeflate = require('./PerMessageDeflate')\n  , tls = require('tls')\n  , url = require('url');\n\n/**\n * WebSocket Server implementation\n */\n\nfunction WebSocketServer(options, callback) {\n  if (this instanceof WebSocketServer === false) {\n    return new WebSocketServer(options, callback);\n  }\n\n  events.EventEmitter.call(this);\n\n  options = new Options({\n    host: '0.0.0.0',\n    port: null,\n    server: null,\n    verifyClient: null,\n    handleProtocols: null,\n    path: null,\n    noServer: false,\n    disableHixie: false,\n    clientTracking: true,\n    perMessageDeflate: true,\n    maxPayload: 100 * 1024 * 1024\n  }).merge(options);\n\n  if (!options.isDefinedAndNonNull('port') && !options.isDefinedAndNonNull('server') && !options.value.noServer) {\n    throw new TypeError('`port` or a `server` must be provided');\n  }\n\n  var self = this;\n\n  if (options.isDefinedAndNonNull('port')) {\n    this._server = http.createServer(function (req, res) {\n      var body = http.STATUS_CODES[426];\n      res.writeHead(426, {\n        'Content-Length': body.length,\n        'Content-Type': 'text/plain'\n      });\n      res.end(body);\n    });\n    this._server.allowHalfOpen = false;\n    this._server.listen(options.value.port, options.value.host, callback);\n    this._closeServer = function() { if (self._server) self._server.close(); };\n  }\n  else if (options.value.server) {\n    this._server = options.value.server;\n    if (options.value.path) {\n      // take note of the path, to avoid collisions when multiple websocket servers are\n      // listening on the same http server\n      if (this._server._webSocketPaths && options.value.server._webSocketPaths[options.value.path]) {\n        throw new Error('two instances of WebSocketServer cannot listen on the same http server path');\n      }\n      if (typeof this._server._webSocketPaths !== 'object') {\n        this._server._webSocketPaths = {};\n      }\n      this._server._webSocketPaths[options.value.path] = 1;\n    }\n  }\n  if (this._server) {\n    this._onceServerListening = function() { self.emit('listening'); };\n    this._server.once('listening', this._onceServerListening);\n  }\n\n  if (typeof this._server != 'undefined') {\n    this._onServerError = function(error) { self.emit('error', error) };\n    this._server.on('error', this._onServerError);\n    this._onServerUpgrade = function(req, socket, upgradeHead) {\n      //copy upgradeHead to avoid retention of large slab buffers used in node core\n      var head = new Buffer(upgradeHead.length);\n      upgradeHead.copy(head);\n\n      self.handleUpgrade(req, socket, head, function(client) {\n        self.emit('connection'+req.url, client);\n        self.emit('connection', client);\n      });\n    };\n    this._server.on('upgrade', this._onServerUpgrade);\n  }\n\n  this.options = options.value;\n  this.path = options.value.path;\n  this.clients = [];\n}\n\n/**\n * Inherits from EventEmitter.\n */\n\nutil.inherits(WebSocketServer, events.EventEmitter);\n\n/**\n * Immediately shuts down the connection.\n *\n * @api public\n */\n\nWebSocketServer.prototype.close = function(callback) {\n  // terminate all associated clients\n  var error = null;\n  try {\n    for (var i = 0, l = this.clients.length; i < l; ++i) {\n      this.clients[i].terminate();\n    }\n  }\n  catch (e) {\n    error = e;\n  }\n\n  // remove path descriptor, if any\n  if (this.path && this._server._webSocketPaths) {\n    delete this._server._webSocketPaths[this.path];\n    if (Object.keys(this._server._webSocketPaths).length == 0) {\n      delete this._server._webSocketPaths;\n    }\n  }\n\n  // close the http server if it was internally created\n  try {\n    if (typeof this._closeServer !== 'undefined') {\n      this._closeServer();\n    }\n  }\n  finally {\n    if (this._server) {\n      this._server.removeListener('listening', this._onceServerListening);\n      this._server.removeListener('error', this._onServerError);\n      this._server.removeListener('upgrade', this._onServerUpgrade);\n    }\n    delete this._server;\n  }\n  if(callback)\n    callback(error);\n  else if(error)\n    throw error;\n}\n\n/**\n * Handle a HTTP Upgrade request.\n *\n * @api public\n */\n\nWebSocketServer.prototype.handleUpgrade = function(req, socket, upgradeHead, cb) {\n  // check for wrong path\n  if (this.options.path) {\n    var u = url.parse(req.url);\n    if (u && u.pathname !== this.options.path) return;\n  }\n\n  if (typeof req.headers.upgrade === 'undefined' || req.headers.upgrade.toLowerCase() !== 'websocket') {\n    abortConnection(socket, 400, 'Bad Request');\n    return;\n  }\n\n  if (req.headers['sec-websocket-key1']) handleHixieUpgrade.apply(this, arguments);\n  else handleHybiUpgrade.apply(this, arguments);\n}\n\nmodule.exports = WebSocketServer;\n\n/**\n * Entirely private apis,\n * which may or may not be bound to a sepcific WebSocket instance.\n */\n\nfunction handleHybiUpgrade(req, socket, upgradeHead, cb) {\n  // handle premature socket errors\n  var errorHandler = function() {\n    try { socket.destroy(); } catch (e) {}\n  }\n  socket.on('error', errorHandler);\n\n  // verify key presence\n  if (!req.headers['sec-websocket-key']) {\n    abortConnection(socket, 400, 'Bad Request');\n    return;\n  }\n\n  // verify version\n  var version = parseInt(req.headers['sec-websocket-version']);\n  if ([8, 13].indexOf(version) === -1) {\n    abortConnection(socket, 400, 'Bad Request');\n    return;\n  }\n\n  // verify protocol\n  var protocols = req.headers['sec-websocket-protocol'];\n\n  // verify client\n  var origin = version < 13 ?\n    req.headers['sec-websocket-origin'] :\n    req.headers['origin'];\n\n  // handle extensions offer\n  var extensionsOffer = Extensions.parse(req.headers['sec-websocket-extensions']);\n\n  // handler to call when the connection sequence completes\n  var self = this;\n  var completeHybiUpgrade2 = function(protocol) {\n\n    // calc key\n    var key = req.headers['sec-websocket-key'];\n    var shasum = crypto.createHash('sha1');\n    shasum.update(key + \"258EAFA5-E914-47DA-95CA-C5AB0DC85B11\");\n    key = shasum.digest('base64');\n\n    var headers = [\n        'HTTP/1.1 101 Switching Protocols'\n      , 'Upgrade: websocket'\n      , 'Connection: Upgrade'\n      , 'Sec-WebSocket-Accept: ' + key\n    ];\n\n    if (typeof protocol != 'undefined') {\n      headers.push('Sec-WebSocket-Protocol: ' + protocol);\n    }\n\n    var extensions = {};\n    try {\n      extensions = acceptExtensions.call(self, extensionsOffer);\n    } catch (err) {\n      abortConnection(socket, 400, 'Bad Request');\n      return;\n    }\n\n    if (Object.keys(extensions).length) {\n      var serverExtensions = {};\n      Object.keys(extensions).forEach(function(token) {\n        serverExtensions[token] = [extensions[token].params]\n      });\n      headers.push('Sec-WebSocket-Extensions: ' + Extensions.format(serverExtensions));\n    }\n\n    // allows external modification/inspection of handshake headers\n    self.emit('headers', headers);\n\n    socket.setTimeout(0);\n    socket.setNoDelay(true);\n    try {\n      socket.write(headers.concat('', '').join('\\r\\n'));\n    }\n    catch (e) {\n      // if the upgrade write fails, shut the connection down hard\n      try { socket.destroy(); } catch (e) {}\n      return;\n    }\n\n    var client = new WebSocket([req, socket, upgradeHead], {\n      protocolVersion: version,\n      protocol: protocol,\n      extensions: extensions,\n      maxPayload: self.options.maxPayload\n    });\n\n    if (self.options.clientTracking) {\n      self.clients.push(client);\n      client.on('close', function() {\n        var index = self.clients.indexOf(client);\n        if (index != -1) {\n          self.clients.splice(index, 1);\n        }\n      });\n    }\n\n    // signal upgrade complete\n    socket.removeListener('error', errorHandler);\n    cb(client);\n  }\n\n  // optionally call external protocol selection handler before\n  // calling completeHybiUpgrade2\n  var completeHybiUpgrade1 = function() {\n    // choose from the sub-protocols\n    if (typeof self.options.handleProtocols == 'function') {\n        var protList = (protocols || \"\").split(/, */);\n        var callbackCalled = false;\n        var res = self.options.handleProtocols(protList, function(result, protocol) {\n          callbackCalled = true;\n          if (!result) abortConnection(socket, 401, 'Unauthorized');\n          else completeHybiUpgrade2(protocol);\n        });\n        if (!callbackCalled) {\n            // the handleProtocols handler never called our callback\n            abortConnection(socket, 501, 'Could not process protocols');\n        }\n        return;\n    } else {\n        if (typeof protocols !== 'undefined') {\n            completeHybiUpgrade2(protocols.split(/, */)[0]);\n        }\n        else {\n            completeHybiUpgrade2();\n        }\n    }\n  }\n\n  // optionally call external client verification handler\n  if (typeof this.options.verifyClient == 'function') {\n    var info = {\n      origin: origin,\n      secure: typeof req.connection.authorized !== 'undefined' || typeof req.connection.encrypted !== 'undefined',\n      req: req\n    };\n    if (this.options.verifyClient.length == 2) {\n      this.options.verifyClient(info, function(result, code, name) {\n        if (typeof code === 'undefined') code = 401;\n        if (typeof name === 'undefined') name = http.STATUS_CODES[code];\n\n        if (!result) abortConnection(socket, code, name);\n        else completeHybiUpgrade1();\n      });\n      return;\n    }\n    else if (!this.options.verifyClient(info)) {\n      abortConnection(socket, 401, 'Unauthorized');\n      return;\n    }\n  }\n\n  completeHybiUpgrade1();\n}\n\nfunction handleHixieUpgrade(req, socket, upgradeHead, cb) {\n  // handle premature socket errors\n  var errorHandler = function() {\n    try { socket.destroy(); } catch (e) {}\n  }\n  socket.on('error', errorHandler);\n\n  // bail if options prevent hixie\n  if (this.options.disableHixie) {\n    abortConnection(socket, 401, 'Hixie support disabled');\n    return;\n  }\n\n  // verify key presence\n  if (!req.headers['sec-websocket-key2']) {\n    abortConnection(socket, 400, 'Bad Request');\n    return;\n  }\n\n  var origin = req.headers['origin']\n    , self = this;\n\n  // setup handshake completion to run after client has been verified\n  var onClientVerified = function() {\n    var wshost;\n    if (!req.headers['x-forwarded-host'])\n        wshost = req.headers.host;\n    else\n        wshost = req.headers['x-forwarded-host'];\n    var location = ((req.headers['x-forwarded-proto'] === 'https' || socket.encrypted) ? 'wss' : 'ws') + '://' + wshost + req.url\n      , protocol = req.headers['sec-websocket-protocol'];\n\n    // build the response header and return a Buffer\n    var buildResponseHeader = function() {\n      var headers = [\n          'HTTP/1.1 101 Switching Protocols'\n        , 'Upgrade: WebSocket'\n        , 'Connection: Upgrade'\n        , 'Sec-WebSocket-Location: ' + location\n      ];\n      if (typeof protocol != 'undefined') headers.push('Sec-WebSocket-Protocol: ' + protocol);\n      if (typeof origin != 'undefined') headers.push('Sec-WebSocket-Origin: ' + origin);\n\n      return new Buffer(headers.concat('', '').join('\\r\\n'));\n    };\n\n    // send handshake response before receiving the nonce\n    var handshakeResponse = function() {\n\n      socket.setTimeout(0);\n      socket.setNoDelay(true);\n\n      var headerBuffer = buildResponseHeader();\n\n      try {\n        socket.write(headerBuffer, 'binary', function(err) {\n          // remove listener if there was an error\n          if (err) socket.removeListener('data', handler);\n          return;\n        });\n      } catch (e) {\n        try { socket.destroy(); } catch (e) {}\n        return;\n      };\n    };\n\n    // handshake completion code to run once nonce has been successfully retrieved\n    var completeHandshake = function(nonce, rest, headerBuffer) {\n      // calculate key\n      var k1 = req.headers['sec-websocket-key1']\n        , k2 = req.headers['sec-websocket-key2']\n        , md5 = crypto.createHash('md5');\n\n      [k1, k2].forEach(function (k) {\n        var n = parseInt(k.replace(/[^\\d]/g, ''))\n          , spaces = k.replace(/[^ ]/g, '').length;\n        if (spaces === 0 || n % spaces !== 0){\n          abortConnection(socket, 400, 'Bad Request');\n          return;\n        }\n        n /= spaces;\n        md5.update(String.fromCharCode(\n          n >> 24 & 0xFF,\n          n >> 16 & 0xFF,\n          n >> 8  & 0xFF,\n          n       & 0xFF));\n      });\n      md5.update(nonce.toString('binary'));\n\n      socket.setTimeout(0);\n      socket.setNoDelay(true);\n\n      try {\n        var hashBuffer = new Buffer(md5.digest('binary'), 'binary');\n        var handshakeBuffer = new Buffer(headerBuffer.length + hashBuffer.length);\n        headerBuffer.copy(handshakeBuffer, 0);\n        hashBuffer.copy(handshakeBuffer, headerBuffer.length);\n\n        // do a single write, which - upon success - causes a new client websocket to be setup\n        socket.write(handshakeBuffer, 'binary', function(err) {\n          if (err) return; // do not create client if an error happens\n          var client = new WebSocket([req, socket, rest], {\n            protocolVersion: 'hixie-76',\n            protocol: protocol\n          });\n          if (self.options.clientTracking) {\n            self.clients.push(client);\n            client.on('close', function() {\n              var index = self.clients.indexOf(client);\n              if (index != -1) {\n                self.clients.splice(index, 1);\n              }\n            });\n          }\n\n          // signal upgrade complete\n          socket.removeListener('error', errorHandler);\n          cb(client);\n        });\n      }\n      catch (e) {\n        try { socket.destroy(); } catch (e) {}\n        return;\n      }\n    }\n\n    // retrieve nonce\n    var nonceLength = 8;\n    if (upgradeHead && upgradeHead.length >= nonceLength) {\n      var nonce = upgradeHead.slice(0, nonceLength);\n      var rest = upgradeHead.length > nonceLength ? upgradeHead.slice(nonceLength) : null;\n      completeHandshake.call(self, nonce, rest, buildResponseHeader());\n    }\n    else {\n      // nonce not present in upgradeHead\n      var nonce = new Buffer(nonceLength);\n      upgradeHead.copy(nonce, 0);\n      var received = upgradeHead.length;\n      var rest = null;\n      var handler = function (data) {\n        var toRead = Math.min(data.length, nonceLength - received);\n        if (toRead === 0) return;\n        data.copy(nonce, received, 0, toRead);\n        received += toRead;\n        if (received == nonceLength) {\n          socket.removeListener('data', handler);\n          if (toRead < data.length) rest = data.slice(toRead);\n\n          // complete the handshake but send empty buffer for headers since they have already been sent\n          completeHandshake.call(self, nonce, rest, new Buffer(0));\n        }\n      }\n\n      // handle additional data as we receive it\n      socket.on('data', handler);\n\n      // send header response before we have the nonce to fix haproxy buffering\n      handshakeResponse();\n    }\n  }\n\n  // verify client\n  if (typeof this.options.verifyClient == 'function') {\n    var info = {\n      origin: origin,\n      secure: typeof req.connection.authorized !== 'undefined' || typeof req.connection.encrypted !== 'undefined',\n      req: req\n    };\n    if (this.options.verifyClient.length == 2) {\n      var self = this;\n      this.options.verifyClient(info, function(result, code, name) {\n        if (typeof code === 'undefined') code = 401;\n        if (typeof name === 'undefined') name = http.STATUS_CODES[code];\n\n        if (!result) abortConnection(socket, code, name);\n        else onClientVerified.apply(self);\n      });\n      return;\n    }\n    else if (!this.options.verifyClient(info)) {\n      abortConnection(socket, 401, 'Unauthorized');\n      return;\n    }\n  }\n\n  // no client verification required\n  onClientVerified();\n}\n\nfunction acceptExtensions(offer) {\n  var extensions = {};\n  var options = this.options.perMessageDeflate;\n  var maxPayload = this.options.maxPayload;\n  if (options && offer[PerMessageDeflate.extensionName]) {\n    var perMessageDeflate = new PerMessageDeflate(options !== true ? options : {}, true, maxPayload);\n    perMessageDeflate.accept(offer[PerMessageDeflate.extensionName]);\n    extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n  }\n  return extensions;\n}\n\nfunction abortConnection(socket, code, name) {\n  try {\n    var response = [\n      'HTTP/1.1 ' + code + ' ' + name,\n      'Content-type: text/html'\n    ];\n    socket.write(response.concat('', '').join('\\r\\n'));\n  }\n  catch (e) { /* ignore errors - we've aborted this connection */ }\n  finally {\n    // ensure that an early aborted connection is shut down completely\n    try { socket.destroy(); } catch (e) {}\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ws/lib/WebSocketServer.js\n// module id = 30\n// module chunks = 0","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 31\n// module chunks = 0","module.exports = require(\"https\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"https\"\n// module id = 32\n// module chunks = 0","module.exports = require(\"stream\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"stream\"\n// module id = 33\n// module chunks = 0","module.exports = require(\"tls\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"tls\"\n// module id = 34\n// module chunks = 0","module.exports = require(\"zlib\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"zlib\"\n// module id = 35\n// module chunks = 0"],"sourceRoot":""}